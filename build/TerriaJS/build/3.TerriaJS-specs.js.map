{"version":3,"sources":["webpack:///./node_modules/tinymce/icons/default/index.js","webpack:///./node_modules/tinymce/icons/default/icons.js","webpack:///./node_modules/tinymce/themes/silver/index.js","webpack:///./node_modules/tinymce/themes/silver/theme.js","webpack:///./node_modules/tinymce/models/dom/index.js","webpack:///./node_modules/tinymce/models/dom/model.js","webpack:///./node_modules/tinymce/plugins/media/index.js","webpack:///./node_modules/tinymce/plugins/media/plugin.js","webpack:///./node_modules/tinymce/plugins/image/index.js","webpack:///./node_modules/tinymce/plugins/image/plugin.js","webpack:///./node_modules/tinymce/plugins/link/index.js","webpack:///./node_modules/tinymce/plugins/link/plugin.js","webpack:///./node_modules/tinymce/plugins/lists/index.js","webpack:///./node_modules/tinymce/plugins/lists/plugin.js","webpack:///./node_modules/tinymce/plugins/table/index.js","webpack:///./node_modules/tinymce/plugins/table/plugin.js","webpack:///./node_modules/tinymce/plugins/autolink/index.js","webpack:///./node_modules/tinymce/plugins/autolink/plugin.js","webpack:///./node_modules/tinymce/skins/content/default/content.min.css","webpack:///./node_modules/tinymce/skins/ui/oxide/content.min.css","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader2.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js"],"names":["tinymce","IconManager","add","icons","getPrototypeOf$2","Object","getPrototypeOf","hasProto","v","constructor","predicate","_a","prototype","name","isType$1","type","value","x","t","Array","isArray","String","o","proto","isPrototypeOf","typeOf","isSimpleType","eq$1","a","isString","isObject","isPlainObject","is$2","isNull","isBoolean","isUndefined","undefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","noarg","f","compose","fa","fb","args","apply","constant$1","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","die","msg","Error","apply$1","never","always","Optional","tag","this","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","bind","binder","exists","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","from","getOrNull","getOrUndefined","each","worker","toArray","toString","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","rawIndexOf","ts","call","contains$2","xs","range$2","num","r","chunk$1","array","size","s","map$2","each$1","partition$3","pass","fail","filter$2","foldr","acc","eachr","foldl","find$5","until","findUntil","findIndex$1","flatten","bind$3","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$i","head","last$1","findMap","arr","keys","hasOwnProperty","obj","props","k","map$1","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","filter$1","mapToArray","find$4","values","get$h","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","cat","lift2","oa","ob","mapFrom","someIf","checkRange","str","substr","start","removeLeading","prefix","startsWith","numChars","substring","removeFromStart","contains$1","end","idx","endsWith","suffix","trim$1","replace","blank","isNotEmpty","isEmpty","isSupported$1","dom","style","getPropertyValue","fromDom","node","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","Global","window","Function","resolve","p","parts","path$1","split","getOrDie$1","actual","unsafe","getPrototypeOf$1","sandHTMLElement","test","name$3","element","nodeName","toLowerCase","isType","nodeType","type$1","isHTMLElement","isElement$1","isText","isDocument","isDocumentFragment","isTag","e","is","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","one","base","querySelector","eq","e1","e2","contains","d1","d2","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","parentElement","offsetParent","children","child$2","index","cs","firstChild","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","Node","getRootNode","isSupported","getContentContainer","body","getShadowRoot","getShadowHost","isOpenShadowHost","shadowRoot","inBody","doc","fbc","fab","getBody","rawSet","setAttribute","set$9","setAll$1","attrs","get$g","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","internalSet","property","setProperty","internalRemove","removeProperty","set$8","setAll","css","setOptions","get$f","getComputedStyle","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","item","isValidValue$1","remove$6","reflow","offsetWidth","Dimension","getOffset","get","parseFloat","aggregate","properties","val","parseInt","isNaN","set","h","match","getOuter","max","cumulativeInclusions","api$2","getBoundingClientRect","height","offsetHeight","get$e","getOuter$2","r$1","top","translate","SugarPosition","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","box","boxPosition","api$1","get$d","getOuter$1","cached","called","unknown$3","nu$d","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","group","Number","find$3","unknown","detect$3","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","target","uastring","browsers","brand","oses","PlatformInfo","edge","chromium","opera","firefox","safari","nu$c","info","current","version","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","isSafari","Browser","ie","windows","android","linux","macos","solaris","freebsd","chromeos","nu$b","isOS","isWindows","isiOS","isAndroid","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","PlatformDetection","userAgentDataOpt","mediaMatch","browser","userAgentData","brands","uaBrand","lcBrand","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","platform","navigator","detect$1","fromRawEvent$1","rawEvent","event","el","composed","composedPath","getOriginalEventTarget","stop","stopPropagation","prevent","preventDefault","kill","mkEvent","clientX","clientY","handler","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","before$1","marker","insertBefore","after$2","sibling","nextSibling","append$2","prepend$1","appendChild","append$1","elements","empty","textContent","rogue","remove$5","removeChild","get$c","_DOC","to","scrollTo","bounds$1","width","right","bottom","getBounds$3","_win","scroll","visualViewport","get$b","clientWidth","clientHeight","Math","pageLeft","pageTop","getDocument","walkUp","navigation","view","owner","rest","Navigation","freeze","__proto__","frameElement","find$2","path","d","paths","pathTo","frames","loc","bounds","box$1","xy","w","absolute$2","position","constrain","original","constraint","min","Cell","initial","singleton$1","doRevoke","subject","revoke","clear","isSet","unbindable","value$4","on","global$a","util","Tools","value$3","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","error$1","onError","_onValue","fromOption","optional","err","SimpleResultType","fold$1","res","stype","serror","svalue","Value","SimpleResult","results","errors","field$2","newKey","presence","prop","ifField","ifCustom","instantiator","baseMerge","merger","objects","ret","j","curObject","deepMerge","old","merge$1","defaultedThunk","fallbackThunk","process","defaulted$1","fallback","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","input","JSON","stringify","nu$a","getErrorInfo","value$2","validator","extract","custom","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","result","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","objOfOnly","fields","delegate","objOf","fieldNames","extra","unsupported","join","unsupportedFields","success","extractFields","fieldStrings","_okey","_presence","_instantiator","arrOf","oneOf","rawF","setOf$1","keys$1","validatedKeys","validateKeys","validKeys","schema","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","branches","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","label","errs","extractValue","extraction","errInfo","formatError","asRawOrDie$1","es","formatErrors","choose$1","thunkOf","desc","_desc","processor","getP","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","Adt","cases","constructors","adt","acase","count","argLength","foldArgs","branchKeys","reqKey","log","params","bothErrors","firstError","secondError","bothValues","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","partition$1","mergeValues","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","fuse$1","handlers","all$2","any","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","externalElementScroll","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","dispatchEvent","derive$2","configs","run$1","runActionExtra","action","runOnSourceName","redirectToPart","detail","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","cleanParameters","parameters","markAsExtraApi","extraName","endIndex","openBracketIndex","toFunctionAnnotation","nu$8","classes","attributes","styles","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiFunction","apiName","markAsBehaviourApi","config","state","revokeBehaviour","doCreate","configSchema","schemaSchema","active","apis","getConfig","wrappedApis","apiF","me","extraF","spec","prepared","configAsRaw","initialConfig","exhibit","behaviourInfo","exhibitor","getEvents","NoState","init","nu$7","readState","derive$1","capabilities","simpleSchema","create$4","create$5","modeSchema","createModes","modes","createModes$1","branchKey","read$1","attr","supports","classList","get$a","add$3","clazz","id","add$4","remove$3","remove$4","add$2","cleanClass","remove$2","remove","toggle$4","toggle","toggle$5","has","add$1","remove$1","get$9","getNative","NuPositionCss","toPx","applyPositionCss","toOptions","getOffsetParent","offsetParent$1","getOrigin","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","onShow","disappear","onHide","isTopCompletelyVisible","isBottomCompletelyVisible","forceTopPosition","winBox","leftX","viewport","location","topY","forceBottomPosition","bottomY","getDockedLeftPosition","getPrior","getInitialPos","pos","priorY","optScrollEnv","scrollEnv","scrollElmTop","currentScrollTop","getXYForRestoring","storePrior","decision","getXYForSaving","setInitialPos","revertToOriginal","clearInitialPos","morph","offsetBox","scrollDelta","positionCss","_left","_top","_right","_bottom","tryMorphToOriginal","mode","isVisibleForModes","getModes","tryDecisionToFixedMorph","tryMorphToFixed","tryDockingPosition","tryMorph","_","tryMorphToOriginalOrUpdateFixed","forceDockWith","getDecision","storePriorIfNone","morphToStatic","setDocked","onUndocked","morphToCoord","isDocked","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isVisible","isPartiallyVisible","setVisible","applyFixedMorph","refreshInternal","lazyViewport","applyMorph","resetInternal","calculateMorphToOriginal","staticOrAbsoluteMorph","refresh$4","isConnected","reset$2","forceDockWithDecision","forceDockToTop","forceDockToBottom","DockingApis","refresh","reset","setModes","ActiveDocking","events","dockInfo","dockState","onShown","onHidden","get$8","set$6","content","docDom","fragment","createDocumentFragment","contentElements","fromHtml$1","clone$1","isDeep","cloneNode","getHtml","clone","shallow","container","EventConfiguration","eventConfig","processEvent","eventName","initialTarget","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","Date","getTime","logEventCut","_name","purpose","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","write","finishTime","time","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","stack","lines","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","DockingSchema","Docking","docked","visible","initialBounds","events$h","originator","isRecursive","warn","DefaultEvents","unique","generate$6","random","floor","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","singleton","premadeTag","premade$1","comp","getPremade","makeApi","markAsSketchApi","getApis","byInnerKey","indexKey","chain","getCurried","descHandler","cHandler","behaviourTuple","nameToHandlers","behaviours","behaviour","combine$1","eventOrder","byEventName","behaviourEvents","groupByEvents","combineGroups","assemble","rawHandler","read$2","fuse","tuples","order","keyName","sorted","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","c","missingOrderError","assembled","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","get$7","set$5","ensureInDom","child","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","oldObsoleted","childComp","newObs","oldTag","determineObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","bifilter","reconcileToDom","definition","class","existingAttributes","clone$2","attrsToSet","attrsToRemove","existingStyles","stylesToSet","stylesToRemove","existingClasses","classesToRemove","classesToAdd","innerHtml","domChildren","nodes","optObsoleted","patchDomChildren","valueElement","updateValue","renderToDom","hasMixedChildren","isPremade","attemptPatch","introduceToDom","generateFrom","validated","list","optBlobThunk","blob","generateFrom$1","generate$4","getBehaviours$2","getDomDefinition","bList","bData","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","defnA","mod","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","modDefinition","baseEvents","subcomponents","hasConfigured","behaviourName","connect","newApi","disconnect","syncComponents","children$1","subs","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","text$2","external$1","extSpec","uids","userSpecWithUid","isSketchSpec$1","premade","ClosestOrAncestor","ancestor","ancestor$1","closest$3","child$1","closest$2","sibling$1","descendant","closest$1","attribute","manager","ariaId","link","unlink","isAriaPartOf","queryElem","dep","find$1","isPartOf$1","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","clamp","anchor","restrictions","dir","getRestriction","labelPrefix$2","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","Receiving","ActivePosition","posConfig","useFixed","focus$3","preventScroll","focus","blur$1","blur","hasFocus","root","activeElement","active$1","preserve$1","refocus","focused","descend","descendant$1","oldFocus","newFocus","adt$9","relative","fixed","positionWithDirection","posName","decisionRect","rect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","origin","toBox","rel","optBounds","translate$2","outerScroll","relative$1","fixed$1","anchorBox","placementAttribute","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","originInBounds","sizeInBounds","visibleW","visibleH","boundsX","boundsY","boundsRight","boundsBottom","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","maxWidth","maxHeight","upAvailable","downAvailable","middle","cataVertical","westAvailable","eastAvailable","cataHorizontal","calcMaxSizes","classesOn","off","classesOff","layout","testY","bind$2","capture","capture$1","fromRawEvent","timerAttr","isTransitioning$1","transition","hasAll","hasChanges","intermediate","round","toFixed","equals","setupTransitionListeners","transitionEnd","transitionCancel","timer","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStart","duration","times","parse","delay","dur","getTransitionDuration","requestAnimationFrame","setTimeout","applyTransitionCss","lastPlacement","shouldTransition","placer","shouldApplyTransitionCss","intermediatePosition","intermediateCssOptions","timerId","startTransitioning","options","elementBox","panelWidth","panelHeight","attemptBestFit","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","abc","bestNext","attempts","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","go","position$2","classInfo","setClasses","maxHeightFunction","setHeight","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$6","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","absolute","point","toAbsolute","sum","points","sumAsAbsolute","positions","absolute$1","getRootPoint","frame","frameOwner","compOwner","getBox","pointed","calcNewAnchor","optBox","rootPoint","topLeft","onRelative","onFixed","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","SimRange","soffset","finish","foffset","adt$6","before","after","Situ","situ","adt$5","domRange","exact","SimSelection","exactFromRange","simRange","getWin","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart","range","relativeToNative","finishSitu","createRange","setStartBefore","setStart","setStartAfter","setEndBefore","setEnd","setEndAfter","setFinish","exactToNative","toRect","adt$4","fromRange","startOffset","endContainer","endOffset","diagnose","ranges","getRanges","collapsed","rev","doDiagnose","asLtrRange","ancestors","rawParent","parents","descendants","querySelectorAll","all$3","makeRange","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","getExact","getSelection","getNativeSelection","sel","getFirstRect","rects","getClientRects","getFirstRect$1","getBounds$1","getBounds$2","api","getOption","nodeValue","NodeValue","descendOnce$1","last","get$5","descendOnce","isSimRange","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","optRect","zeroWidth$1","rawRect","selectionRect","cell","firstCell","lastCell","labelPrefix$1","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithinBounds","posState","placementSpec","optWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getFixedOrigin","getRelativeOrigin","getBounds","newState","vis","PositionApis","getMode","pConfig","_pState","reset$1","Positioning","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","replaceChildren","newSpecs","buildNewChildren","detachChildren$1","newChildren","deleted","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","sink","cssKey","newValue","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","open","openWhileCloaked","transaction","close","isPartOf","getState","setContent","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","SandboxState","contents","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","getValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","source","forbidden","forbid","_v","get$4","dump","augment","SketchBehaviours","_placeholder","adt$3","single","multiple","isSubstituted","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substitute","req","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","ps","ph","replacements","used","oneReplace","substituteAll","single$2","placeholder","adt$2","external","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","convert","adtConstructor","partSchema","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","names","substitutes","internals","externals","factory","_partSpec","_partValidated","units","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","inside","ComposeApis","getCurrent","composeConfig","_composeState","find","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable","enable","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getLast","getDelta$2","selected","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift$1","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","reportFocusShifting","prevFocus","n","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","transitions","choose","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$2","cyclicField","tabbingConfig","visibilitySelector","findCurrent","focusManager","_tabbingState","tabstops","visibles","firstTabstop","findInitial","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","tabstop","goBackwards","navigate","goForwards","isFirstChild","onEnter","onEscape","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","execute","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","dimensions","numRows","numColumns","setGridSize","getNumRows","getNumColumns","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","findIndex","withGrid","numCols","address","newIndex","row","column","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$3","gridConfig","_gridState","first","doMove$2","gridState","identified","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","getNewIndex","tryNewIndex","isDisabledButton","horizontalWithoutCycles","prevIndex","oldCandidate","onNewIndex","horizontal","_oldCandidate","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","cycles","moveRight$2","doMove$1","flowState","executeOnMove","getKeyupRules$3","FlowType","_flowState","westMovers","allowHorizontal","allowVertical","eastMovers","toCell","matrix","rowIndex","columnIndex","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","inRow","cellsInRow","allRows","rows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","menu","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","withoutReuse","withReuse","existingComps","deletedComp","virtualReplaceChildren","specs","patchSpecChildren","virtualReplace","replacee","replaceeIndex","childSpec","insert","appendAt","_replaceConfig","replaceAt","replaceConfig","replaceState","replacer","reuseDom","ReplaceApis","append","appendee","prepend","prependee","removee","foundChild","replaceBy","replaceePred","Replacing","eventHandlers","events$c","focus$2","focusConfig","ignore","onFocus","FocusApis","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","set$2","toggleConfig","toggleState","initialState","toggleClass","updateClass","ariaInfo","aria","updateAriaState","onToggled","toggle$2","ToggleApis","isOn","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","status","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","pointerEvents","onClick","events$9","optAction","hoverEvent","focusEvent","toggledEvent","onHover","onFocus$1","hover","focus$1","toggled","getItemRole","toggling","exclusive","getTogglingSpec","tConfig","_value","schema$p","hasSubmenu","itemBehaviours","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","unit","fakeFocus","markers","schema$m","grid","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","checkedRadioItems","ele","deselectOtherRadioItems","menuRole","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","primary","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","collapse","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","onMenuItemHighlightedEvent","onMenuItemDehighlightedEvent","HighlightOnOpen","collapseItem$1","tieredMenu","HighlightMenuAndItem","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","submenuParentItems","layeredState","setup","componentMap","primaryName","makeSketch","menuComp","itemComp","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","setActiveMenuAndItem","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightOnOpen","HighlightJustMenu","tmenuComp","se","onHighlightItem","onDehighlightItem","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","maybeActivePrimary","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithinBounds","thing","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","hide","getContent","inlineBehaviours","getRelated","isPartOfRelated","fireDismissalEventInstead","fireRepositionEventInstead","ToolbarMode$1","ToolbarLocation$1","global$9","global$8","global$7","global$6","ToolbarMode","ToolbarLocation","option$2","editor","wrapOptional","register$e","registerOption","register","stringOrFalseProcessor","stringOrNumberProcessor","default","getElement","DOM","getStyle","valid","auto","inline","hasPlugin","isReadOnly","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getToolbar","getFilePickerCallback","getFilePickerValidatorHandler","getFontSizeInputDefaultUnit","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","getSidebarShow","promotionEnabled","useHelpAccessibility","getDefaultFontStack","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","documentBaseURI","skin","baseURL","getSkinUrlOption","getLineHeightFormats","isToolbarEnabled","toolbar","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","isSplitUiMode","Options","isDraggableModal","nonScrollingOverflows","isScrollingOverflowValue","isScroller","overflowX","overflowY","detectWhenSplitUiMode","popupSinkElem","ancestorsScrollers","scrollers","getBoundsFrom","sc","scrollableBoxes","constraints","constrainByMany","Button","lookupAttr","buttonBehaviours","getModAttributes","getAttrs","record","isSketchSpec","anyInSystem","asSpec","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","ImmediateHideTooltipEvent","ImmediateShowTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","getTooltip","tooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","show","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","resetTimer","delayForShow","delayForHide","TooltippingSchema","TooltippingState","Tooltipping","entries","setPrototypeOf","isFrozen","getOwnPropertyDescriptor","seal","create","create$1","construct","Reflect","fun","thisValue","Func","arrayForEach","unapply","forEach","arrayPop","pop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","trim","regExpTest","RegExp","typeErrorCreate","func","TypeError","_len2","arguments","_key2","thisArg","_len","_key","addToSet","transformCaseFunc","_transformCaseFunc","l","lcElement","object","newObject","lookupGetter","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text$1","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","EXPRESSIONS","getGlobal","purify","createDOMPurify","DOMPurify","removed","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","getElementsByTagName","importNode","hooks","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","purifyHostElement","createPolicy","ATTR_NAME","policyName","scriptUrl","_createTrustedTypesPolicy","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","_removeAttribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","parseFromString","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isNode","_executeHook","entryPoint","currentNode","hook","_sanitizeElements","elm","namespaceURI","tagName","allowedTags","firstElementChild","_basicCustomElementTest","parentTagName","Boolean","_checkValidNamespace","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","initValue","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","nodeIterator","shadowroot","shadowrootmode","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","sanitizeHtmlString","global$5","rtlTransform","defaultIconName","defaultIcon","getIconName","rtlName","addToEnd","ensureTrailing","lookupIcon","get$3","iconProvider","addFocusableBehaviour","renderIcon$3","iconName","fallbackIcon","_b","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","notificationTextId","memBannerText","backstageProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","icon","level","memButton","tooltips","tooltipText","onAction","notificationIconSpec","iconNames","renderFirst","NotificationManagerImpl","extras","uiMothership","notificationRegion","sharedBackstage","backstage","shared","contentArea","getContentAreaContainer","clampComponentsToBounds","settings","closeCallback","isEditorOrUIFocused","handleEmptyRegion","region","editorOrUIFocused","handleRegionWithChildren","notification","removeNotificationAndReposition","editorOrUiFocused","manageRegionVisibility","progressBar","providers","notificationSpec","notificationWrapper","getSink","header","isPositionedAtTop","anchorOverrides","anchors","timeout","setEditorTimeout","nuText","getEl","getArgs","AutocompleterEditorEvents","redirectKeyToItem","getItem","getMenu","keyCode","isActive","isMenuOpen","stopImmediatePropagation","cancelIfNecessary","isProcessingAction","queryCommandState","ItemResponse","ItemResponse$1","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","iconClass","textClass","caretClass","activeClass","containerClass","containerRowClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","columns","schema$l","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","refetchTriggerEvent","redirectMenuItemInteractionEvent","menuSearcherClass","findWithinSandbox","sandboxComp","inputElem","findWithinMenu","saveState","inputComp","fetchPattern","selectionStart","selectionEnd","renderMenuSearcher","handleByBrowser","handleByHighlightedItem","eventData","interactionEvent","eventType","customSearcherEventsName","i18n","searchResultsClass","augmentWithAria","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","insertItemsPlaceholder","initItems","onItem","rawItems","enrichedItems","_item","forCollection","_hasIcons","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_menuLayout","structure","createPartialMenuWithAlloyItems","menuLayout","getNormalStructure","menuType","searchMode","searchField","ariaControlsSearchResults","forCollectionWithSearchField","forCollectionWithSearchResults","forSwatch","forToolbar","name$1","title","value$1","fetch$1","getSubmenuItems","onItemAction","onSetup","optionalName","optionalText","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","enabled","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","separatorMenuItemSchema","autocompleterItemSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","valuePrefix","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","SimpleBehaviours","ReadOnlyChannel","ReadOnlyDataSchema","broadcastReadonly","uiRefs","readonly","mainUi","outerContainer","motherships","mothership","uiMotherships","m","setupReadonlyModeSwitch","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersBackstage","optComponents","buildData","convertText","isMac","alt","ctrl","shift","access","shortcut","updated","segment","renderIcon$2","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","iconSvg","iconContent","ariaLabel","al","common","baseDom","getDom","renderItemDomStructure","domTitle","renderItemStructure","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","caret","renderNormalItemStructure","tooltipBehaviour","tooltipWorker","_tooltip","replaceText","matchText","encoded","encode","encodeText","escapedMatchRegex","escape","render$2","directionClass","alignClass","align","valign","getValignClass","renderContainer","src","renderImage","shouldHighlight","cardText","highlightOn","parts$f","hexColour","normalizeHex","shorthandRegex","longformRegex","isHexString","hex","toUpperCase","extractValues","longForm","hexString","getLongForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","fireTextColorChange","fireResolveName","composeUnbinders","onSetupEditableToggle","onSetupEvent","setEnabled","isEditable","onSetupStateToggle","unbindEditableToogle","unbindFormatToggle","boundFormatChangeCallback","setActive","formatter","binding","formatChanged","initialized","once","onSetupFormatToggle","handleEvent","onActionToggleFormat$1","rawItem","undoManager","transact","execCommand","format","onActionExecCommand","command","global$4","cacheStorage","ColorCache","storageId","storageString","localstorage","cache","splice","unshift","setItem","getCacheForId","currentData","legacyDefault","storage","addColor","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","fromString$1","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","getImageData","foregroundId","backgroundId","mapColors","colorMap","colors","option$1","fallbackColor","getColors$2","calcCols","sqrt","defaultCols","calculatedCols","getColorCols$1","hasCustomColors$1","getDefaultForegroundColor","getDefaultBackgroundColor","getClosestCssBackgroundColorValue","isValidBackgroundColor","getCurrentColor","cssRgbValue","getAdditionalColors","hasCustom","applyColor","onChoice","colorPickerDialog","dialog","colorOpt","getColors$1","getCurrentColors","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","buttonApi","select$1","optCurrentHex","getToolTipText","lastColor","tooltipPrefix","colorText","registerTextColorButton","ui","registry","addSplitButton","select","fetch","_splitButtonApi","registerTextColorMenuItem","addNestedMenuItem","fancytype","initData","storageKey","isValid","initialData","colorpicker","windowManager","buttons","_api","details","onSubmit","getData","alert","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isSelected","optTooltipping","isEnabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","useCustomColors","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","makeComponents","cells","cellRow","makeLabelText","fancyMenuItems","getCellLabel","makeAnnouncementText","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","widgetSpec","autocomplete","tooltipString","separator$3","nested","downwardsCaret","renderSubmenuCaret","underlinePath","translatedTooltip","toggle$1","fancy","render","card","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","getExistingCoupled","getExisting","CouplingSchema","CouplingState","coupled","lookupCoupled","coupledName","Coupling","nu$3","baseFn","callbacks","nCallback","isReady","cbs","cb","LazyValue","pure","errorReporter","make$5","then","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","Promise","partType$1","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","processed","futureData","fetcher","getLazySink","tdata","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$7","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","FocusEvent","sandboxFields","schema$k","parts$e","Dropdown","switchToMenu","togglePopup$1","dropdownComp","HighlightNone","refetch","triggerExecute","dropdownBehaviours","handleRefetchTrigger","originalSandboxComp","dropdown","optSearcherState","newSandboxComp","searcherState","restoreState","getActiveMenuItemFrom","updateAriaOnHighlight","setActiveDescendant","activeMenuComp","resultsElem","controlledId","updateAriaOnDehighlight","getSearchPattern","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","createItem","itemHasIcon","identifyMenuLayout","createTieredDataFrom","partialMenu","rangeToSimRange","Autocompleter","autocompleterId","processingAction","activeState","activeRange","autocompleter","hideIfNecessary","editorBody","ariaOwnsAttr","display","lookupData","ld","focusMode","ContentFocus","createInlineMenuFrom","updateDisplay","combinedItems","choices","itemMeta","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","getCombinedItems","cloneAutocompleterToEditorDoc","getDoc","getNode","newElm","deep","border","clip","overflow","padding","autocompleterUiApi","closest","DelayedFunction","ref","cancel","schedule","getTouch","touches","monitor","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","adt$1","stopped","resume","complete","doTriggerHandler","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curried","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","destroy","schema$j","parts$d","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","global$3","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$3","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","htmlLines","itemText","getIcon","mapItemName","encodeAllRaw","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","getComponents","ariaElements","isAriaElement","markValid","invalidConfig","getRoot","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","Unselecting","unselectable","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","isShift","spectrumPart","getValueFromEvent","spectrum","SliderParts","sliderChangeEvent","getEventSource","evt","isTouchEvent$2","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","useMultiplier","stepSize","speedMultiplier","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","handleMovement$2","xValue","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$1","handleMovement$1","yValue","moveBy$1","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","moveBy","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","onChange","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","owner$1","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","opt","wrapper","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","rgbFormSketcher","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","saturationBrightnessPaletteSketcher","_detail","_thumb","_slider","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","colourPickerSketcher","rgbForm","onInvalidHex","sbPalette","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","hueDegreesToSlider","updatePaletteThumb","runUpdates","updates","updateState","hexToHsv","onFieldsUpdate","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","processors","memento","rawProcessors","other","rawValue","postprocess","withComp","optInitialValue","getter","setter","withElement","english","renderColorPicker","colourPickerFactory","translate$1","memPicker","picker","valOpt","global$2","isOldCustomEditor","global$1","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","files","onSelect","allowedImageFileTypes","explode","file","filterByExtension","memInput","accept","rate","throttle","beforeObject","afterObject","craftWithClasses","outline","craft","containerClasses","triggerTab","targetComp","isPseudoStop","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","dialogFocusShiftedChannel","isSafariOrFirefox","isElementScrollAtBottom","scrollHeight","scrollToY","writeValue","iframeElement","fallbackFn","iframe","contentDocument","lastScrollTop","isScrollAtBottom","getScrollingElement","scrollAfterWrite","contentWindow","writeValueThrottler","interval","newArgs","tempArgs","adaptable","renderIFrame","baseClass","opaqueClass","transparent","containerBorderedClass","srcdoc","sandboxed","sourcing","stream","cachedValue","_frameComponent","frameComponent","setSrcdocValue","throttler","getDynamicSource","streamContent","renderImagePreview","cachedData","url","memImage","memContainer","fakeValidatedData","zoom","cachedWidth","cachedHeight","translatedData","z","applyFramePositioning","panel","panelW","panelH","zoomToFit","imageWidth","imageHeight","calculateImagePosition","imageComponent","img","image","reject","loaded","naturalWidth","naturalHeight","internalToolbarButtonExecute","commonButtonDisplayEvent","toolbarButtonEventOrder","forceInitialSize","renderIcon$1","iconsProvider","renderIconFromPack$1","renderReplaceableIconFromPack","renderLabel$1","updateMenuText","updateMenuIcon","renderCommonDropdown","btnName","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","ariaLabelAttribute","fixWidthBehaviourName","customEventsName","memDropdown","searchable","searcherComp","focusSearchField","displayText","displayIcon","activeItem","retargetAndDispatchWith","handleRedirectToMenuItem","itemCompCausingCollapse","nowActiveMenuComp","isSeparator$2","separator$2","unwrapReferences","realItems","isMenuItemReference","isExpandingMenuItem","itemWithValue","generateValueIfRequired","newData","submenuItems","getFromExpandingItem","mainMenuSearchMode","searchSettings","getSearchModeForField","mainMenu","submenuSearchMode","getSearchModeForResults","submenus","isSingleListItem","dataAttribute","fetchItems","selectedValue","findItemByValue","HtmlSelect","option","initialValues","selectClasses","selectAttributes","selectBehaviours","firstOption","selectedIndex","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","scale","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","pTextField","extraClasses2","flex","maximized","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","openClass","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isTransitioning","toggleGrow","immediateGrow","onGrown","ActiveSliding","SlidingSchema","Sliding","getMenuButtonApi","setText","setIcon","renderMenuButton","tabstopping","fetchContext","pattern","getFetch","getButton","getMenuItemAction","orig","getMenuItemSetup","renderLabel","leafLabelEventsId","renderLeafLabel","onLeafAction","treeId","selectedId","internalMenuButton","btn","button","isLeftArrowKey","code","isRightArrowKey","dirComp","dirLabelElement","renderIconFromPack","renderIcon","directoryLabelEventsId","renderDirectoryLabel","noChildren","toggleExpandChildren","directoryEle","directoryComp","willExpand","parentDirElement","parentDirLabelElement","renderDirectoryChildren","expandedIds","renderDirectory","labelTabstopping","directoryEventsId","expandedIdsCell","childrenVisible","includes","_cmp","childrenComp","treeEventsId","ActiveStreaming","streamConfig","streamState","streams","cancelEvent","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","_tmenu","previewing","lazyTypeaheadComp","selectOverTextInInput","populateFromBrowse","_menu","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","getActiveMenu","typeaheadCustomEvents","responseTime","minChars","previousValue","pv","sandboxIsOpen","typeaheadComp","_typeaheadComp","onItemExecute","dismissOnBlur","typeaheadBehaviours","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$1","FutureResult","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","calculateClassesFromButtonType","buttonType","renderButtonSpec","translatedText","optTooltip","renderButton$1","buttonSpec","getAction","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","isNormalFooterButtonSpec","isToggleButtonSpec","optMemIcon","memIcon","tooltipAttributes","buttonTypeClasses","showIconAndText","translatedTextComponed","iconButtonSpec","newIcon","renderToggleButton","renderDialogButton","separator$1","toMenuItem","staticMenuItem","filteredTargets","targets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","set$1","get$2","make$2","dialogData","factories","bar","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel$2","iframeSpec","makeIframe","checkbox","toggleCheckboxHandler","makeIcon","className","memIcons","renderCheckbox","dropzone","renderGrid","listbox","initialItem","sketchSpec","listBoxWrap","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","converter","ratioEvent","translatedLabel","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","renderSizeInput","renderSlider","urlinput","updateHistory","urlEntry","addToHistory","filetype","typeaheadSpec","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","completer","trimmedValue","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","picker_text","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","focusBehaviour","onFocusFn","ta","scriptId","ea","cvalue","ed","htmlpanel","renderHtmlPanel","imagepreview","renderTh","renderTd","renderTr","renderTable","tree","onToggleExpand","defaultExpandedIds","selectedIdCell","defaultSelectedId","renderTree","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getInlineBottomDialogAnchor","lazyBottomAnchorBar","getBannerAnchor","getCursorAnchor","bodyElement","getRng","selectedCells","getSelectedCells","selectionTableCellRange","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","inlineDialog","inlineBottomDialog","cursor","isNestedFormat","isFormatReference","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","formats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","registeredUserFormats","registerFormats","registerCustomFormats","processBasic","isSelectedFor","getPreviewFor","getStylePreview","register$a","doEnrich","newItems","getStyleItems","enrichMenu","enrichSupported","isSeparator$1","formatName","newItem","enrichCustom","TooltipsBackstage","numActiveTooltips","tooltipDelay","hasContentEditableState","isElement","contentEditable","isContentEditableTrue","isContentEditableFalse","getElementText","innerText","isValidAnchor","isAnchor","isHeader","tempNode","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","elms","hasTitle","LinkTargets","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getPickerSetting","pickerTypes","optFileTypes","_picker","types","getPickerTypes","getTextSetting","UrlInputBackstage","entry","init$5","lazySinks","contextMenuState","getDockingMode","setDockingMode","HeaderBackstage","getAll","block","parseStyle","getCssText","settingsFormats","eventsFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","init$6","ColorInputBackstage","dialogSettings","DialogBackstage","commonBackstage","isContextMenuOpen","setContextMenuState","popupBackstage","dialogBackstage","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","groups","setup$a","isDocked$1","getBehaviours$1","StaticHeader","getBehaviours","toolbarHeightChange","visibility","editorStickyOnClass","editorStickyOffClass","isDockedMode","updateIframeContentFlow","parentElem","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","constrainedBounds","constrainedBoundsY","headerElem","focusedElem","ownerDoc","activeElm","restoreFocus","rootElm","findFocusedElem","boundsWithoutOffset","StickyHeader","lazyHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","prev","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","hideSlot","hideSlots","onSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","slotApis","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","updateSidebarRoleOnToggle","sidebar","sidebarState","whichSidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","blocker","isBlocked","onBlock","blockWith","unblock","onUnblock","blockingConfig","blockingState","BlockingSchema","Blocking","focusBusyComponent","throbber","toggleThrobber","tabIndexAttr","dataTabIndexAttr","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","targetElm","isPasteBinTarget","editorManager","fireAfterProgressState","within","withinWidth","apportion","total","parray","generate$1","toUnit","partition","overflower","divide","tryFit","fitLast","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","shouldSkipFocus","toolbarSandbox","bounder","FloatingToolbarButton","skipFocus","makeSandbox","toggleWithoutFocusing","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","oveflowButton","overf","SplitSlidingToolbar","toolbarToggleEvent","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarBehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","baseButtonFields","schemaWithoutGroupButton","togglebutton","groupFields","viewButtonSchema","viewSchema","renderViewButton","isToggleButton","optTranslatedText","optTranslatedTextComponed","ariaLabelAttributes","optIconSpec","hasIconAndText","renderButton","deviceDetection","View","hasGroups","endButtons","btnspec","renderButtonsGroup","getPane","getOnShow","_comp","viewConfig","getOnHide","makeViews","viewConfigs","internalViewConfig","pane","makeSlotContainer","getCurrentName","runOnPaneWithInstanceApi","onCallback","ViewWrapper","setViews","whichView","toggleView","showMainView","hideMainView","optCurrentSlotName","isTogglingCurrentView","hideContainer","showContainer","runOnShow","prevName","runOnHide","views","editorCont","partMenubar","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","renderer","sliding","floating","toolbarFactory","onToolbarToggled","lazyToolbar","lazyMoreButton","partHeader","sticky","partPromotion","partSocket","partSidebar","partThrobber","partViewWrapper","partEditorContainer","OuterContainer","toolbarDrawerOpenState","toggleStatusbar","statusBar","getSocket","setSidebar","showSidebar","configKey","toggleSidebar","getHeader","setToolbar","renderedGroups","setToolbars","mToolbar","renderedToolbars","refreshToolbar","toggleToolbarDrawer","toggleToolbarDrawerWithoutFocusing","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","itemName","removedMenuItem","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadRawCss","unloadRawCss","loadUiSkins","async","skinUiCss","Resource","loadShadowDomUiSkins","shadowDomSkinCss","loadSkin","isInline","unbundled","skinResourceIdentifier","contentCSS","skinContentCss","loadUrlSkin","done","_skinLoaded","fireSkinLoaded$1","fireSkinLoaded","fireSkinLoadError$1","fireSkinLoadError","makeTooltipText","labelWithPlaceholder","generateSelectItems","generateItem","response","invalid","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","textUpdateEventName","getComponent","Delimiter","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","getTooltipPlaceholder$4","fallbackAlignment","alignMenuItems","getSpec$4","_format","alignment","fireAlignTextUpdate","canApply","findNearest","getStyles","getTooltipPlaceholder$3","fallbackFormat","getSpec$3","fireBlocksTextUpdate","getTooltipPlaceholder$2","systemFont","systemStackFonts","splitFonts","fontFamily","fonts","font","matchesStack","getSpec$2","getMatchingValue","getFirstFont","queryCommandValue","userStack","matchOpt","isSystemFontStack","fireFontFamilyTextUpdate","unsupportedLength","decimalDigits","exponentPart","unsignedDecimalLiteral","accepted","unitRaw","check","isUnit","Keys","tab","enter","backspace","delete","up","down","space","home","pageUp","pageDown","createBespokeNumberInput","currentComp","updateInputValue","customEvents","fromInput","focusBack","alloyComp","getNewValue","lenghtDelta","oldStart","oldEnd","decrease","increase","goToParent","focusInput","makeStepperButton","editorOffCellStepButton","altExecuting","memMinus","memPlus","buttonNode","wrapperComp","getTooltipPlaceholder$1","fallbackFontSize","legacyFontSizes","keywordFontSizes","toPt","fontSize","precision","factor","pow","toLegacy","getSpec$1","pt","legacy","Space","fireFontSizeTextUpdate","getTooltipPlaceholder","getSpec","getFormatItems","flattenedItems","tooltipLabel","fireStylesTextUpdate","schema$7","arrowPart","arrow","buttonPart","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","optIcon","optText","renderCommonToolbarButton","specialisation","_d","itemApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","renderToolbarButton","renderToolbarToggleButton","menubutton","splitbutton","buttonComp","_c","renderSplitButton","grouptoolbarbutton","identify","identifyButtons","allowToolbarGroups","TopToBottom","renderFloatingToolbarButton","bespokeButtons","fontsize","fontsizeinput","skip_focus","updateFunction","parsedText","defaultUnit","em","cm","in","pc","rem","getConfigFromUnit","isValidValue","fireFontSizeInputTextUpdate","getNumberInputSpec","fontfamily","blocks","createToolbar","toolbarConfig","filteredItemGroups","subItem","removeUnusedDefaults","strToolbar","groupsStrings","convertStringToolbar","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","lastToolbarWidth","eTargetNode","targetNode","uiRoot","popupUi","dialogUi","attachUiMotherships","innerWidth","initialDocEle","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","addCommand","_ui","addQueryValueHandler","nodeChanged","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","minHeight","getHeight","getWidth","baseWidth","minWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","calcToolbarOffset","tbar","getOffsetParent$1","repositionPopups$1","stickyAction","prevScroll","isOuterContainerWidthRestored","restoreOuterContainerWidth","currentScroll","optScroll","targetBounds","widthProperties","toolbarWidth","baseProperties","topValue","updateChromePosition","doUpdateMode","fc","currentMode","newMode","toolbarHeight","docHeight","calcMode","verticalDir","addClass","removeClass","updateMode","getTargetPosAndBounds","Inline","toolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","lastScrollX","updateUi","newScrollX","_args","setupEvents","hideContextToolbarEvent","runOnExecute","formApi","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","commands","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","lastElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","findPosition","basePosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","register$9","registryContextToolbars","lastTrigger","lastContextPosition","currentWidth","newWidth","newContents","oldContents","forwardContents","renderContextToolbar","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","isDragging","rootElem","isOutsideRoot","lookup$1","toolbarKey","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$7","customCode","customValue","lang","languageSpec","register$6","createAlignMenu","createFontFamilyMenu","createStylesMenu","createBlocksMenu","createFontSizeMenu","onSetupOutdentState","register$5","addButton","registerButtons$2","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","onActionToggleFormat","registerButtons$1","_idx","addToggleButton","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","register$3","addMenuItem","registerMenuItems$2","onSetupUndoRedoState","register$2","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","register$1","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","cmd","register$8","applyFormat","removeFormat","registerCommands","fallbackColorForeground","fallbackColorBackground","lastForeColor","lastBackColor","register$c","register$4","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","getContextMenu","contextMenus","contextMenu","isTouchEvent$1","transposeContentAreaContainer","containerPos","getPos","dx","dy","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","highlightImmediately","getAnchorSpec","initAndShow","openiOS","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","rngRect","isTouchWithinSelection","makeContextItem","commonMenuItem","commonItem","addContextMenuGroup","groupItems","lastMenuItem","isTriggeredByKeyboard","isTouchEvent","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","get$1","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","coord1","coord2","withinRange","getSnapPoints","bestSnap","deltas","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","snapPin","snapTo$1","initialAttribute","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","oc","lift3","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","deltaX","deltaY","snapping","onSensor","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","getDelta","events$3","stop$1","delayDrop","dragApi","drop","forceDrop","init$3","schema$5","TouchData","getDataFrom","events$2","blockerSingleton","stopBlocking","init$2","mouse","mouseOrTouch","DraggingBranches","DragState","previous","dragEvent","nuData","calculateDelta","Dragging","dragger","calcSnap","selectorOpt","td","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","cellOpt","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","domToSugar","otherCells","upOrLeftCells","downOrRightCells","renderElementPath","renderPathData","_btn","renderElement","newPath","isDefaultPrevented","isPropagationStopped","updatePath","ResizeTypes","resize","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","fireResizeEditor","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","resizeLabel","_target","renderStatusbar","renderRightContainer","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","getTextComponents","shouldRenderHelp","shouldRenderElementPath","shouldRenderRightContainer","getTextComponentClasses","flexStart","flexEnd","container3Columns","shortcutText","renderHelpAccessibility","resizeHandler","getLazyMothership","setup$3","setupForTheme","lazyUiRefs","getUiMotherships","optDialogMothership","optPopupMothership","dm","pm","lazyGetInOuterOrDie","LazyUiReferences","lazyMothership","lazyDialogMothership","lazyPopupMothership","deviceClasses","isToolbarBottom","memAnchorBar","memBottomAnchorBar","lazyAnchorBar","backstages","makePromotion","promotion","renderMainUi","verticalDirAttributes","fireToggleToolbarDrawer","hasMultipleToolbar","hasToolbar","hasMenubar","shouldHavePromotion","hasAnyContents","menubarCollection","makeHeaderPart","sidebarContainer","viewWrapper","statusbar","editorComponents","isHidden","opacity","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","renderUIWithRefs","toolbarGroupButtonConfig","addGroupToolbarButton","sidebars","toolbarOpt","addShortcut","addQueryStateHandler","channel","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onElementScroll","onEditorResize","onEditorProgress","onDismissPopups","gui","setup$b","handleToggle","setup$8","popups","getMothership","dialogs","renderUI","isGridUiContainer","sinkSpec","reactiveWidthSpec","renderDialogUi","getPopupSinkBounds","renderPopupUi","reuseDialogUiForPopuUi","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","titleElm","labelledElement","labelElement","labelId","labelledBy","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","toggleButtonSpecFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","baseTreeItemFields","treeItemLeafSchema","treeItemDirectoryFields","treeItemDirectorySchema","treeItemSchema","treeFields","treeSchema","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","rawData","ReflectingApis","reflectState","ReflectingSchema","Reflecting","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","Tabview","tabviewBehaviours","barPart","tabs","viewPart","TabSection","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabWithValue","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","smartMode","allTabs","extraEvents","tabviewComp","heights","_tab","measureHeights","maxTabHeightOpt","getMaxHeight","oldHeight","newHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","fullscreenClass","largeDialogClass","mediumDialogClass","getDialogSizeClass","updateDialogSizeClass","dialogSizeClass","toggleFullscreen","currentSize","currentSizeClass","toggle$3","renderModalDialog","mapMenuButtons","menuItemStates","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","_event","self","initDialog","getInstanceApi","withSpec","currentDialogInit","rootNode","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","getFormWrapper","footerState","getDialogApi","doRedial","withRoot","instanceApi","valueComp","setData","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","getId","dialogInit","storedMenuButtons","renderDialog","dialogSize","dialogSizeClasses","bodySpec","renderModalBody","objOfCells","modalAccess","outerForm","renderInlineDialog","refreshDocking","dialogLabelId","dialogContentId","memHeader","renderInlineHeader","memBody","renderInlineBody","storagedMenuButtons","optMemFooter","renderInlineFooter","memFooter","global","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","currentDialog","initUrlDialog","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","insertContent","handleMessage","isCustomMessage","onMessage","iframeEle","iframeWin","postMessage","sendMessage","getUrlDialogApi","validateData","isAlertOrConfirmDialog","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$1","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","windowParams","inlineDialogComp","persistent","openBottomInlineDialog","contentAreaContainer","confirm","registerOptions","colorProcessor","colorColsProcessor","register$d","popupSinkBounds","renderModeUI","windowMgr","renderResult","getWindowManagerImpl","getNotificationManagerImpl","eq$2","range$1","each$2","last$2","resolve$2","isComment","fromDom$1","prevSibling","previousSibling","children$2","before$3","after$5","firstChild$1","after$4","unwrap","shallowAs","validSectionList","rowspan","colspan","rowdetail","elementnew","isNew","isLocked","rowcells","getBody$1","ancestors$3","ancestors$4","getRaw$2","getAttrValue","getSpan","hasColspan","cellOrCol","getCssValue","firstLayer","filterFirstLayer","tags","cells$1","columns$1","columnGroups","columnGroup","rows$1","fromRowsOrColGroups","elems","getSection","getParentSection","parentName","isValidSection","fromTable$1","unknown$2","nu$2","detect$4","detect$2","toNumber","px","toFloat","getProp","getCalculatedWidth","boxSizing","upper","lower","calcContentBoxSize","getInner","getRuntime$1","addCells","gridRow","existingCells","newCells","setCells","addCell","mutateCell","getCell","getCellElement","cellLength","extractGridDetails","cols","cloneRow","cloneCell","LOCKED_COL_ATTR","getLockedColumnsFromTable","lockedColStr","lockedCols","getLockedColumnsFromGrid","lockedArr","_val","sort$1","filterItems","warehouse","lockedColumns","rowData","maxRows","maxColumns","rowCount","colgroupRows","currentRow","rowCell","extended","occupiedColumnPosition","occupiedRowPosition","columnPosition","newpos","colgroups","columnsGroup","columnext","generateColumns","colgroup$1","colgroup","grid$1","Warehouse","fromTable","getAt","findItem","filtered","justCells","justColumns","hasColumns","getColumnAt","isValidCell","rowsArr","decide","getBlock","getFallback","inBlock","deduce","aa","getRuntime","rowInfo","colInfo","rtlEdge","ltrEdge","getTop$1","findPositions","getInnerEdge","getOuterEdge","cellOption","lastLine","optElements","amount","rPercentageBasedSizeRegex","rPixelBasedSizeRegex","isCol$2","isRow$2","getPercentSize","outerGetter","innerGetter","relativeParent","setPixelWidth","setPercentageWidth","normalizePixelSize","getTotalHeight","getHeightValue","getRaw$1","getRawWidth$1","getPercentageWidth","getPixelWidth$1","setGenericWidth","getPercentTableWidth","percentageBasedSizeRegex","isCol$1","getRawW","getRawH","backups","getWidthFrom","columnCells","justCols","colFilter","supportsColWidths","isValidColumn","getDeduced","deduced","getPixelWidths","tableSize","minCellWidth","getHeightFrom","rowCells","widthLookup","noneSize","zero","pixelWidth","getWidths","getCellDelta","singleColumnWidth","setElementWidth","adjustTableWidth","isRelative","percentageSize","getFloatWidth","cellWidth","getPercentageWidths","_delta","pixelSize","TableSize","chooseSize","seenSelected","extract$1","selectedSelector","replica","replicaHouse","replicaStats","house","totalColumns","minRow","minCol","maxRow","maxCol","allCells","endRow","endCol","statsStruct","findSelectedStats","unselectedCells","stats","totalRows","fillInGaps","widthDelta","colWidths","allColsWidth","selectedColsWidth","getTableWidthDelta","emptyRows","clean","getEnd","elementsWithCursorPosition","isCursorPosition","descendantRtl","transferableAttributes","createCell","createCol","createColgroup","createRow$1","replace$1","cloneChildren","copy$2","pasteReplace","cellOperations","mutate","formatsToClone","cloneCss","sourceDom","targetDom","cssText","copy$1","lastNode","oldCell","newCell","firstText","formatSelector","clonedFormat","cloneFormats","validAttributes","attributeName","cloneAppropriateAttributes","colGap","gap","paste$1","defaultWidth","getPixelForcedWidth","parentBlock","getParent","isBlock","getTableCloneElements","getTableHeaderType","getTableColumnResizingBehaviour","isPreserveTableColumnResizing","isResizeTableColumnResizing","getTableSizingMode","isTablePercentagesForced","isTablePixelsForced","isTableResponsiveForced","hasTableResizeBars","shouldStyleWithCss","shouldMergeContentOnPaste","getTableDefaultAttributes","defaultAttributes","determineDefaultTableAttributes","getTableDefaultStyles","defaultStyles","determineDefaultTableStyles","tableUseColumnGroup","isEditable$1","assumeEditable","isContentEditable","editable","getIsRoot","removeDataStyle","removeStyleAttribute","getSelectionStart","getPixelWidth","getPixelHeight","getRawValue","getAttrib","getRawWidth","getRawHeight","isInEditableContext$1","inSelection","leftEdge","rightEdge","topEdge","bottomEdge","finishCol","finishRow","isWithin","getAnyBox","startCoords","finishCoords","detailA","detailB","getBox$1","isRect","detailIsWithin","isRectangular","intercepts$1","parentCell","innerCell","c1","c2","deltaColumn","getWarehouse","intercepts","nestedIntercepts","firstTable","lastTable","optStartCell","optLastCell","TagBoundaries","DomUniverse","copyTo","destination","as","afterAll","appendAll","comparePosition","compareDocumentPosition","isSpecial","getLanguage","getText","isBoundary","isEmptyTag","isNonEditable","unsafeOne","universe","look","tail","commonElement","sharedOne$1","ancestors$1","ps1","ps2","prune","ind","pruned1","pruned2","firstpath","secondpath","universe$3","sharedOne","_universe","rootTable","boxes","startTable","finishTable","ancestorCells","lca","lcaTable","finishAncestorCells","startAncestorCells","retrieve$1","sels","getEdges","firstSelectedSelector","lastSelectedSelector","shiftSelection","expandTo","retrieve","retrieveBox","sectionSelector","firstAncestor","lastAncestor","fA","lA","unmergable","hasSpan","mergable","ephemera","strSelected","strSelectedSelector","strAttributeSelector","strFirstSelected","strFirstSelectedSelector","strLastSelected","strLastSelectedSelector","attributeSelector","firstSelected","lastSelected","getSelectionFromSelector","initCell","cellName","getSelectionCellOrCaption","getSelectionCell","getCellsFromSelection","registerEvents","multiCellContext","extractSelected","getTextContent","serializer","serialize","serializeElements","getCellsFromFakeSelection","paste","isTable","generators","clipboard","pasteCells","scan$1","toEnd","freefallRtl$2","freefallRtl$1","universe$2","halve","main","getGenericWidth","surround","sizes","startIndex","clampDeltaHelper","minCellSize","diff","clampNegativeDelta","clampDelta","resizeTable","calcRelativeDeltas","ratio","newThis","calcLeftEdgeDeltas","clampedDelta","calcFixedDeltas","resizer","clampTableDelta","calcMiddleDeltas","_prev","calcRightEdgeDeltas","calcRedestributedWidths","totalWidth","pixelDelta","newSizes","preserveTable","isLastColumn","maxDelta","_minCellSize","_totalWidth","_pixelDelta","_isRelative","getGridSize","isHeaderCell","isHeaderCells","getRowHeaderType","isHeaderRow","getRowType","findCommonCellType","subType","headerCells","transformCell","substitution","transformRow","fixedCell","mutate$1","sectionCells","TableSection","rowType","findTableRowHeaderType","setIfNot","insert$1","render$1","newRows","syncRows","gridSection","tr","syncColGroup","colGroup","renderSection","sectionName","newSection","generateSection","sectionElems","renderOrRemoveSection","removeSection","headSection","bodySection","footSection","columnGroupsSection","findDiff","subgrid","getRow","isColRow","getColumn","toDetails","seen","updateSeen","rowdetailnew","toGrid","colgroupCols","rowDetail","toDetailList","findInWarehouse","extractCells","cell$1","lc","operation","postAction","genWrappers","tableSection","fromWarehouse","out","newElements","tableSizing","sizing","resizing","onPasteByEditor","onCells","onUnlockedCells","allUnlocked","isUnlockedTableCell","unmerge","currentCell","isToReplace","splitRows","uniqueCells","sub","measureWidth","gridA","gridB","rowDelta","colDelta","measureHeight","generateElements","generator","rowFill","exampleRow","colFill","tailor","fillCols","fillRows","gridWidth","isLastColLocked","modifiedCols","newLockedColumns","isSpanning","matching","getLockedColumnsWithinBounds","startAddress","colNum","validStartAddress","currentStartAddress","gridColLength","adjustedRowAddress","possibleColAddresses","validColAddress","getValidStartAddress","gridBRows","lockedColumnsWithinBounds","rowRemainder","colRemainder","colRequired","rowRequired","measure","fittedGrid","newLockedColumnsWithinBounds","lockedColumnObj","skippedCol","gridBColIndex","newCellElm","mergeTables","insertCols","prevCell","splitCols","fittedNewGrid","secondDelta","fittedOldGrid","insertRows","oldCols","oldRows","newLocked","secondDiff","fittedGridB","newChild","lockedColFill","insertRowAt","example","ex","insertColumnAt","withinSpan","getElementFor","isDuplicatedCell","notInStartRow","notInStartColumn","determineScope","applyScope","newScope","isInHeader","hasRowspan","getScope","replaceIn","genScope","shouldReplace","mapCells","isTarget","getColumnCells","replaceColumns","indexes","rowHeaders","shouldReplaceCell","targetColumn","_colIndex","columnReplacePredicate","scopeGenerator","columnScopeGenerator","replaceRows","targetRow","getRowCells","columnHeaders","_cell","newGrid","_rowIndex","rowReplacerPredicate","rowScopeGenerator","replaceCells","targetCells","ColumnContext","only","determine","context","neighbours","recalculate","widths","recalculateWidthForColumns","measures","recalculateWidthForCells","recalculateAndApply","adjustWidth","clampedStep","newWidths","adjustHeight","getPixelHeights","newHeights","newRowSizes","matchRowHeight","removeHeight","uniqueColumns","currentDetail","isCol","isColgroup","isRow$1","elementToData","getScopeAttribute","Generators","toData","nuCell","recent","getOrInit","makeNew","replaceOrInit","merge","stringAttributes","baseScope","getScopeProperty","blockList","universe$1","isBlock$1","isList","isList$1","isEmptyTag$1","isBr","markCell","rightSiblingIsBlock","rightSibling","isListItem","advancedBr","markContent","elementFromGrid","findEditableCursorPosition","cursorElement","uniqueRows","makeRowsSection","initialGrid","rowIndexes","opMakeRowsHeader","opMakeRowsBody","opMakeRowsFooter","gridifyRows","pasteDetails","fromPastedRows","wh","_table","_info","adjustWidthTo","adjustAndRedistributeWidths","resizeBehaviour","tablePixelWidth","adjustAndRedistributeWidths$1","firstColumnIsLocked","_warehouse","lastColumnIsLocked","getColumnsWidth","uniqueCols","insertColumnsExtractor","pasteColumnsExtractor","headerCellGenerator","bodyCellGenerator","insertRowsBefore","targetIndex","insertRowsAfter","newG","insertColumnsBefore","extractDetail","insertColumnsAfter","eraseColumns","_comparator","_genWrappers","deleteColumnsAt","maxColIndex","eraseRows","deleteRowsAt","maxRowIndex","makeColumnsHeader","columnIndexes","unmakeColumnsHeader","makeRowsHeader","makeRowsBody","makeRowsFooter","makeCellsHeader","unmakeCellsHeader","mergeCells","merge$2","onMergable","mergeable","unmergeCells","onUnmergable","gridify","pasteColsBefore","mergedGrid","pasteColsAfter","pasteRowsBefore","pasteRowsAfter","getColumnsType","lastSelectedCell","minColRange","maxColRange","selectedColumnCells","getCellsType","getRowsType","minRowRange","maxRowRange","rowTypes","hasHeader","hasFooter","hasBody","findCommonRowType","fireNewRow","fireNewCell","fireTableModified","styleModified","structureModified","styleAndStructureModified","TableActions","cellSelectionHandler","isTableBody","colMutationOp","getTableSectionType","setSelectionFromAction","clearSelectedCells","createRng","selectNode","des","guard","effect","noEvents","deleteRow","deleteColumn","getTableRowType","getTableCellType","getTableColType","constrainSpan","currentColspan","isColInRange","copyCols","fakeColGroups","colsToCopy","copiedCols","clonedCol","fakeColgroup","generateColGroup","fakeRows","cellsToCopy","copiedCells","clonedCell","fakeTR","generateRows","copyRows","slicedGrid","filteredGrid","slicedDetails","pixels","validateFor","rawAmount","Size","redistributeValues","newWidthType","newTotalWidth","redistributeToPx","_pc","redistributeToPercent","redistribute$1","newType","floats","redistributeEmpty","normalize","floored","roundDown","redistribute","optWidth","optHeight","widthUnit","oldWidths","getRawWidths","nuWidths","redistributeToColumns","redistributeToW","totalHeight","oldHeights","getRawHeights","redistributeToH","isPercentSizing","isPixelSizing","isNoneSizing","cleanupLegacyAttributes","convertToPercentSizeWidth","convertToPixelSizeWidth","getPixelTableWidth","convertToPixelSizeHeight","getPixelTableHeight","convertToNoneSizeWidth","rowElements","DefaultRenderOptions","colGroups","createGroupRow","createRows","createRow","placeCaretInCell","colHeaders","headerType","renderOpts","rowHeadersGoInThead","actualRowHeaders","thead","theadRows","tbodyRows","addVisual","isPercentage","fireEvents","tableElm","selectFirstCellInTable","tableTypeBase","tableTypeRow","tableTypeColumn","fakeClipboardItem","FakeClipboardItem","getType","clearData","setRows","rowsOpt","clearRows","getRows","setColumns","columnsOpt","clearColumns","getColumns","getSelectionStartCellOrCaption","getTableFromCell","performActionOnSelection","getSelectionStartCell","postExecute","actOnSelection","copyRowSelection","copyColSelection","pasteOnSelection","clonedRows","pasteRows","actOnType","no_events","mceTableSplitCells","mceTableMergeCells","mceTableInsertRowBefore","mceTableInsertRowAfter","mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTableDeleteRow","mceTableCutCol","mceTableCutRow","mceTableCopyCol","mceTableCopyRow","mceTablePasteColBefore","mceTablePasteColAfter","mceTablePasteRowBefore","mceTablePasteRowAfter","mceTableDelete","cellOrCaption","setCursorLocation","mceTableCellToggleClass","allHaveClass","formatterAction","mceTableToggleClass","mceTableToggleCaption","caption","mceTableSizingMode","setSizingMode","mceTableCellType","mceTableColType","mceTableRowType","checkInput","headerRows","headerColumns","insertTable","getFormatName","validArgs","cata","onBefore","onOn","onAfter","Response","selectNodeContents","selectNodeContentsUsing","Situs","convertToRange","makeSitus","selectRange","cellSel","traverse","backtrack","_direction","sidestep","advance","successors","rules","succ","Walkers","hone","isLeaf","seekLeft$1","seekRight$1","after$1","failedUp","failedDown","isRow","BeforeAfter","verify","bridge","beforeOffset","afterOffset","failure","afterCell","beforeCell","beforeBounds","getRect","afterBounds","isOverlapping","_sharedRow","onSuccess","onFailedUp","onFailedDown","gatherer","cand","gather","handleParent","findBr","br","adjacent","inParent","indexInParent","tryBr","handleBr","toCaret","getElemBox","getBoxAt","getRangedRect","getPartialBox","getEntireBox","retry","inOutsideBlock","isOutside","downMovement","adjuster","guessBox","lowerCaret","adjustTil","numRetries","isAtTable","adjustForTable","situsFromPoint","guess","newCaret","moved","adjusted","getInnerHeight","checkScroll","scrollBy","Retries","tryUp","higherCaret","tryDown","getJumpSize","findSpot","brNeighbour","fromSitus","analysis","_message","tryCursor","situs","tryAgain","tryAt","inSameTable","simulate","handle$1","precheck","firstUpCheck","seekLeft","lastOffset","lastDownCheck","seekRight","findCell","isInEditableContext","isKey","keycode","isUp","isDown","isNavigation","isBackward","isForward","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","beforeSpecial","doSetNativeRange","removeAllRanges","addRange","doSetRange","setRangeFromRelative","setBaseAndExtent","extend","setLegacyRtlRange","setExact","preprocessExact","setRelative","preprocessRelative","setToElement","selectNodeContents$1","getAtPoint","WindowBridge","exactAdt","clearSelection","collapseSelection","toStart","setSelection","setRelativeSelection","selectContents","getScrollY","by","rc","annotations","clearstate","applySelection","clearBeforeUpdate","singleCell","isNonEditableCell","isCellClosestContentEditable","MouseSelection","isEditableNode","isEditableSelection","keyboard","clearToNavigate","realEvent","update$1","newSels","sync","SelectionAnnotation","onSelection","onClear","removeSelectionAttributes","addSelectionAttribute","getOtherCells","upGrid","upDetails","slicedCells","getUpOrLeftCells","downGrid","downDetails","getDownOrRightCells","bind$1","hasInternalTarget","TableCellSelectionHandler","cellSelection","lazyRoot","Selections","cellsDom","otherCellsDom","cellArr","fireTableSelectionChange","fireTableSelectionClear","mouseHandlers","keyHandlers","handleResponse","hasShiftKey","ns","isLeftMouse","doubleTap","lastTarget","lastTimeStamp","touchEnd","lT","lTS","timeStamp","getDoubleTap","wrappedEvent","addTempAttr","onMultiple","onSingle","Event","trigger","typeDefs","baseWith","handleUnsupported","validateStrArr","everything","checkDupes","reqMessage","invalidKeys","incorrect","invalidTypeMessage","handleExact","unsuppMessage","exactly","DragMode","DragSink","DragApi","InDrag","compare","Movement","noDragState","NoDrag","inDragState","mutation","throttledDrop","runIfActive","namespace","dashNamespace","resolve$1","MouseDrag","layerClass","Blocker","mdown","mup","mmove","mout","BarMutation","drag","Mutation","assign","resizeBar","resizeRowBar","resizeColBar","wire","drawBar","cpOption","cp","refreshCol","colPositions","tableHeight","colBar","refreshRow","rowPositions","tableWidth","rowBar","refreshGrid","warhouse","isResizable","resizableRowBars","resizableRows","resizableRowPositions","_pos","barIndex","resizableColBars","resizableCols","colElmOpt","resizableColumns","resizableColPositions","bars","resizeBarDragging","BarManager","hoverTable","getResizer","_dataRow","_dataCol","currentCol","startAdjust","isColBar","tbl","hideBars","showBars","TableResize","lazySizing","hdirection","vdirection","beforeResize","afterResize","startDrag","refreshBars","ResizeWire","chrome","createContainer","barResizerPrefix","getCornerLocation","TableResizeHandler","selectionRng","tableResize","resizeWire","startW","startRawW","startH","startRawH","lazyResizingBehaviour","afterCornerResize","isRightEdgeResize","isNorthEdgeResize","isPercentage$1","percentW","isPixel","computedWidth","syncTableCellPixels","sz","rawWire","objectResizing","hasTableObjectResizing","rawTable","fireObjectResizeStart","fireObjectResized","isCornerResize","setupTable","lookupOnSelection","registerQueryCommands","DomModel","getAudioTemplateCallback","getVideoTemplateCallback","getIframeTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","hasDimensions","DOM$1","trimPx","getEphoxEmbedData","altsource","poster","htmlToData","forced_root_block","walk","fileEnd","mp3","m4a","wav","mp4","webm","ogg","swf","Parser","allow_conditional_comments","addPx","updateEphoxEmbed","styleMap","serializeStyle","sources","updateHtml","updateAll","numSources","sourceCount","parser","addNodeFilter","hasImage","urlPatterns","regex","allowFullscreen","getUrl","protocolMatches","getProtocol","newUrl","matchPattern","dataToHtml","dataIn","embed","convertURL","sourcemime","altsourcemime","allowfullscreen","audioTemplateCallback","videoTemplateCallback","iframeTemplateCallback","getIframeHtml","getFlashHtml","getAudioHtml","getVideoHtml","isMediaElement","loadedData","getEmbedHtml","embedHandler","rej","wrappedResolve","catch","embedPromise","defaultPromise","metaData","dims","sourceInput","mainData","extractMeta","getFromData","getFromMetaData","getNonEmptyValue","errorMessage","notificationManager","addEmbedHtml","handleInsert","beforeObjects","afterObjects","selectPlaceholder","isEmbedIframe","mediaDataType","shouldInsertAsNewIframe","hasDimensionsChanged","submitForm","showDialog","editorData","snippet","getDimensionsOfElement","getEditorData","sizeInput","generalTab","embedTab","advancedFormItems","advancedTab","serviceData","handleSource","dataFromEmbed","handleEmbed","handleUpdate","isLiveEmbedNode","defaultValue","setDimensions","previewNode","useDefaults","fallbackHeight","defaultHeight","createPlaceholderNode","placeHolder","retainAttributesAndInnerHtml","transparentSrc","createPreviewNode","previewWrapper","frameborder","sanitizedHtml","newNode","appendNodeContent","unescape","shimNode","sourceNode","attribs","ai","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","parseAndSanitize","getEditorOption","boolAttrs","getBoolAttrs","getElementRule","attributesOrder","placeHolderConverter","addAttributeFilter","realElmName","realElm","onSetupEditable","unbindSelectorChanged","selectorChangedWithUnbind","unbindEditable","previewObj","selectedNode","hasClass","hasAdvTab","hasUploadTab","getPrependUrl","getClassList","hasDescription","hasImageTitle","hasImageCaption","getImageList","showAccessibilityOptions","isAutomaticUploadsEnabled","parseIntAndGetMax","val1","val2","removePixelSuffix","addPixelSuffix","isPlaceholderImage","imgElm","isSafeImageUrl","isDomSafe","allow_html_data_urls","allow_script_urls","allow_svg_data_urls","getHspace","marginLeft","marginRight","getVspace","marginTop","marginBottom","getBorder","borderWidth","hasCaption","updateAttrib","toggleCaption","figureElm","insertAfter","removeFigure","wrapInFigure","normalizeStyle","normalizeCss","setSize","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","getBorderStyle","isFigure","getIsDecorative","getAlt","getStyleValue","hspace","vspace","isDecorative","updateProp","oldData","setAlt","setAttrib","sugarImage","normalized","updateAlt","normalizeCss$1","mergedCss","splitMargin","mergeMargins","compressed","getSelectedImage","splitTextBlock","figure","textBlockElements","getTextBlockElements","parentElm","isValidChild","textBlock","insertImageAtCaret","insertedElm","writeImageDataToSelection","syncSrcAttr","selectImage","onload","onerror","setAttribs","waitLoadImage","insertOrUpdateImage","partialData","sanitizedData","sanitizeImageData","deleteImage","sanitizeList","sanitizer","extractor","findEntryDelegate","isGroup","ListUtils","optList","AdvTab","collect","urlListSanitizer","futureImageList","imageList","ok","json","createImageList","hasAdvTab$1","hasUploadTab$1","hasUploadUrl$1","hasUploadUrl","hasUploadHandler$1","hasUploadHandler","readImageDataFromSelection","hasDescription$1","hasImageTitle$1","hasDimensions$1","hasImageCaption$1","hasAccessibilityOptions","automaticUploads","prependURL","preUrl","makeItems","imageDescription","useColumns","MainTab","UploadTab","fromImageData","images","borderstyle","fileinput","toImageData","removeEmptyAlt","addPrependUrl","srcURL","prependUrl","addPrependUrl2","formFillFromMeta","formFillFromMeta2","changeSrc","helpers","imageSize","calculateImageSize","prevImage","updateImagesDropdown","changeFileInput","blobUri","URL","createObjectURL","finalize","revokeObjectURL","updateSrcAndSwitchTab","reader","FileReader","readAsDataURL","dataUrl","blobInfo","createBlobCache","uploadImage","alertErr","addToBlobCache","changeHandler","prevAlt","changeImages","closeHandler","makeDialogBody","submitHandler","finalData","editorUpload","uploadImagesAuto","getImageSize","blobCache","filename","base64","stylesArg","upload","Dialog","createState","hasImageClass","toggleContentEditableState","toggleContentEditable","addContextMenu","assumeExternalTargets","hasContextToolbar","getLinkList","getDefaultLinkTarget","getDefaultLinkProtocol","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","sanitizeWith","extracter","ListOptions","createUi","isLink","getHref","collectNodesInRange","cloneContents","walker","hasProtocol","applyRelTargetRules","isUnsafe","rels","removeTargetRules","inArray","newRels","addTargetRules","getAnchorElement","selectedElm","getLinksInSelection","isImageFigure","isInAnchor","getAnchorText","anchorElm","trimCaretContainers","getLinks$2","grep","hasLinks","isOnlyTextSelected","inlineTextElements","getTextInlineElements","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","handleExternalTargets","linkDomMutation","attachState","getLinkAttrs","linkImageFigure","createLink","updateLink","unwrapOptions","cls","uriOptions","sanitizeData","unlinkImageFigure","bookmark","getBookmark","cloneRange","startAnchorElm","endAnchorElm","moveToBookmark","unlinkSelection","unlinkDomMutation","fig","getParents","isListGroup","findTextByValue","catalog","persistentText","hasPersistentText","DialogChanges","linkCatalog","persistentData","onUrlChange","getTitleFromUrlChange","onCatalogChange","catalogs","tryEmailTransform","tryProtocolTransform","defaultLinkProtocol","DialogConfirms","delayedConfirm","AnchorListOptions","anchorNodes","ClassListOptions","parseJson","LinkListOptions","linkList","optItems","RelOptions","isTargetBlank","safeRelExtractor","fallbacks","TargetOptions","nonEmptyAttr","DialogInfo","linkNode","links","linkClass","extractFromAnchor","optNode","flags","titleEnabled","collectData","getChangedValue","changedData","pData","handleSubmit","titleText","defaultTarget","getInitialData","dialogDelta","makeDialog","createEvent","initMouseEvent","appendClickRemove","getLinks","isSelectionOnImageWithEmbeddedLink","getSelectedLink","gotoLink","targetEl","scrollIntoView","openDialog","gotoSelectedLink","toggler","toggleLinkState","toggleLinkMenuState","toggleGotoLinkState","hasExactlyOneLinkInSelection","toggleUnlinkState","hasLinks$1","updateEnabled","setupContextToolbars","onSetupLink","addContextForm","onlyText","getLinkText","collapseSelectionToEnd","setupButtons","setupMenuItems","setupContextMenu","metaKeyPressed","altKey","metaKey","hasOnlyAltModifier","setupGotoLinks","isDuplicated","lastChild","ancestor$3","matchNodeName","matchNodeNames","isTextNode$1","isListNode","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isTableCellNode","isTextBlock","blockElements","isVoid","getVoidElements","isEmpty$2","keepBookmarks","isChildOfBody","isChildOf","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","getBlockElements","createFragment","blockName","blockAttrs","hasContentNode","DOM$2","splitList","li","bookmarks","newBlock","tmpRng","extractContents","removeAndKeepBookmarks","isDescriptionDetail","isDescriptionTerm","outdentDlItem","dl","indentDlItem","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","listNames","listSelector","getParentList","getClosestListHost","getSelectedSubLists","parentList","selectedBlocks","getSelectedBlocks","isParentListSelected","findSubLists","getSelectedListItems","listItemsElms","findParentListItemsNodes","getClosestEditingHost","parentTableCell","parentBlocks","isNotForcedRootBlock","listName","findLastParentListNode","parentLists","getSelectedListRoots","selectedLists","firstList","subsequentLists","getSelectedLists","getParentLists","isListInsideAnLiWithFirstAndLastNotListElement","getUniqueListRoots","lists","listRoots","isCustomList","inList","isWithinNonEditable","isWithinNonEditableList","setNodeChangeHandler","nodeChangeHandler","initialNode","fromElements","fireListEvent","hasFirstChildList","isEntryList","isEntryComment","isIndented","depth","cloneItemContent","joinSegment","createSegment","listType","writeShallow","cast","newCast","itemAttributes","appendItem","listAttributes","normalizeSegment","isEntryFragment","writeDeep","segments","parentListType","createSegments","joinSegments","populateSegments","composeList","firstCommentEntryOpt","firstCommentEntry","fistCast","normalizeEntries","closestSiblingEntry","cleanListProperties","matchingEntry","cloneListProperties","parseSingleItem","itemSelection","selectionState","currentItemEntry","isInPreviousLi","createEntry","childListEntries","parseList","parseItem","parsedSiblings","liChild","isFragment","composeEntries","wasType","groupBy","normalizedEntries","indentedComposer","listItemAttrs","outdentedComposer","listIndentation","indentation","entrySets","sourceList","parseLists","selectedListItems","getItemSelection","entrySet","indentEntry","indentSelectedEntries","composedLists","composedList","selectionIndentation","dlItems","getSelectedDlItems","isHandled","dlIndentation","handleIndentation","selectionIsWithinNonEditableList","indentListSelection","outdentListSelection","flattenListSelection","isZwsp","char","createBookmark","setupEndPoint","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","updateListWithDetails","setStyle","updateListStyle","updateListAttrs","getEndPointNode","findBetterContainer","forward","findBlockAncestor","applyList","listItemName","startPoint","commonAncestorContainer","getRootSearchStart","getContentEditable","selectedTextBlocks","textBlocks","endNode","siblings","isBookmarkNode","getSelectedTextBlocks","listBlock","sib","sibStyle","detailStyle","hasCompatibleStyle","rename","removeStyles","mergeWithAdjacentLists","shouldMerge","list1","list2","isValidLists","hasSameListStyle","elm2","liSibling","updateList$1","newList","updateCustomList","hasListStyleDetail","toggleList","selectedSubLists","parentIsList","allLists","toggleMultipleLists","toggleSingleList","normalizeLists","normalizeList","findNextCaretContainer","nonEmptyBlocks","getNonEmptyElements","isBogusBr","walkFn","prev2","hasOnlyOneBlockChild","isUnwrappable","moveChildren","fromElm","toElm","unwrapSingleBlockChild","mergeLiElements","listNode","ul","nestedLists","mergeForward","fromLi","toLi","mergeIntoEmptyLi","backspaceDeleteFromListToListCaret","selectionStartElm","otherLi","willMergeParentIntoChild","resolvedBookmark","mergeBackward","oldParentElRef","backspaceDeleteIntoListCaret","checkRootAsContent","findValidElement","findRoot","removeBlock","hasListSelection","backspaceDelete","backspaceDeleteCaret","backspaceDeleteRange","parseAlphabeticBase26","chars","charValue","charCodeAt","composeAlphabeticBase26","quotient","fromCharCode","parseDetail","listStyleType","currentList","isLowercase","deduceListType","parseStartValue","queryListCommandState","registerDialog","setStyles","updateList","isTextNode","nodeBuffer","wrapInvalidChildren","insertListItem","buffer","refNode","restBuffer","setupTabKey","DELETE","setupToggleButtonHandler","setupMenuButtonHandler","listProperties","flatten$1","children$3","child$3","addPxSuffix","toInt","radix","getTDTHOverallStyle","firstChildStyle","currentStyle","setAlign","defaultCellBorderWidths","defaultCellBorderStyles","getTableBorderWidths","getTableBorderStyles","hasAdvancedCellTab","hasAdvancedRowTab","hasAdvancedTableTab","hasAppearanceOptions","hasTableGrid","getCellClassList","getRowClassList","getTableClassList","getTableBackgroundColorMap","getTableBorderColorMap","isPixelsForced","isResponsiveForced","getDefaultStyles","determineDefaultStyles","getDefaultAttributes","determineDefaultAttributes","getRowsFromSelection","verticalAlignValues","onSetupToggle","formatValue","boundCallback","checkNode","buildListItems","buildClassList","buildMenuItems","applyTableCellStyle","filterNoneItem","generateMenuItemsCallback","buildColorMenu","colorList","changeRowHeader","changeColumnHeader","getItems$2","getClassList$1","getAdvancedTab","dialogName","advTabItems","DomModifier","setFormat","getRowType$1","onUnlockedMergable","onUnlockedUnmergable","selectedRows","rgbToHex","extractAdvancedStyles","borderwidth","bordercolor","backgroundcolor","getSharedValues","baseData","comparisonData","itemKey","comparisonValue","getAlignment","matchNode","getHAlignment","getVAlignment","cellA","cellB","applyStyleData$1","wasChanged","isSingleCell","cellElm","shouldOverrideCurrentValue","modifier","colModifier","shouldUpdate","updateSimpleProps$1","updateAdvancedProps$1","halign","setVAlign","onSubmitCellForm","modifiedData","celltype","applyStructureData$1","applyCellData","getData$1","cellsData","colElm","extractDataFromCellElement","open$2","dialogTabPanel","dialogPanel","formChildren","getItems$1","applyStyleData","rowElm","updateSimpleProps","updateAdvancedProps","onSubmitRowForm","typeModified","applyStructureData","applyRowData","rowsData","extractDataFromRowElement","insertNewTable","rowColCountItems","appearanceItems","classListItem","styleTDTH","applyDataToElement","shouldApplyOnCell","shouldStyleWithCss$1","hasAdvancedTableTab$1","borderIsZero","removePxSuffix","cellspacing","cellpadding","cellStyles","isEmpty$1","advData","onSubmitTableForm","applicableCellProperties","captionElm","captionModified","hasAdvTableTab","advStyle","extractDataFromSettings","optBorderWidth","extractDataFromTableElement","generalPanel","mceTableProps","mceTableRowProps","mceTableCellProps","mceInsertTableDialog","runAction","getSelectionTargets","changeHandlers","selectionDetails","isCaption","isDisabledForSelection","getSelectionEnd","findTargets","startCellOrCaption","oot","endTable","noMenu","getExtractedDetails","onAny","onFirst","onLast","unmergeable","resetTargets","setupHandler","onSetupWithToggle","isDisabledFromLocked","lockedDisable","onSetupTableHeaders","onSetupTableRowHeaders","onSetupTableColumnHeaders","onSetupTable","onSetupCellOrRow","onSetupColumn","onSetupPasteable","getClipboardData","onSetupPasteableColumn","onSetupMergeable","_targets","onSetupUnmergeable","onSetupTableWithCaption","onSetupEditable$1","Plugin","selectionTargets","addMenuIfRegistered","queryCommandSupported","addToggleMenuIfRegistered","insertTableAction","hasRowMenuItems","hasColumnMenuItems","hasCellMenuItems","tableClassList","tableCellClassList","addMenuItems","addButtonIfRegistered","addToggleButtonIfRegistered","addButtons","isEditableTable","addContextToolbar","addToolbars","getAutoLinkPattern","isBracketOrSpace","findChar","charAt","parseCurrentLine","voidElements","autoLinkPattern","textSeeker","tempOffset","freefallRtl","endSpot","backwards","lastTextNode","startSpot","newRng","convertToLink","defaultLinkTarget","handleSpacebar","handleBracket","handleEnter","module","exports","getDocumentScriptLoader","extendStatics","__assign","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onClearUndos","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDragDrop","onDragGesture","onDragOver","onExecCommand","onGetContent","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onUndo","onVisualAid","onSkinLoadError","onThemeLoadError","onModelLoadError","onPluginLoadError","onIconsLoadError","onLanguageLoadError","onScriptsLoad","onScriptsLoadError","EditorPropTypes","apiKey","licenseKey","onEditorChange","cloudChannel","plugins","textareaName","tinymceScriptSrc","defer","rollback","scriptLoading","isEventProp","eventAttrToEventName","configHandlers","prevProps","boundHandlers","handlerLookup","adapter","prevEventKeys","currEventKeys","removedKeys","addedKeys","wrappedHandler","configHandlers2","uuid","now","isTextareaOrInput","normalizePluginArray","setMode","injectScriptTag","scriptTag","referrerPolicy","loadHandler","errorHandler","ScriptLoader","loader","scriptLoadOrErrorHandler","_i","loadScripts","failureOrLog","successCount","failed","_src","items_1","existing","deleteScripts","getElementById","createDocumentScriptLoader","loadList","doLoad","reinitialize","getTinymce","__extends","__","_super","Editor","_this","rollbackTimer","valueCursor","rollbackChange","currentContent","handleBeforeInput","_evt","handleBeforeInputSpecial","handleEditorChange","newContent","handleEditorChangeSpecial","initialise","elementRef","parent_1","isInDoc","initPlugins","inputPlugins","finalInit","license_key","bindHandlers","init_instance_callback","setDirty","componentDidUpdate","localEditor_1","componentDidMount","getScriptSources","componentWillUnmount","changeEvents","beforeInputEvent","renderInline","renderIframe","Env","InputEvent","getTargetRanges","isValueControlled","wasControlled","nowControlled","propTypes","defaultProps"],"mappings":"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,EAAIhnF,EAAM1E,OACd,KAAO0rF,KAAK,CACV,IAAIp/E,EAAU5H,EAAMgnF,GACpB,GAAuB,iBAAZp/E,EAAsB,CAC/B,MAAMq/E,EAAYH,EAAkBl/E,GAChCq/E,IAAcr/E,IACX+8E,GAAS3kF,KACZA,EAAMgnF,GAAKC,GAEbr/E,EAAUq/E,EAEd,CACAv4E,EAAI9G,IAAW,CACjB,CACA,OAAO8G,CACT,CACA,SAASitB,GAAMurD,GACb,MAAMC,EAAYpC,GAAS,MAC3B,IAAK,MAAOl4E,EAAUpT,KAAUgrF,GAAQyC,GACtCC,EAAUt6E,GAAYpT,EAExB,OAAO0tF,CACT,CACA,SAASC,GAAaF,EAAQtoE,GAC5B,KAAkB,OAAXsoE,GAAiB,CACtB,MAAMxhE,EAAOk/D,GAAyBsC,EAAQtoE,GAC9C,GAAI8G,EAAM,CACR,GAAIA,EAAKvX,IACP,OAAOm3E,GAAQ5/D,EAAKvX,KAEtB,GAA0B,mBAAfuX,EAAKjsB,MACd,OAAO6rF,GAAQ5/D,EAAKjsB,MAExB,CACAytF,EAASnuF,GAAemuF,EAC1B,CAKA,OAJA,SAAuBt/E,GAErB,OADAzB,QAAQm5B,KAAK,qBAAsB13B,GAC5B,IACT,CAEF,CACA,MAAMy/E,GAAS3sE,GAAO,CACpB,IACA,OACA,UACA,UACA,OACA,UACA,QACA,QACA,IACA,MACA,MACA,MACA,QACA,aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAEI4sE,GAAQ5sE,GAAO,CACnB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAEI6sE,GAAa7sE,GAAO,CACxB,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,eACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAEI8sE,GAAgB9sE,GAAO,CAC3B,UACA,gBACA,SACA,UACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAEI+sE,GAAW/sE,GAAO,CACtB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,aACA,gBAEIgtE,GAAmBhtE,GAAO,CAC9B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAEIitE,GAASjtE,GAAO,CAAC,UACjB/U,GAAO+U,GAAO,CAClB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAEIktE,GAAMltE,GAAO,CACjB,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAEImtE,GAASntE,GAAO,CACpB,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAEIotE,GAAMptE,GAAO,CACjB,aACA,SACA,cACA,YACA,gBAEIqtE,GAAgBlD,GAAK,6BACrBmD,GAAWnD,GAAK,yBAChBoD,GAAcpD,GAAK,iBACnBqD,GAAYrD,GAAK,8BACjBsD,GAAYtD,GAAK,kBACjBuD,GAAiBvD,GAAK,6FACtBwD,GAAoBxD,GAAK,yBACzByD,GAAkBzD,GAAK,+DACvB0D,GAAe1D,GAAK,WAC1B,IAAI2D,GAAc1vF,OAAO4hB,OAAO,CAC9BC,UAAW,KACXotE,cAAeA,GACfC,SAAUA,GACVC,YAAaA,GACbC,UAAWA,GACXC,UAAWA,GACXC,eAAgBA,GAChBC,kBAAmBA,GACnBC,gBAAiBA,GACjBC,aAAcA,KAEhB,MAAME,GAAY,IAAwB,oBAAX3hF,OAAyB,KAAOA,OAsxB/D,IAAI4hF,GA7vBJ,SAASC,IACP,IAAI7hF,EAAS0/E,UAAUlrF,OAAS,QAAsBT,IAAjB2rF,UAAU,GAAmBA,UAAU,GAAKiC,KACjF,MAAMG,EAAY/3C,GAAQ83C,EAAgB93C,GAG1C,GAFA+3C,EAAU11E,QAAU,QACpB01E,EAAUC,QAAU,IACf/hF,IAAWA,EAAOhB,UAAyC,IAA7BgB,EAAOhB,SAASkC,SAEjD,OADA4gF,EAAUx9E,aAAc,EACjBw9E,EAET,MAAME,EAAmBhiF,EAAOhB,SAC1BijF,EAAgBD,EAAiBC,cACvC,IAAI,SAACjjF,GAAYgB,EACjB,MAAM,iBAACkiF,EAAgB,oBAAEC,EAAmB,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","file":"3.TerriaJS-specs.js","sourcesContent":["// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'accordion-toggle': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z\"/><path opacity=\".2\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z\"/><path opacity=\".2\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z\"/></svg>',\n    'accordion': '<svg width=\"24\" height=\"24\"><rect x=\"12\" y=\"7\" width=\"10\" height=\"2\" rx=\"1\"/><rect x=\"12\" y=\"11\" width=\"10\" height=\"2\" rx=\"1\"/><rect x=\"12\" y=\"15\" width=\"6\" height=\"2\" rx=\"1\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z\"/></svg>',\n    'addtag': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'ai-prompt': '<svg width=\"24\" height=\"24\"><g clip-path=\"url(#a)\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z\"/><path d=\"m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z\"/></g><defs><clipPath id=\"a\"><path d=\"M0 0h24v24H0z\"/></clipPath></defs></svg>',\n    'ai': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"m13 11-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3 3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/><path d=\"M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z\"/><path d=\"M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z\"/><path d=\"M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z\" fill-rule=\"nonzero\"/></svg>',\n    'footnote': '<svg width=\"24\" height=\"24\"><path d=\"M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19 4v6h-1V5h-1.5V4h2.6Z\"/><path d=\"M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z\"/><path d=\"M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path class=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z\" fill-rule=\"evenodd\"/></svg>',\n    'math-equation': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z\"/></svg>',\n    'minus': '<svg width=\"24\" height=\"24\"><path d=\"M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'revision-history': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z\"/><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z\"/></svg>',\n    'send': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z\"/><path d=\"M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z\" opacity=\".2\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z\"/><path d=\"m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z\"/><path d=\"m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z\"/></svg>',\n    'template-add': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z\"/><path d=\"M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path class=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z\"/></g></svg>',\n    'text-size-decrease': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z\"/></svg>',\n    'text-size-increase': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z\"/></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z\" fill-rule=\"evenodd\"/></svg>',\n    'typography': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z\"/><path d=\"m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z\" fill-rule=\"nonzero\"/></svg>',\n    'export-pdf': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z\"/><path d=\"M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z\"/></svg>',\n    'export-word': '<svg width=\"24\" height=\"24\"><path d=\"M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z\"/></svg>',\n    'import-word': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z\"/><path d=\"M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z\"/><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z\"/></svg>',\n  }\n});","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf$2 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$2(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$i = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$i(xs, 0);\n    const last$1 = xs => get$i(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$h = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path$1 = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path$1(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie$1 = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie$1('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf$1(x).constructor.name));\n    };\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentNode = element => parent(element);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant$1(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$g = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$g(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$f = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue$1 = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$f(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$f(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$e = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$d = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$4 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$3 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$3(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$3(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$2 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$2 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$1 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$c = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$b = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$c(SugarElement.fromDom(doc));\n      return get$b(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$c(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const constrain = (original, constraint) => {\n      const left = Math.max(original.x, constraint.x);\n      const top = Math.max(original.y, constraint.y);\n      const right = Math.min(original.right, constraint.right);\n      const bottom = Math.min(original.bottom, constraint.bottom);\n      const width = right - left;\n      const height = bottom - top;\n      return bounds(left, top, width, height);\n    };\n    const constrainByMany = (original, constraints) => {\n      return foldl(constraints, (acc, c) => constrain(acc, c), original);\n    };\n    const win = () => getBounds$3(window);\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton$1 = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton$1(s => s.destroy());\n    const unbindable = () => singleton$1(s => s.unbind());\n    const value$4 = () => {\n      const subject = singleton$1(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    const value$3 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$3);\n    const Result = {\n      value: value$3,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep$1 = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep$1);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$2 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$2(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$h(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$h(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$h(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$h(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = (props, rawF) => {\n      const f = rawF !== undefined ? rawF : identity;\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return {\n              stype: SimpleResultType.Value,\n              svalue: f(res.svalue)\n            };\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$2(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$2(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$2(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$h(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$h(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$2(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredBoolean = key => requiredOf(key, boolean);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$2(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const externalElementScroll = prefixName('system.external.element.scroll');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const retargetAndDispatchWith = (component, target, eventName, properties) => {\n      const data = {\n        ...properties,\n        target\n      };\n      component.getSystem().triggerEvent(eventName, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const nu$8 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$5 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$h(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$8({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$h(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const NoState = { init: () => nu$7({ readState: constant$1('No State required') }) };\n    const nu$7 = spec => spec;\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$4 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$5(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const read$1 = (element, attr) => {\n      const value = get$g(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read$1(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read$1(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$a = element => read$1(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n    const toggle$5 = (element, clazz) => {\n      if (contains$2(get$a(element), clazz)) {\n        return remove$3(element, clazz);\n      } else {\n        return add$3(element, clazz);\n      }\n    };\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$a(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const toggle$4 = (element, clazz) => {\n      const result = supports(element) ? element.dom.classList.toggle(clazz) : toggle$5(element, clazz);\n      cleanClass(element);\n      return result;\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$1 = (element, classes) => {\n      each$1(classes, x => {\n        remove$2(element, x);\n      });\n    };\n    const toggle$3 = (element, classes) => {\n      each$1(classes, x => {\n        toggle$4(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$9 = element => supports(element) ? getNative(element) : get$a(element);\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, bounds) => box.y < bounds.bottom && box.bottom > bounds.y;\n    const isTopCompletelyVisible = (box, bounds) => box.y >= bounds.y;\n    const isBottomCompletelyVisible = (box, bounds) => box.bottom <= bounds.bottom;\n    const forceTopPosition = (winBox, leftX, viewport) => ({\n      location: 'top',\n      leftX,\n      topY: viewport.bounds.y - winBox.y\n    });\n    const forceBottomPosition = (winBox, leftX, viewport) => ({\n      location: 'bottom',\n      leftX,\n      bottomY: winBox.bottom - viewport.bounds.bottom\n    });\n    const getDockedLeftPosition = bounds => {\n      return bounds.box.x - bounds.win.x;\n    };\n    const tryDockingPosition = (modes, bounds, viewport) => {\n      const winBox = bounds.win;\n      const box = bounds.box;\n      const leftX = getDockedLeftPosition(bounds);\n      return findMap(modes, mode => {\n        switch (mode) {\n        case 'bottom':\n          return !isBottomCompletelyVisible(box, viewport.bounds) ? Optional.some(forceBottomPosition(winBox, leftX, viewport)) : Optional.none();\n        case 'top':\n          return !isTopCompletelyVisible(box, viewport.bounds) ? Optional.some(forceTopPosition(winBox, leftX, viewport)) : Optional.none();\n        default:\n          return Optional.none();\n        }\n      }).getOr({ location: 'no-dock' });\n    };\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport.bounds);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport.bounds);\n      }\n    });\n    const getXYForRestoring = (pos, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(pos.bounds.y), scrollEnv => scrollEnv.scrollElmTop + (pos.bounds.y - scrollEnv.currentScrollTop));\n      return SugarPosition(pos.bounds.x, priorY);\n    };\n    const getXYForSaving = (box, viewport) => {\n      const priorY = viewport.optScrollEnv.fold(constant$1(box.y), scrollEnv => box.y + scrollEnv.currentScrollTop - scrollEnv.scrollElmTop);\n      return SugarPosition(box.x, priorY);\n    };\n    const getPrior = (elem, viewport, state) => state.getInitialPos().map(pos => {\n      const xy = getXYForRestoring(pos, viewport);\n      return {\n        box: bounds(xy.left, xy.top, get$d(elem), get$e(elem)),\n        location: pos.location\n      };\n    });\n    const storePrior = (elem, box, viewport, state, decision) => {\n      const xy = getXYForSaving(box, viewport);\n      const bounds$1 = bounds(xy.left, xy.top, box.width, box.height);\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$f(elem, 'position') || 'static',\n        bounds: bounds$1,\n        location: decision.location\n      });\n    };\n    const storePriorIfNone = (elem, box, viewport, state, decision) => {\n      state.getInitialPos().fold(() => storePrior(elem, box, viewport, state, decision), () => noop);\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      var _a;\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some({ morph: 'static' });\n      case 'absolute':\n        const offsetParent = getOffsetParent(elem).getOr(body());\n        const offsetBox = box$1(offsetParent);\n        const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n        return Optional.some({\n          morph: 'absolute',\n          positionCss: NuPositionCss('absolute', get$h(position.style, 'left').map(_left => box.x - offsetBox.x), get$h(position.style, 'top').map(_top => box.y - offsetBox.y + scrollDelta), get$h(position.style, 'right').map(_right => offsetBox.right - box.right), get$h(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))\n        });\n      default:\n        return Optional.none();\n      }\n    });\n    const tryMorphToOriginal = (elem, viewport, state) => getPrior(elem, viewport, state).filter(({box}) => isVisibleForModes(state.getModes(), box, viewport)).bind(({box}) => revertToOriginal(elem, box, state));\n    const tryDecisionToFixedMorph = decision => {\n      switch (decision.location) {\n      case 'top': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.some(decision.topY), Optional.none(), Optional.none())\n          });\n        }\n      case 'bottom': {\n          return Optional.some({\n            morph: 'fixed',\n            positionCss: NuPositionCss('fixed', Optional.some(decision.leftX), Optional.none(), Optional.none(), Optional.some(decision.bottomY))\n          });\n        }\n      default:\n        return Optional.none();\n      }\n    };\n    const tryMorphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const decision = tryDockingPosition(state.getModes(), {\n        win: winBox,\n        box\n      }, viewport);\n      if (decision.location === 'top' || decision.location === 'bottom') {\n        storePrior(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryMorphToOriginalOrUpdateFixed = (elem, viewport, state) => {\n      return tryMorphToOriginal(elem, viewport, state).orThunk(() => {\n        return viewport.optScrollEnv.bind(_ => getPrior(elem, viewport, state)).bind(({box, location}) => {\n          const winBox = win();\n          const leftX = getDockedLeftPosition({\n            win: winBox,\n            box\n          });\n          const decision = location === 'top' ? forceTopPosition(winBox, leftX, viewport) : forceBottomPosition(winBox, leftX, viewport);\n          return tryDecisionToFixedMorph(decision);\n        });\n      });\n    };\n    const tryMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? tryMorphToOriginalOrUpdateFixed(elem, viewport, state) : tryMorphToFixed(elem, viewport, state);\n    };\n    const calculateMorphToOriginal = (component, viewport, state) => {\n      const elem = component.element;\n      return getPrior(elem, viewport, state).bind(({box}) => revertToOriginal(elem, box, state));\n    };\n    const forceDockWith = (elem, viewport, state, getDecision) => {\n      const box = box$1(elem);\n      const winBox = win();\n      const leftX = getDockedLeftPosition({\n        win: winBox,\n        box\n      });\n      const decision = getDecision(winBox, leftX, viewport);\n      if (decision.location === 'bottom' || decision.location === 'top') {\n        storePriorIfNone(elem, box, viewport, state, decision);\n        return tryDecisionToFixedMorph(decision);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$6(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport.bounds);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const applyFixedMorph = (component, config, state, viewport, morph) => {\n      updateVisibility(component, config, state, viewport, true);\n      morphToCoord(component, config, state, morph.positionCss);\n    };\n    const applyMorph = (component, config, state, viewport, morph) => {\n      switch (morph.morph) {\n      case 'static': {\n          return morphToStatic(component, config, state);\n        }\n      case 'absolute': {\n          return morphToCoord(component, config, state, morph.positionCss);\n        }\n      case 'fixed': {\n          return applyFixedMorph(component, config, state, viewport, morph);\n        }\n      }\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      updateVisibility(component, config, state, viewport);\n      tryMorph(component, viewport, state).each(morph => {\n        applyMorph(component, config, state, viewport, morph);\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      const viewport = config.lazyViewport(component);\n      calculateMorphToOriginal(component, viewport, state).each(staticOrAbsoluteMorph => {\n        switch (staticOrAbsoluteMorph.morph) {\n        case 'static': {\n            morphToStatic(component, config, state);\n            break;\n          }\n        case 'absolute': {\n            morphToCoord(component, config, state, staticOrAbsoluteMorph.positionCss);\n            break;\n          }\n        }\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    const refresh$4 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset$2 = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const forceDockWithDecision = getDecision => (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const optMorph = forceDockWith(component.element, viewport, state, getDecision);\n      optMorph.each(morph => {\n        applyFixedMorph(component, config, state, viewport, morph);\n      });\n    };\n    const forceDockToTop = forceDockWithDecision(forceTopPosition);\n    const forceDockToBottom = forceDockWithDecision(forceBottomPosition);\n    const isDocked$2 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset$2,\n        isDocked: isDocked$2,\n        getModes: getModes,\n        setModes: setModes,\n        forceDockToTop: forceDockToTop,\n        forceDockToBottom: forceDockToBottom\n    });\n\n    const events$i = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$1(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$4(component, dockInfo, dockState);\n      }),\n      run$1(externalElementScroll(), (component, _) => {\n        refresh$4(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset$2(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$8 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$8(container);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$h(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', () => ({\n        bounds: win(),\n        optScrollEnv: Optional.none()\n      })),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$g = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$4();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$7({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Docking = create$4({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$h = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton = NoContextApi();\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$h(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$h(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$8({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'toolbar-button-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$8({}), nu$8);\n    const toEvents = info => info.events;\n\n    const get$7 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$5(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$5);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$2(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$7(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$6(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$9(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$1(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        const value = definition.value.getOrUndefined();\n        if (value !== get$7(valueElement)) {\n          set$5(valueElement, value !== null && value !== void 0 ? value : '');\n        }\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$h(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$h(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$2 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const sibling$1 = (scope, predicate) => {\n      const element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child$1(SugarElement.fromDom(element.parentNode), x => !eq(scope, x) && predicate(x));\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const first$1 = selector => one(selector);\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const sibling = (scope, selector) => sibling$1(scope, e => is(e, selector));\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$g(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$g(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$7(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$h(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$g = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const Receiving = create$4({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$8({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = (element, preventScroll = false) => element.dom.focus({ preventScroll });\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$c();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, optBounds) => optBounds.fold(() => origin.fold(win, win, bounds), bounds$1 => origin.fold(constant$1(bounds$1), constant$1(bounds$1), () => {\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$c();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$1 = element => remove$7(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$f(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, optBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, optBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$h(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$f(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$g(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$6 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$6(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$6(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$c(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$6(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const ancestors = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$5 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$5(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const isSimRange = detail => detail.foffset !== undefined;\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        if (isSimRange(sel)) {\n          const modStart = descendOnce(sel.start, sel.soffset);\n          const modFinish = descendOnce(sel.finish, sel.foffset);\n          return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n        } else {\n          return sel;\n        }\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        if (isSimRange(sel)) {\n          const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n            const zeroWidth$1 = SugarElement.fromText(zeroWidth);\n            before$1(sel.start, zeroWidth$1);\n            const rect = getFirstRect(win, SimSelection.exact(zeroWidth$1, 0, zeroWidth$1, 1));\n            remove$5(zeroWidth$1);\n            return rect;\n          });\n          return optRect.bind(rawRect => {\n            return getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height);\n          });\n        } else {\n          const selectionRect = map$1(sel, cell => cell.dom.getBoundingClientRect());\n          const bounds = {\n            left: Math.min(selectionRect.firstCell.left, selectionRect.lastCell.left),\n            right: Math.max(selectionRect.firstCell.right, selectionRect.lastCell.right),\n            top: Math.min(selectionRect.firstCell.top, selectionRect.lastCell.top),\n            bottom: Math.max(selectionRect.firstCell.bottom, selectionRect.lastCell.bottom)\n          };\n          return getBox(bounds.left, bounds.top, bounds.right - bounds.left, bounds.bottom - bounds.top);\n        }\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => {\n        if (isSimRange(sel)) {\n          return isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start);\n        } else {\n          return Optional.some(sel.firstCell);\n        }\n      });\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$6(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (origin, anchoring, optBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, optBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      const optWithinBounds = Optional.none();\n      positionWithinBounds(component, posConfig, posState, placee, placementSpec, optWithinBounds);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, optWithinBounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        anchorage.placement(component, anchorage, origin).each(anchoring => {\n          const optBounds = optWithinBounds.orThunk(() => posConfig.getBounds.map(apply$1));\n          const newState = place(origin, anchoring, optBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$6(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$6(element, prop));\n      reset$1(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset\n    });\n\n    const init$f = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$h(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$7({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Positioning = create$4({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$5(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$7(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$6(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$f = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$e = () => {\n      const contents = value$4();\n      const readState = constant$1('not-implemented');\n      return nu$7({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$e\n    });\n\n    const Sandboxing = create$4({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$e = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$e\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$7({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$7({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$h(dataByValue.get(), itemString).orThunk(() => get$h(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$h(item, 'meta').each(meta => {\n            get$h(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$7({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$d = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$d\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$4({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$4 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$4\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$h(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$h(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$g(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$4({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$7(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$g(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$8({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$d = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$d\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$4({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        const shouldSkip = exists(skip, skipComp => eq(skipComp.element, h));\n        if (!shouldSkip) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$4({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift$1 = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift$1);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$2 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$e(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const isFirstChild = elem => parentNode(elem).bind(firstChild).exists(child => eq(child, elem));\n      const goFromPseudoTabstop = (component, simulatedEvent, tabbingConfig) => findCurrent(component, tabbingConfig).filter(elem => !tabbingConfig.useTabstopAt(elem)).bind(elem => (isFirstChild(elem) ? goBackwards : goForwards)(component, simulatedEvent, tabbingConfig));\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift$1,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([\n        rule(inSet(ESCAPE), exit),\n        rule(inSet(TAB), goFromPseudoTabstop)\n      ]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$2(customField('cyclic', never));\n\n    var CyclicType = create$2(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$4();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$7({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$c = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$c\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$3 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE), stopEventForFirefox)\n    ]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$3));\n\n    const f = (container, selector, current, delta, getNewIndex) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$g(candidate, 'disabled') === 'disabled';\n      const tryNewIndex = (initial, index, candidates) => getNewIndex(initial, index, delta, 0, candidates.length - 1, candidates[index], newIndex => isDisabledButton(candidates[newIndex]) ? tryNewIndex(initial, newIndex, candidates) : Optional.from(candidates[newIndex]));\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryNewIndex(index, index, candidates);\n      });\n    };\n    const horizontalWithoutCycles = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, oldCandidate, onNewIndex) => {\n      const newIndex = clamp(v + d, min, max);\n      return newIndex === prevIndex ? Optional.from(oldCandidate) : onNewIndex(newIndex);\n    });\n    const horizontal = (container, selector, current, delta) => f(container, selector, current, delta, (prevIndex, v, d, min, max, _oldCandidate, onNewIndex) => {\n      const newIndex = cycleBy(v, d, min, max);\n      return newIndex === prevIndex ? Optional.none() : onNewIndex(newIndex);\n    });\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true),\n      defaulted('allowHorizontal', true),\n      defaulted('cycles', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$2 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => (info.cycles ? horizontal : horizontalWithoutCycles)(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = [...flowConfig.allowHorizontal ? LEFT : []].concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = [...flowConfig.allowHorizontal ? RIGHT : []].concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([\n      rule(inSet(SPACE), stopEventForFirefox),\n      rule(inSet(ESCAPE), doEscape)\n    ]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$2));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$1 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$1));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift$1,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift$1,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => [\n      ...specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [],\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$4({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$c = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$4({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$c(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$8(mod);\n    };\n    const events$b = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$b\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$4({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const initialState = toggleState.get();\n      toggleState.set(state);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n      if (initialState !== state) {\n        toggleConfig.onToggled(component, state);\n      }\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, true);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, false);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$8({});\n    const events$a = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$a\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      onHandler('onToggled'),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$4({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$9 = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const toggledEvent = 'alloy.item-toggled';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const onToggled = (item, state) => {\n      emitWith(item, toggledEvent, {\n        item,\n        state\n      });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n    const toggled = constant$1(toggledEvent);\n\n    const getItemRole = detail => detail.toggling.map(toggling => toggling.exclusive ? 'menuitemradio' : 'menuitemcheckbox').getOr('menuitem');\n    const getTogglingSpec = tConfig => ({\n      aria: { mode: 'checked' },\n      ...filter$1(tConfig, (_value, name) => name !== 'exclusive'),\n      onToggled: (component, state) => {\n        if (isFunction(tConfig.onToggled)) {\n          tConfig.onToggled(component, state);\n        }\n        onToggled(component, state);\n      }\n    });\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': getItemRole(detail),\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config(getTogglingSpec(tConfig))),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      previousSelector: movementInfo.previousSelector,\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector'),\n          defaulted('previousSelector', Optional.none)\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight'),\n      defaulted('menuRole', true)\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const deselectOtherRadioItems = (menu, item) => {\n      const checkedRadioItems = descendants(menu.element, '[role=\"menuitemradio\"][aria-checked=\"true\"]');\n      each$1(checkedRadioItems, ele => {\n        if (!eq(ele, item.element)) {\n          menu.getSystem().getByDom(ele).each(c => {\n            Toggling.off(c);\n          });\n        }\n      });\n    };\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight,\n          onDehighlight: detail.onDehighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        }),\n        run$1(toggled(), (menu, simulatedEvent) => {\n          const {item, state} = simulatedEvent.event;\n          if (state && get$g(item.element, 'role') === 'menuitemradio') {\n            deselectOtherRadioItems(menu, item);\n          }\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      ...detail.menuRole ? { domModification: { attributes: { role: 'menu' } } } : {}\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$h(byMenu, finish).bind(triggerItem => get$h(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$h(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$b = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$4();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$h(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$h(expansions.get(), itemValue).map(menu => {\n        const current = get$h(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$h(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$h(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$h(menus.get(), menuValue);\n      const lookupItem = itemValue => get$h(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$b,\n      extractPreparedMenu\n    };\n\n    const onMenuItemHighlightedEvent = generate$6('tiered-menu-item-highlight');\n    const onMenuItemDehighlightedEvent = generate$6('tiered-menu-item-dehighlight');\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightMenuAndItem'] = 0] = 'HighlightMenuAndItem';\n      HighlightOnOpen[HighlightOnOpen['HighlightJustMenu'] = 1] = 'HighlightJustMenu';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 2] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$4();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: (menuComp, itemComp) => {\n            const highlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemHighlightedEvent, highlightData);\n          },\n          onDehighlight: (menuComp, itemComp) => {\n            const dehighlightData = {\n              menuComp,\n              itemComp\n            };\n            emitWith(menuComp, onMenuItemDehighlightedEvent, dehighlightData);\n          },\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = Highlighting.highlight;\n      const setActiveMenuAndItem = (container, menu) => {\n        setActiveMenu(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          if (detail.fakeFocus) {\n            Highlighting.highlight(menu, item);\n          } else {\n            dispatch(container, item.element, focusItem());\n          }\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$g(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenuAndItem(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => {\n        return closest$1(simulatedEvent.getSource(), `.${ detail.markers.item }`).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      };\n      const events = derive$2([\n        run$1(focus(), (tmenu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(tmenu, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(tmenu, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightOnOpen === HighlightOnOpen.HighlightMenuAndItem) {\n              setActiveMenuAndItem(container, primary);\n            } else if (detail.highlightOnOpen === HighlightOnOpen.HighlightJustMenu) {\n              setActiveMenu(container, primary);\n            }\n          });\n        }),\n        run$1(onMenuItemHighlightedEvent, (tmenuComp, se) => {\n          detail.onHighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        run$1(onMenuItemDehighlightedEvent, (tmenuComp, se) => {\n          detail.onDehighlightItem(tmenuComp, se.event.menuComp, se.event.itemComp);\n        }),\n        ...detail.navigateOnHover ? [run$1(hover(), (tmenu, simulatedEvent) => {\n            const item = simulatedEvent.event.item;\n            updateView(tmenu, item);\n            expandRight(tmenu, item, ExpandHighlightDecision.HighlightParent);\n            detail.onHover(tmenu, item);\n          })] : []\n      ]);\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenuAndItem(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$g(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightOnOpen', HighlightOnOpen.HighlightMenuAndItem),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlightItem'),\n        onHandler('onDehighlightItem'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightOnOpen: menuSpec.menu.highlightOnOpen,\n        fakeFocus: menuSpec.menu.fakeFocus,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$o = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        const getBounds = Optional.none;\n        showWithinBounds(sandbox, thing, placementSpec, getBounds);\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$o,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$e = editor => {\n      const isPhone = global$6.deviceType.isPhone();\n      const isMobile = global$6.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$8.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('font_size_input_default_unit', {\n        processor: 'string',\n        default: 'pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('ui_mode', {\n        processor: 'string',\n        default: 'combined'\n      });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('promotion', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$6.deviceType.isTouch()\n      });\n      registerOption('sidebar_show', { processor: 'string' });\n      registerOption('help_accessibility', {\n        processor: 'boolean',\n        default: editor.hasPlugin('help')\n      });\n      registerOption('default_font_stack', {\n        processor: 'string[]',\n        default: []\n      });\n    };\n    const isReadOnly = option$2('readonly');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFontSizeInputDefaultUnit = option$2('font_size_input_default_unit');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const getSidebarShow = option$2('sidebar_show');\n    const promotionEnabled = option$2('promotion');\n    const useHelpAccessibility = option$2('help_accessibility');\n    const getDefaultFontStack = option$2('default_font_stack');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$7.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getSkinUrlOption = editor => Optional.from(editor.options.get('skin_url'));\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      var _a;\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = (_a = fixedContainerSelector(editor)) !== null && _a !== void 0 ? _a : '';\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const isSplitUiMode = editor => !useFixedContainer(editor) && editor.options.get('ui_mode') === 'split';\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$e,\n        getSkinUrl: getSkinUrl,\n        getSkinUrlOption: getSkinUrlOption,\n        isReadOnly: isReadOnly,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        isSplitUiMode: isSplitUiMode,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        getFontSizeInputDefaultUnit: getFontSizeInputDefaultUnit,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        promotionEnabled: promotionEnabled,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText,\n        getSidebarShow: getSidebarShow,\n        useHelpAccessibility: useHelpAccessibility,\n        getDefaultFontStack: getDefaultFontStack\n    });\n\n    const nonScrollingOverflows = [\n      'visible',\n      'hidden',\n      'clip'\n    ];\n    const isScrollingOverflowValue = value => trim$1(value).length > 0 && !contains$2(nonScrollingOverflows, value);\n    const isScroller = elem => {\n      if (isHTMLElement(elem)) {\n        const overflowX = get$f(elem, 'overflow-x');\n        const overflowY = get$f(elem, 'overflow-y');\n        return isScrollingOverflowValue(overflowX) || isScrollingOverflowValue(overflowY);\n      } else {\n        return false;\n      }\n    };\n    const detect = popupSinkElem => {\n      const ancestorsScrollers = ancestors(popupSinkElem, isScroller);\n      const scrollers = ancestorsScrollers.length === 0 ? getShadowRoot(popupSinkElem).map(getShadowHost).map(x => ancestors(x, isScroller)).getOr([]) : ancestorsScrollers;\n      return head(scrollers).map(element => ({\n        element,\n        others: scrollers.slice(1)\n      }));\n    };\n    const detectWhenSplitUiMode = (editor, popupSinkElem) => isSplitUiMode(editor) ? detect(popupSinkElem) : Optional.none();\n    const getBoundsFrom = sc => {\n      const scrollableBoxes = [\n        ...map$2(sc.others, box$1),\n        win()\n      ];\n      return constrainByMany(box$1(sc.element), scrollableBoxes);\n    };\n\n    const factory$n = detail => {\n      const events = events$9(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$h(detail.dom, 'attributes').bind(attrs => get$h(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = detail.role.getOr(lookupAttr('role').getOr('button'));\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$n,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$8(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    const exhibit$2 = (base, tabConfig) => nu$8({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$4({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n    const ImmediateHideTooltipEvent = generate$6('tooltip.immediateHide');\n    const ImmediateShowTooltipEvent = generate$6('tooltip.immediateShow');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (component, tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    const events$8 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          if (p.getSystem().isConnected()) {\n            detach(p);\n            tooltipConfig.onHide(comp, p);\n            state.clearTooltip();\n          }\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      const reposition = comp => {\n        state.getTooltip().each(tooltip => {\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          Positioning.position(sink, tooltip, { anchor: tooltipConfig.anchor(comp) });\n        });\n      };\n      const getEvents = () => {\n        switch (tooltipConfig.mode) {\n        case 'normal':\n          return [\n            run$1(focusin(), comp => {\n              emit(comp, ImmediateShowTooltipEvent);\n            }),\n            run$1(postBlur(), comp => {\n              emit(comp, ImmediateHideTooltipEvent);\n            }),\n            run$1(mouseover(), comp => {\n              emit(comp, ShowTooltipEvent);\n            }),\n            run$1(mouseout(), comp => {\n              emit(comp, HideTooltipEvent);\n            })\n          ];\n        case 'follow-highlight':\n          return [\n            run$1(highlight$1(), (comp, _se) => {\n              emit(comp, ShowTooltipEvent);\n            }),\n            run$1(dehighlight$1(), comp => {\n              emit(comp, HideTooltipEvent);\n            })\n          ];\n        case 'children-normal':\n          return [\n            run$1(focusin(), (comp, se) => {\n              search(comp.element).each(_ => {\n                if (is(se.event.target, '[data-mce-tooltip]')) {\n                  state.getTooltip().fold(() => {\n                    emit(comp, ImmediateShowTooltipEvent);\n                  }, tooltip => {\n                    if (state.isShowing()) {\n                      tooltipConfig.onShow(comp, tooltip);\n                      reposition(comp);\n                    }\n                  });\n                }\n              });\n            }),\n            run$1(postBlur(), comp => {\n              search(comp.element).fold(() => {\n                emit(comp, ImmediateHideTooltipEvent);\n              }, noop);\n            }),\n            run$1(mouseover(), comp => {\n              descendant(comp.element, '[data-mce-tooltip]:hover').each(_ => {\n                state.getTooltip().fold(() => {\n                  emit(comp, ShowTooltipEvent);\n                }, tooltip => {\n                  if (state.isShowing()) {\n                    tooltipConfig.onShow(comp, tooltip);\n                    reposition(comp);\n                  }\n                });\n              });\n            }),\n            run$1(mouseout(), comp => {\n              descendant(comp.element, '[data-mce-tooltip]:hover').fold(() => {\n                emit(comp, HideTooltipEvent);\n              }, noop);\n            })\n          ];\n        default:\n          return [\n            run$1(focusin(), (comp, se) => {\n              search(comp.element).each(_ => {\n                if (is(se.event.target, '[data-mce-tooltip]')) {\n                  state.getTooltip().fold(() => {\n                    emit(comp, ImmediateShowTooltipEvent);\n                  }, tooltip => {\n                    if (state.isShowing()) {\n                      tooltipConfig.onShow(comp, tooltip);\n                      reposition(comp);\n                    }\n                  });\n                }\n              });\n            }),\n            run$1(postBlur(), comp => {\n              search(comp.element).fold(() => {\n                emit(comp, ImmediateHideTooltipEvent);\n              }, noop);\n            })\n          ];\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delayForShow());\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delayForHide());\n          }),\n          run$1(ImmediateShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, 0);\n          }),\n          run$1(ImmediateHideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, 0);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        getEvents()\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaultedFunction('delayForShow', constant$1(300)),\n      defaultedFunction('delayForHide', constant$1(300)),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight',\n        'children-keyboard-focus',\n        'children-normal'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        },\n        bubble: nu$5(0, -2, {})\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$a = () => {\n      const timer = value$4();\n      const popup = value$4();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$7({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Tooltipping = create$4({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    const {entries, setPrototypeOf, isFrozen, getPrototypeOf, getOwnPropertyDescriptor} = Object;\n    let {freeze, seal, create: create$1} = Object;\n    let {apply, construct} = typeof Reflect !== 'undefined' && Reflect;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return new Func(...args);\n      };\n    }\n    const arrayForEach = unapply(Array.prototype.forEach);\n    const arrayPop = unapply(Array.prototype.pop);\n    const arrayPush = unapply(Array.prototype.push);\n    const stringToLowerCase = unapply(String.prototype.toLowerCase);\n    const stringToString = unapply(String.prototype.toString);\n    const stringMatch = unapply(String.prototype.match);\n    const stringReplace = unapply(String.prototype.replace);\n    const stringIndexOf = unapply(String.prototype.indexOf);\n    const stringTrim = unapply(String.prototype.trim);\n    const regExpTest = unapply(RegExp.prototype.test);\n    const typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array, transformCaseFunc) {\n      var _transformCaseFunc;\n      transformCaseFunc = (_transformCaseFunc = transformCaseFunc) !== null && _transformCaseFunc !== void 0 ? _transformCaseFunc : stringToLowerCase;\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      let l = array.length;\n      while (l--) {\n        let element = array[l];\n        if (typeof element === 'string') {\n          const lcElement = transformCaseFunc(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      const newObject = create$1(null);\n      for (const [property, value] of entries(object)) {\n        newObject[property] = value;\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        const desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    const html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    const svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    const svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feDropShadow',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    const svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    const mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover',\n      'mprescripts'\n    ]);\n    const mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    const text$1 = freeze(['#text']);\n    const html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    const svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    const mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    const xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n    const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    const ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    const DOCTYPE_NAME = seal(/^html$/i);\n    var EXPRESSIONS = Object.freeze({\n      __proto__: null,\n      MUSTACHE_EXPR: MUSTACHE_EXPR,\n      ERB_EXPR: ERB_EXPR,\n      TMPLIT_EXPR: TMPLIT_EXPR,\n      DATA_ATTR: DATA_ATTR,\n      ARIA_ATTR: ARIA_ATTR,\n      IS_ALLOWED_URI: IS_ALLOWED_URI,\n      IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE: ATTR_WHITESPACE,\n      DOCTYPE_NAME: DOCTYPE_NAME\n    });\n    const getGlobal = () => typeof window === 'undefined' ? null : window;\n    const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n      if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      let suffix = null;\n      const ATTR_NAME = 'data-tt-policy-suffix';\n      if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n        suffix = purifyHostElement.getAttribute(ATTR_NAME);\n      }\n      const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML(html) {\n            return html;\n          },\n          createScriptURL(scriptUrl) {\n            return scriptUrl;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      const DOMPurify = root => createDOMPurify(root);\n      DOMPurify.version = '3.0.5';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      const originalDocument = window.document;\n      const currentScript = originalDocument.currentScript;\n      let {document} = window;\n      const {DocumentFragment, HTMLTemplateElement, Node, Element, NodeFilter, NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap, HTMLFormElement, DOMParser, trustedTypes} = window;\n      const ElementPrototype = Element.prototype;\n      const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        const template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      let trustedTypesPolicy;\n      let emptyHTML = '';\n      const {implementation, createNodeIterator, createDocumentFragment, getElementsByTagName} = document;\n      const {importNode} = originalDocument;\n      let hooks = {};\n      DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n      const {MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR, DATA_ATTR, ARIA_ATTR, IS_SCRIPT_OR_DATA, ATTR_WHITESPACE} = EXPRESSIONS;\n      let {IS_ALLOWED_URI: IS_ALLOWED_URI$1} = EXPRESSIONS;\n      let ALLOWED_TAGS = null;\n      const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n        ...html$1,\n        ...svg$1,\n        ...svgFilters,\n        ...mathMl$1,\n        ...text$1\n      ]);\n      let ALLOWED_ATTR = null;\n      const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n        ...html,\n        ...svg,\n        ...mathMl,\n        ...xml\n      ]);\n      let CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      let FORBID_TAGS = null;\n      let FORBID_ATTR = null;\n      let ALLOW_ARIA_ATTR = true;\n      let ALLOW_DATA_ATTR = true;\n      let ALLOW_UNKNOWN_PROTOCOLS = false;\n      let ALLOW_SELF_CLOSE_IN_ATTR = true;\n      let SAFE_FOR_TEMPLATES = false;\n      let WHOLE_DOCUMENT = false;\n      let SET_CONFIG = false;\n      let FORCE_BODY = false;\n      let RETURN_DOM = false;\n      let RETURN_DOM_FRAGMENT = false;\n      let RETURN_TRUSTED_TYPE = false;\n      let SANITIZE_DOM = true;\n      let SANITIZE_NAMED_PROPS = false;\n      const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n      let KEEP_CONTENT = true;\n      let IN_PLACE = false;\n      let USE_PROFILES = {};\n      let FORBID_CONTENTS = null;\n      const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      let DATA_URI_TAGS = null;\n      const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      let URI_SAFE_ATTRIBUTES = null;\n      const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      let NAMESPACE = HTML_NAMESPACE;\n      let IS_EMPTY_INPUT = false;\n      let ALLOWED_NAMESPACES = null;\n      const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [\n        MATHML_NAMESPACE,\n        SVG_NAMESPACE,\n        HTML_NAMESPACE\n      ], stringToString);\n      let PARSER_MEDIA_TYPE;\n      const SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      let transformCaseFunc;\n      let CONFIG = null;\n      const formElement = document.createElement('form');\n      const isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      const _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || typeof cfg !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n        ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, [...text$1]);\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (cfg.TRUSTED_TYPES_POLICY) {\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n          }\n          if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n            throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n          }\n          trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        } else {\n          if (trustedTypesPolicy === undefined) {\n            trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n          }\n          if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n            emptyHTML = trustedTypesPolicy.createHTML('');\n          }\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      const HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      const ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      const ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      const _checkValidNamespace = function _checkValidNamespace(element) {\n        let parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        const tagName = stringToLowerCase(element.tagName);\n        const parentTagName = stringToLowerCase(parent.tagName);\n        if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return false;\n        }\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n          return true;\n        }\n        return false;\n      };\n      const _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          node.remove();\n        }\n      };\n      const _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      const _initDocument = function _initDocument(dirty) {\n        let doc;\n        let leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        const body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      const _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      const _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n      };\n      const _isNode = function _isNode(object) {\n        return typeof Node === 'object' ? object instanceof Node : object && typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], hook => {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      const _sanitizeElements = function _sanitizeElements(currentNode) {\n        let content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        const tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              const childCount = childNodes.length;\n              for (let i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR, ' ');\n          content = stringReplace(content, ERB_EXPR, ' ');\n          content = stringReplace(content, TMPLIT_EXPR, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, '')));\n        else if (value) {\n          return false;\n        } else ;\n        return true;\n      };\n      const _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        let attr;\n        let value;\n        let lcName;\n        let l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        const {attributes} = currentNode;\n        if (!attributes) {\n          return;\n        }\n        const hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          const {name, namespaceURI} = attr;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          const initValue = value;\n          lcName = transformCaseFunc(name);\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR, ' ');\n            value = stringReplace(value, ERB_EXPR, ' ');\n            value = stringReplace(value, TMPLIT_EXPR, ' ');\n          }\n          const lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n            _removeAttribute(name, currentNode);\n            value = SANITIZE_NAMED_PROPS_PREFIX + value;\n          }\n          if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n            if (namespaceURI);\n            else {\n              switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML': {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n              case 'TrustedScriptURL': {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n              }\n            }\n          }\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                currentNode.setAttribute(name, value);\n              }\n            } catch (_) {\n              _removeAttribute(name, currentNode);\n            }\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        let shadowNode;\n        const shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty) {\n        let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        let body;\n        let importedNode;\n        let currentNode;\n        let returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString === 'function') {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          } else {\n            throw typeErrorCreate('toString is not a function');\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            const tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n        }\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n          serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        const lcTag = transformCaseFunc(tag);\n        const lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const sanitizeHtmlString = html => purify().sanitize(html);\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$h(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$5.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$h(icons, getIconName(name, icons));\n    const get$3 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$5.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$3 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$h(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$3(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$3(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$m = detail => {\n      const notificationTextId = generate$6('notification-text');\n      const memBannerText = record({\n        dom: fromHtml(`<p id=${ notificationTextId }>${ sanitizeHtmlString(detail.backstageProvider.translate(detail.text)) }</p>`),\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$2(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { 'aria-label': detail.backstageProvider.translate('Close') }\n        },\n        components: [render$3('close', {\n            tag: 'span',\n            classes: ['tox-icon']\n          }, detail.iconProvider)],\n        buttonBehaviours: derive$1([\n          Tabstopping.config({}),\n          Tooltipping.config({ ...detail.backstageProvider.tooltips.getConfig({ tooltipText: detail.backstageProvider.translate('Close') }) })\n        ]),\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            'role': 'alert',\n            'aria-labelledby': notificationTextId\n          },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              detail.onAction(comp);\n              return Optional.some(true);\n            }\n          })\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat([memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$m,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        option$3('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('backstageProvider')\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership, notificationRegion) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBounds = () => {\n        const contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n        return Optional.some(contentArea);\n      };\n      const clampComponentsToBounds = components => {\n        getBounds().each(bounds => {\n          each$1(components, comp => {\n            if (get$d(comp.element) > bounds.width) {\n              set$8(comp.element, 'width', bounds.width + 'px');\n            }\n          });\n        });\n      };\n      const open = (settings, closeCallback, isEditorOrUIFocused) => {\n        const close = () => {\n          const removeNotificationAndReposition = region => {\n            Replacing.remove(region, notification);\n            reposition();\n          };\n          const manageRegionVisibility = (region, editorOrUiFocused) => {\n            if (children(region.element).length === 0) {\n              handleEmptyRegion(region, editorOrUiFocused);\n            } else {\n              handleRegionWithChildren(region, editorOrUiFocused);\n            }\n          };\n          const handleEmptyRegion = (region, editorOrUIFocused) => {\n            InlineView.hide(region);\n            notificationRegion.clear();\n            if (editorOrUIFocused) {\n              editor.focus();\n            }\n          };\n          const handleRegionWithChildren = (region, editorOrUIFocused) => {\n            if (editorOrUIFocused) {\n              Keying.focusIn(region);\n            }\n          };\n          notificationRegion.on(region => {\n            closeCallback();\n            const editorOrUIFocused = isEditorOrUIFocused();\n            removeNotificationAndReposition(region);\n            manageRegionVisibility(region, editorOrUIFocused);\n          });\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: settings.icon,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          backstageProvider: sharedBackstage.providers\n        }));\n        if (!notificationRegion.isSet()) {\n          const notificationWrapper = build$1(InlineView.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-notifications-container'],\n              attributes: {\n                'aria-label': 'Notifications',\n                'role': 'region'\n              }\n            },\n            lazySink: sharedBackstage.getSink,\n            fireDismissalEventInstead: {},\n            ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              Keying.config({\n                mode: 'cyclic',\n                selector: '.tox-notification, .tox-notification a, .tox-notification button'\n              }),\n              Replacing.config({}),\n              ...isStickyToolbar(editor) && !sharedBackstage.header.isPositionedAtTop() ? [] : [Docking.config({\n                  contextual: {\n                    lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n                    fadeInClass: 'tox-notification-container-dock-fadein',\n                    fadeOutClass: 'tox-notification-container-dock-fadeout',\n                    transitionClass: 'tox-notification-container-dock-transition'\n                  },\n                  modes: ['top'],\n                  lazyViewport: comp => {\n                    const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                    return optScrollingContext.map(sc => {\n                      const combinedBounds = getBoundsFrom(sc);\n                      return {\n                        bounds: combinedBounds,\n                        optScrollEnv: Optional.some({\n                          currentScrollTop: sc.element.dom.scrollTop,\n                          scrollElmTop: absolute$3(sc.element).top\n                        })\n                      };\n                    }).getOrThunk(() => ({\n                      bounds: win(),\n                      optScrollEnv: Optional.none()\n                    }));\n                  }\n                })]\n            ])\n          }));\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const anchor = {\n            ...sharedBackstage.anchors.banner(),\n            overrides: anchorOverrides\n          };\n          notificationRegion.set(notificationWrapper);\n          uiMothership.add(notificationWrapper);\n          InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n        } else {\n          const notificationSpec = premade(notification);\n          notificationRegion.on(notificationWrapper => {\n            Replacing.append(notificationWrapper, notificationSpec);\n            InlineView.reposition(notificationWrapper);\n            Docking.refresh(notificationWrapper);\n            clampComponentsToBounds(notificationWrapper.components());\n          });\n        }\n        if (isNumber(settings.timeout) && settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          notificationRegion.on(region => {\n            InlineView.reposition(region);\n            Docking.refresh(region);\n            clampComponentsToBounds(region.components());\n          });\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getMenu().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getMenu().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', () => {\n        if (api.isActive() && !api.isProcessingAction() && !editor.queryCommandState('mceAutoCompleterInRange')) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$h(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const schema$l = constant$1([\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$7(input);\n          input.dom.setSelectionRange(0, value.length);\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return get$7(input.element);\n            },\n            setValue: (input, data) => {\n              const current = get$7(input.element);\n              if (current !== data) {\n                set$5(input.element, data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: 'text',\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$l = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$l(),\n      factory: factory$l\n    });\n\n    const refetchTriggerEvent = generate$6('refetch-trigger-event');\n    const redirectMenuItemInteractionEvent = generate$6('redirect-menu-item-interaction');\n\n    const menuSearcherClass = 'tox-menu__searcher';\n    const findWithinSandbox = sandboxComp => {\n      return descendant(sandboxComp.element, `.${ menuSearcherClass }`).bind(inputElem => sandboxComp.getSystem().getByDom(inputElem).toOptional());\n    };\n    const findWithinMenu = findWithinSandbox;\n    const restoreState = (inputComp, searcherState) => {\n      Representing.setValue(inputComp, searcherState.fetchPattern);\n      inputComp.element.dom.selectionStart = searcherState.selectionStart;\n      inputComp.element.dom.selectionEnd = searcherState.selectionEnd;\n    };\n    const saveState = inputComp => {\n      const fetchPattern = Representing.getValue(inputComp);\n      const selectionStart = inputComp.element.dom.selectionStart;\n      const selectionEnd = inputComp.element.dom.selectionEnd;\n      return {\n        fetchPattern,\n        selectionStart,\n        selectionEnd\n      };\n    };\n    const setActiveDescendant = (inputComp, active) => {\n      getOpt(active.element, 'id').each(id => set$9(inputComp.element, 'aria-activedescendant', id));\n    };\n    const renderMenuSearcher = spec => {\n      const handleByBrowser = (comp, se) => {\n        se.cut();\n        return Optional.none();\n      };\n      const handleByHighlightedItem = (comp, se) => {\n        const eventData = {\n          interactionEvent: se.event,\n          eventType: se.event.raw.type\n        };\n        emitWith(comp, redirectMenuItemInteractionEvent, eventData);\n        return Optional.some(true);\n      };\n      const customSearcherEventsName = 'searcher-events';\n      return {\n        dom: {\n          tag: 'div',\n          classes: [selectableClass]\n        },\n        components: [Input.sketch({\n            inputClasses: [\n              menuSearcherClass,\n              'tox-textfield'\n            ],\n            inputAttributes: {\n              ...spec.placeholder.map(placeholder => ({ placeholder: spec.i18n(placeholder) })).getOr({}),\n              'type': 'search',\n              'aria-autocomplete': 'list'\n            },\n            inputBehaviours: derive$1([\n              config(customSearcherEventsName, [\n                run$1(input(), inputComp => {\n                  emit(inputComp, refetchTriggerEvent);\n                }),\n                run$1(keydown(), (inputComp, se) => {\n                  if (se.event.raw.key === 'Escape') {\n                    se.stop();\n                  }\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onLeft: handleByBrowser,\n                onRight: handleByBrowser,\n                onSpace: handleByBrowser,\n                onEnter: handleByHighlightedItem,\n                onEscape: handleByHighlightedItem,\n                onUp: handleByHighlightedItem,\n                onDown: handleByHighlightedItem\n              })\n            ]),\n            eventOrder: {\n              keydown: [\n                customSearcherEventsName,\n                Keying.name()\n              ]\n            }\n          })]\n      };\n    };\n\n    const searchResultsClass = 'tox-collection--results__js';\n    const augmentWithAria = item => {\n      var _a;\n      if (item.dom) {\n        return {\n          ...item,\n          dom: {\n            ...item.dom,\n            attributes: {\n              ...(_a = item.dom.attributes) !== null && _a !== void 0 ? _a : {},\n              'id': generate$6('aria-item-search-result-id'),\n              'aria-selected': 'false'\n            }\n          }\n        };\n      } else {\n        return item;\n      }\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components && item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const insertItemsPlaceholder = (columns, initItems, onItem) => {\n      return Menu.parts.items({\n        preprocess: rawItems => {\n          const enrichedItems = map$2(rawItems, onItem);\n          if (columns !== 'auto' && columns > 1) {\n            return chunk({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)(enrichedItems);\n          } else {\n            return preprocessCollection(enrichedItems, (_item, i) => initItems[i].type === 'separator');\n          }\n        }\n      });\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [insertItemsPlaceholder(columns, initItems, identity)]\n    });\n    const forCollectionWithSearchResults = (columns, initItems, _hasIcons = true) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            searchResultsClass\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid']),\n          attributes: { id: ariaControlsSearchResults }\n        },\n        components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n      };\n    };\n    const forCollectionWithSearchField = (columns, initItems, searchField) => {\n      const ariaControlsSearchResults = generate$6('aria-controls-search-results');\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [\n          renderMenuSearcher({\n            i18n: global$5.translate,\n            placeholder: searchField.placeholder\n          }),\n          {\n            dom: {\n              tag: 'div',\n              classes: [\n                ...columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'],\n                searchResultsClass\n              ],\n              attributes: { id: ariaControlsSearchResults }\n            },\n            components: [insertItemsPlaceholder(columns, initItems, augmentWithAria)]\n          }\n        ]\n      };\n    };\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _menuLayout) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, menuLayout) => {\n      const getNormalStructure = () => {\n        if (menuLayout.menuType !== 'searchable') {\n          return forCollection(columns, items);\n        } else {\n          return menuLayout.searchMode.searchMode === 'search-with-field' ? forCollectionWithSearchField(columns, items, menuLayout.searchMode) : forCollectionWithSearchResults(columns, items);\n        }\n      };\n      if (menuLayout.menuType === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'normal' || menuLayout.menuType === 'searchable') {\n        const structure = getNormalStructure();\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else if (menuLayout.menuType === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      } else {\n        return {\n          value,\n          dom: dom$1(hasIcons, columns, menuLayout.menuType),\n          components: components,\n          items\n        };\n      }\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction,\n      optionalShortcut\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction,\n      optionalShortcut\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const contextFormSchema = objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [\n      optionFunction('select'),\n      defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        defaultedString('storageKey', 'default'),\n        optionArrayOf('colors', anyValue())\n      ])\n    ].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const ReadOnlyChannel = 'silver.readonly';\n    const ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    const broadcastReadonly = (uiRefs, readonly) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const target = outerContainer.element;\n      const motherships = [\n        uiRefs.mainUi.mothership,\n        ...uiRefs.uiMotherships\n      ];\n      if (readonly) {\n        each$1(motherships, m => {\n          m.broadcastOn([dismissPopups()], { target });\n        });\n      }\n      each$1(motherships, m => {\n        m.broadcastOn([ReadOnlyChannel], { readonly });\n      });\n    };\n    const setupReadonlyModeSwitch = (editor, uiRefs) => {\n      editor.on('init', () => {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiRefs, true);\n        }\n      });\n      editor.on('SwitchMode', () => broadcastReadonly(uiRefs, editor.mode.isReadOnly()));\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const receivingConfig = () => Receiving.config({\n      channels: {\n        [ReadOnlyChannel]: {\n          schema: ReadOnlyDataSchema,\n          onReceive: (comp, data) => {\n            Disabling.set(comp, data.readonly);\n          }\n        }\n      }\n    });\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$6.os.isMacOS() || global$6.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$2 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$2(global$5.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$2(global$5.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$2(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$2('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$2('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$2('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const attributes = item.ariaLabel.map(al => ({\n        'aria-label': providerBackstage.translate(al),\n        'data-mce-name': al\n      })).getOr({});\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else if (isNonNullable(itemValue)) {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue },\n            innerHtml: icon\n          };\n        } else {\n          return baseDom;\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({\n        attributes: {\n          'id': generate$6('menu-item'),\n          'aria-label': global$5.translate(label)\n        }\n      })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage, tooltipText) => get$h(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOrThunk(() => {\n      return tooltipText.map(text => [Tooltipping.config({\n          ...sharedBackstage.providers.tooltips.getConfig({ tooltipText: text }),\n          mode: 'follow-highlight'\n        })]).getOr([]);\n    });\n    const encodeText = text => global$8.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$5.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      const tooltipString = spec.text.filter(text => !useText && text !== '');\n      return renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec, sharedBackstage, tooltipString)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      const optTooltipping = spec.text.filter(constant$1(!useText)).map(t => Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate(t) })));\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: [...optTooltipping.toArray()]\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active,\n          exclusive: true\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => {\n      editor.dispatch('SkinLoaded');\n    };\n    const fireSkinLoadError$1 = (editor, error) => {\n      editor.dispatch('SkinLoadError', error);\n    };\n    const fireResizeEditor = editor => {\n      editor.dispatch('ResizeEditor');\n    };\n    const fireResizeContent = (editor, e) => {\n      editor.dispatch('ResizeContent', e);\n    };\n    const fireScrollContent = (editor, e) => {\n      editor.dispatch('ScrollContent', e);\n    };\n    const fireTextColorChange = (editor, data) => {\n      editor.dispatch('TextColorChange', data);\n    };\n    const fireAfterProgressState = (editor, state) => {\n      editor.dispatch('AfterProgressState', { state });\n    };\n    const fireResolveName = (editor, node) => editor.dispatch('ResolveName', {\n      name: node.nodeName.toLowerCase(),\n      target: node\n    });\n    const fireToggleToolbarDrawer = (editor, state) => {\n      editor.dispatch('ToggleToolbarDrawer', { state });\n    };\n    const fireStylesTextUpdate = (editor, data) => {\n      editor.dispatch('StylesTextUpdate', data);\n    };\n    const fireAlignTextUpdate = (editor, data) => {\n      editor.dispatch('AlignTextUpdate', data);\n    };\n    const fireFontSizeTextUpdate = (editor, data) => {\n      editor.dispatch('FontSizeTextUpdate', data);\n    };\n    const fireFontSizeInputTextUpdate = (editor, data) => {\n      editor.dispatch('FontSizeInputTextUpdate', data);\n    };\n    const fireBlocksTextUpdate = (editor, data) => {\n      editor.dispatch('BlocksTextUpdate', data);\n    };\n    const fireFontFamilyTextUpdate = (editor, data) => {\n      editor.dispatch('FontFamilyTextUpdate', data);\n    };\n\n    const composeUnbinders = (f, g) => () => {\n      f();\n      g();\n    };\n    const onSetupEditableToggle = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.selection.isEditable());\n    });\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundFormatChangeCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundFormatChangeCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundFormatChangeCallback.clear();\n      };\n    };\n    const onSetupStateToggle = (editor, name) => api => {\n      const unbindEditableToogle = onSetupEditableToggle(editor)(api);\n      const unbindFormatToggle = onSetupFormatToggle(editor, name)(api);\n      return () => {\n        unbindEditableToogle();\n        unbindFormatToggle();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const cacheStorage = {};\n    const ColorCache = (storageId, max = 10) => {\n      const storageString = global$4.getItem(storageId);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageId, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n    const getCacheForId = id => get$h(cacheStorage, id).getOrThunk(() => {\n      const storageId = `tinymce-custom-colors-${ id }`;\n      const currentData = global$4.getItem(storageId);\n      if (isNullable(currentData)) {\n        const legacyDefault = global$4.getItem('tinymce-custom-colors');\n        global$4.setItem(storageId, isNonNullable(legacyDefault) ? legacyDefault : '[]');\n      }\n      const storage = ColorCache(storageId, 10);\n      cacheStorage[id] = storage;\n      return storage;\n    });\n    const getCurrentColors = id => map$2(getCacheForId(id).state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      icon: 'checkmark',\n      value: color\n    }));\n    const addColor = (id, color) => {\n      getCacheForId(id).add(color);\n    };\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    const foregroundId = 'forecolor';\n    const backgroundId = 'hilitecolor';\n    const fallbackCols = 5;\n    const mapColors = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          icon: 'checkmark',\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const fallbackColor = '#000000';\n    const register$d = editor => {\n      const registerOption = editor.options.register;\n      const colorProcessor = value => {\n        if (isArrayOf(value, isString)) {\n          return {\n            value: mapColors(value),\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be an array of strings.'\n          };\n        }\n      };\n      const colorColsProcessor = value => {\n        if (isNumber(value) && value > 0) {\n          return {\n            value,\n            valid: true\n          };\n        } else {\n          return {\n            valid: false,\n            message: 'Must be a positive number.'\n          };\n        }\n      };\n      registerOption('color_map', {\n        processor: colorProcessor,\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_map_background', { processor: colorProcessor });\n      registerOption('color_map_foreground', { processor: colorProcessor });\n      registerOption('color_cols', {\n        processor: colorColsProcessor,\n        default: calcCols(editor)\n      });\n      registerOption('color_cols_foreground', {\n        processor: colorColsProcessor,\n        default: defaultCols(editor, foregroundId)\n      });\n      registerOption('color_cols_background', {\n        processor: colorColsProcessor,\n        default: defaultCols(editor, backgroundId)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('color_default_foreground', {\n        processor: 'string',\n        default: fallbackColor\n      });\n      registerOption('color_default_background', {\n        processor: 'string',\n        default: fallbackColor\n      });\n    };\n    const getColors$2 = (editor, id) => {\n      if (id === foregroundId && editor.options.isSet('color_map_foreground')) {\n        return option$1('color_map_foreground')(editor);\n      } else if (id === backgroundId && editor.options.isSet('color_map_background')) {\n        return option$1('color_map_background')(editor);\n      } else {\n        return option$1('color_map')(editor);\n      }\n    };\n    const calcCols = (editor, id = 'default') => Math.max(fallbackCols, Math.ceil(Math.sqrt(getColors$2(editor, id).length)));\n    const defaultCols = (editor, id) => {\n      const defaultCols = option$1('color_cols')(editor);\n      const calculatedCols = calcCols(editor, id);\n      if (defaultCols === calcCols(editor)) {\n        return calculatedCols;\n      } else {\n        return defaultCols;\n      }\n    };\n    const getColorCols$1 = (editor, id = 'default') => {\n      const getCols = () => {\n        if (id === foregroundId) {\n          return option$1('color_cols_foreground')(editor);\n        } else if (id === backgroundId) {\n          return option$1('color_cols_background')(editor);\n        } else {\n          return option$1('color_cols')(editor);\n        }\n      };\n      return Math.round(getCols());\n    };\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getDefaultForegroundColor = option$1('color_default_foreground');\n    const getDefaultBackgroundColor = option$1('color_default_background');\n\n    const defaultBackgroundColor = 'rgba(0, 0, 0, 0)';\n    const isValidBackgroundColor = value => fromString(value).exists(c => c.alpha !== 0);\n    const getClosestCssBackgroundColorValue = scope => {\n      return closest$4(scope, node => {\n        if (isElement$1(node)) {\n          const color = get$f(node, 'background-color');\n          return someIf(isValidBackgroundColor(color), color);\n        } else {\n          return Optional.none();\n        }\n      }).getOr(defaultBackgroundColor);\n    };\n    const getCurrentColor = (editor, format) => {\n      const node = SugarElement.fromDom(editor.selection.getStart());\n      const cssRgbValue = format === 'hilitecolor' ? getClosestCssBackgroundColorValue(node) : get$f(node, 'color');\n      return fromString(cssRgbValue).map(rgba => '#' + fromRgba(rgba).value);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, undefined, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(format, color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, getCurrentColor(editor, format).getOr(fallbackColor));\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, id, hasCustom) => colors.concat(getCurrentColors(id).concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, id, hasCustom) => callback => {\n      callback(getColors$1(colors, id, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const setTooltip = (buttonApi, tooltip) => {\n      buttonApi.setTooltip(tooltip);\n    };\n    const select$1 = (editor, format) => value => {\n      const optCurrentHex = getCurrentColor(editor, format);\n      return is$1(optCurrentHex, value.toUpperCase());\n    };\n    const getToolTipText = (editor, format, lastColor) => {\n      if (isEmpty(lastColor)) {\n        return format === 'forecolor' ? 'Text color' : 'Background color';\n      }\n      const tooltipPrefix = format === 'forecolor' ? 'Text color {0}' : 'Background color {0}';\n      const colors = getColors$1(getColors$2(editor, format), format, false);\n      const colorText = find$5(colors, c => c.value === lastColor).getOr({ text: '' }).text;\n      return editor.translate([\n        tooltipPrefix,\n        editor.translate(colorText)\n      ]);\n    };\n    const registerTextColorButton = (editor, name, format, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: getToolTipText(editor, format, lastColor.get()),\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: select$1(editor, format),\n        columns: getColorCols$1(editor, format),\n        fetch: getFetch$1(getColors$2(editor, format), format, hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n              setTooltip(splitButtonApi, getToolTipText(editor, format, e.color));\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return composeUnbinders(onSetupEditableToggle(editor)(splitButtonApi), () => {\n            editor.off('TextColorChange', handler);\n          });\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text, lastColor) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        onSetup: api => {\n          setTooltip(api, getToolTipText(editor, format, lastColor.get()));\n          setIconColor(api, name, lastColor.get());\n          return onSetupEditableToggle(editor)(api);\n        },\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            select: select$1(editor, format),\n            initData: { storageKey: format },\n            onAction: data => {\n              applyColor(editor, format, data.value, newColor => {\n                lastColor.set(newColor);\n                fireTextColorChange(editor, {\n                  name,\n                  color: newColor\n                });\n              });\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$c = editor => {\n      registerCommands(editor);\n      const fallbackColorForeground = getDefaultForegroundColor(editor);\n      const fallbackColorBackground = getDefaultBackgroundColor(editor);\n      const lastForeColor = Cell(fallbackColorForeground);\n      const lastBackColor = Cell(fallbackColorBackground);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      const menuLayout = { menuType: presets };\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, menuLayout);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(d.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass,\n          previousSelector: menu => {\n            return presets === 'color' ? descendant(menu.element, '[aria-checked=true]') : Optional.none();\n          }\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols(spec.initData.storageKey);\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets),\n        menuRole: false\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(spec.initData.storageKey), spec.initData.storageKey, useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeAnnouncementText = backstage => (row, col) => backstage.shared.providers.translate([\n      '{0} columns, {1} rows',\n      col,\n      row\n    ]);\n    const makeCell = (row, col, label) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-label']: label\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (getCellLabel, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          const label = getCellLabel(i + 1, j + 1);\n          row.push(makeCell(i, j, label));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$2(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = (spec, backstage) => {\n      const numRows = 10;\n      const numColumns = 10;\n      const getCellLabel = makeAnnouncementText(backstage);\n      const cells = makeCells(getCellLabel, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label']\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$h(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state),\n        setIconFill: (id, value) => {\n          descendant(component.element, `svg path[class=\"${ id }\"], rect[class=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setTooltip: tooltip => {\n          const translatedTooltip = providersBackstage.translate(tooltip);\n          set$9(component.element, 'aria-label', translatedTooltip);\n        }\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$2).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n    const getExistingCoupled = (component, coupleConfig, coupleState, name) => coupleState.getExisting(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled,\n        getExistingCoupled: getExistingCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$9 = () => {\n      const coupled = {};\n      const lookupCoupled = (coupleConfig, coupledName) => {\n        const available = keys(coupleConfig.others);\n        if (available.length === 0) {\n          throw new Error('Cannot find any known coupled components');\n        } else {\n          return get$h(coupled, coupledName);\n        }\n      };\n      const getOrCreate = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).getOrThunk(() => {\n          const builder = get$h(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          const spec = builder(component);\n          const built = component.getSystem().build(spec);\n          coupled[name] = built;\n          return built;\n        });\n      };\n      const getExisting = (component, coupleConfig, name) => {\n        return lookupCoupled(coupleConfig, name).orThunk(() => {\n          get$h(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n          return Optional.none();\n        });\n      };\n      const readState = constant$1({});\n      return nu$7({\n        readState,\n        getExisting,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$9\n    });\n\n    const Coupling = create$4({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => Optional.from(tieredMenu.sketch({\n        ...externals.menu(),\n        uid: generate$5(''),\n        data,\n        highlightOnOpen,\n        onOpenMenu: (tmenu, menu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, menu, { anchor });\n          Sandboxing.decloak(sandbox);\n        },\n        onOpenSubmenu: (tmenu, item, submenu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item\n            }\n          });\n          Sandboxing.decloak(sandbox);\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, primaryMenu, { anchor });\n          each$1(submenuTriggers, st => {\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem\n              }\n            });\n          });\n        },\n        onEscape: () => {\n          Focusing.focus(component);\n          Sandboxing.close(sandbox);\n          return Optional.some(true);\n        }\n      }))));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$d(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        lazySink().getOr(menu).element.dom.dispatchEvent(new window.FocusEvent('focusout'));\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaControls.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$k = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const parts$e = constant$1([\n      external({\n        schema: [\n          tieredMenuMarkers(),\n          defaulted('fakeFocus', false)\n        ],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$k = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$h(detail.dom, 'attributes').bind(attrs => get$h(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const togglePopup$1 = (dropdownComp, onOpenSync, highlightOnOpen) => {\n        return togglePopup(detail, identity, dropdownComp, externals, onOpenSync, highlightOnOpen);\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup$1(component, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        refetch: comp => {\n          const optSandbox = Coupling.getExistingCoupled(comp, 'sandbox');\n          return optSandbox.fold(() => {\n            return togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          }, sandboxComp => {\n            return open(detail, identity, comp, sandboxComp, externals, noop, HighlightOnOpen.HighlightMenuAndItem).map(noop);\n          });\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup$1(comp, noop, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$9(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': 'true',\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$k(),\n      partFields: parts$e(),\n      factory: factory$k,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        refetch: (apis, comp) => apis.refetch(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const identifyMenuLayout = searchMode => {\n      switch (searchMode.searchMode) {\n      case 'no-search': {\n          return { menuType: 'normal' };\n        }\n      default: {\n          return {\n            menuType: 'searchable',\n            searchMode\n          };\n        }\n      }\n    };\n    const handleRefetchTrigger = originalSandboxComp => {\n      const dropdown = Representing.getValue(originalSandboxComp);\n      const optSearcherState = findWithinSandbox(originalSandboxComp).map(saveState);\n      Dropdown.refetch(dropdown).get(() => {\n        const newSandboxComp = Coupling.getCoupled(dropdown, 'sandbox');\n        optSearcherState.each(searcherState => findWithinSandbox(newSandboxComp).each(inputComp => restoreState(inputComp, searcherState)));\n      });\n    };\n    const handleRedirectToMenuItem = (sandboxComp, se) => {\n      getActiveMenuItemFrom(sandboxComp).each(activeItem => {\n        retargetAndDispatchWith(sandboxComp, activeItem.element, se.event.eventType, se.event.interactionEvent);\n      });\n    };\n    const getActiveMenuItemFrom = sandboxComp => {\n      return Sandboxing.getState(sandboxComp).bind(Highlighting.getHighlighted).bind(Highlighting.getHighlighted);\n    };\n    const getSearchResults = activeMenuComp => {\n      return has(activeMenuComp.element, searchResultsClass) ? Optional.some(activeMenuComp.element) : descendant(activeMenuComp.element, '.' + searchResultsClass);\n    };\n    const updateAriaOnHighlight = (tmenuComp, menuComp, itemComp) => {\n      findWithinMenu(tmenuComp).each(inputComp => {\n        setActiveDescendant(inputComp, itemComp);\n        const optActiveResults = getSearchResults(menuComp);\n        optActiveResults.each(resultsElem => {\n          getOpt(resultsElem, 'id').each(controlledId => set$9(inputComp.element, 'aria-controls', controlledId));\n        });\n      });\n      set$9(itemComp.element, 'aria-selected', 'true');\n    };\n    const updateAriaOnDehighlight = (tmenuComp, menuComp, itemComp) => {\n      set$9(itemComp.element, 'aria-selected', 'false');\n    };\n    const focusSearchField = tmenuComp => {\n      findWithinMenu(tmenuComp).each(searcherComp => Focusing.focus(searcherComp));\n    };\n    const getSearchPattern = dropdownComp => {\n      const optSandboxComp = Coupling.getExistingCoupled(dropdownComp, 'sandbox');\n      return optSandboxComp.bind(findWithinSandbox).map(saveState).map(state => state.fetchPattern).getOr('');\n    };\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(d, backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage, Optional.none()),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu, searchMode) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const menuLayout = identifyMenuLayout(searchMode);\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, menuLayout);\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createInlineMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        data: createTieredDataFrom({\n          ...partialMenu,\n          movement,\n          menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n              detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n                Keying.setGridSize(comp, numRows, numColumns);\n              });\n            })])\n        }),\n        menu: {\n          markers: markers(presets),\n          fakeFocus: focusMode === FocusMode.ContentFocus\n        }\n      };\n    };\n\n    const rangeToSimRange = r => SimRange.create(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    const register$b = (editor, sharedBackstage) => {\n      const autocompleterId = generate$6('autocompleter');\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const activeRange = value$4();\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter'],\n          attributes: { id: autocompleterId }\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [\n            run$1(dismissRequested(), () => cancelIfNecessary()),\n            run$1(highlight$1(), (_, se) => {\n              getOpt(se.event.target, 'id').each(id => set$9(SugarElement.fromDom(editor.getBody()), 'aria-activedescendant', id));\n            })\n          ])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n          editor.dom.remove(autocompleterId, false);\n          const editorBody = SugarElement.fromDom(editor.getBody());\n          getOpt(editorBody, 'aria-owns').filter(ariaOwnsAttr => ariaOwnsAttr === autocompleterId).each(() => {\n            remove$7(editorBody, 'aria-owns');\n            remove$7(editorBody, 'aria-activedescendant');\n          });\n        }\n      };\n      const getMenu = () => InlineView.getContent(autocompleter).bind(tmenu => {\n        return get$i(tmenu.components(), 0);\n      });\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const autocompleterApi = {\n              hide: () => cancelIfNecessary(),\n              reload: fetchOptions => {\n                hideIfNecessary();\n                editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n              }\n            };\n            editor.execCommand('mceAutocompleterRefreshActiveRange');\n            activeRange.get().each(range => {\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n        InlineView.showMenuAt(autocompleter, {\n          anchor: {\n            type: 'selection',\n            getSelection: () => activeRange.get().map(rangeToSimRange),\n            root: SugarElement.fromDom(editor.getBody())\n          }\n        }, createInlineMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, { menuType: 'normal' }), columns, FocusMode.ContentFocus, 'normal'));\n        getMenu().each(Highlighting.highlightFirst);\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n          set$9(SugarElement.fromDom(editor.getBody()), 'aria-owns', autocompleterId);\n          if (!editor.inline) {\n            cloneAutocompleterToEditorDoc();\n          }\n        } else {\n          hideIfNecessary();\n        }\n      };\n      const cloneAutocompleterToEditorDoc = () => {\n        if (editor.dom.get(autocompleterId)) {\n          editor.dom.remove(autocompleterId, false);\n        }\n        const docElm = editor.getDoc().documentElement;\n        const selection = editor.selection.getNode();\n        const newElm = deep(autocompleter.element);\n        setAll(newElm, {\n          border: '0',\n          clip: 'rect(0 0 0 0)',\n          height: '1px',\n          margin: '-1px',\n          overflow: 'hidden',\n          padding: '0',\n          position: 'absolute',\n          width: '1px',\n          top: `${ selection.offsetTop }px`,\n          left: `${ selection.offsetLeft }px`\n        });\n        editor.dom.add(docElm, newElm.dom);\n        descendant(newElm, '[role=\"menu\"]').each(child => {\n          remove$6(child, 'position');\n          remove$6(child, 'max-height');\n        });\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterUpdateActiveRange', ({range}) => activeRange.set(range));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n        activeRange.clear();\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getMenu\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$b };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$4();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$h(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$4();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$4();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$h(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read(elem).bind(id => get$h(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$h(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$h(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$h(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$j = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$4(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$j = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$d = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$i = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$i,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$3 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$2(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const icons = providersBackstage.icons();\n      const getIcon = icon => {\n        var _a;\n        return (_a = icons[icon]) !== null && _a !== void 0 ? _a : icon;\n      };\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$g(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const htmlLines = map$2(items, item => {\n          const itemText = global$5.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ getIcon(item.icon) }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          const disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return `<div data-mce-tooltip=\"${ ariaLabel }\" class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n            blur$1(currentActive);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Tooltipping.config({\n            ...providersBackstage.tooltips.getConfig({\n              tooltipText: '',\n              onShow: comp => {\n                descendant(comp.element, '.' + activeClass + '[data-mce-tooltip]').each(current => {\n                  getOpt(current, 'data-mce-tooltip').each(text => {\n                    Tooltipping.setComponents(comp, providersBackstage.tooltips.getComponents({ tooltipText: text }));\n                  });\n                });\n              }\n            }),\n            mode: 'children-keyboard-focus',\n            anchor: comp => ({\n              type: 'node',\n              node: descendant(comp.element, '.' + activeClass).orThunk(() => first$1('.tox-collection__item')),\n              root: comp.element,\n              layouts: {\n                onLtr: constant$1([\n                  south$2,\n                  north$2,\n                  southeast$2,\n                  northeast$2,\n                  southwest$2,\n                  northwest$2\n                ]),\n                onRtl: constant$1([\n                  south$2,\n                  north$2,\n                  southeast$2,\n                  northeast$2,\n                  southwest$2,\n                  northwest$2\n                ])\n              },\n              bubble: nu$5(0, -2, {})\n            })\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ],\n          [focusin()]: [\n            'collection-events',\n            'tooltipping'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$7 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$4({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const exhibit$1 = () => nu$8({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$6 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$4({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n        receivingConfig(),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(spec.storageKey, value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(spec.storageKey), spec.storageKey, colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(spec.storageKey),\n        presets: 'color',\n        onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const isShift = event => isShift$1(event.event);\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: (spectrum, event) => model.onLeft(spectrum, detail, isShift(event)),\n              onRight: (spectrum, event) => model.onRight(spectrum, detail, isShift(event)),\n              onUp: (spectrum, event) => model.onUp(spectrum, detail, isShift(event)),\n              onDown: (spectrum, event) => model.onDown(spectrum, detail, isShift(event))\n            }),\n            Tabstopping.config({}),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$2 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$2(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = (detail, useMultiplier) => useMultiplier ? detail.stepSize * detail.speedMultiplier : detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail, useMultiplier));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail, useMultiplier) => moveBy$2(direction, spectrum, detail, useMultiplier).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail, useMultiplier));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail, useMultiplier) => moveBy$1(direction, spectrum, detail, useMultiplier).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$e(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail, useMultiplier) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail, useMultiplier));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail, useMultiplier));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail, useMultiplier) => moveBy(direction, isVerticalMovement, spectrum, detail, useMultiplier).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$d(thumb.element) / 2;\n      const thumbYRadius = get$e(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('speedMultiplier', 10),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      const focusWidget = component => {\n        getPart(component, detail, 'spectrum').map(Keying.focusIn);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: focusWidget\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), (component, event) => {\n            focusWidget(component);\n            onDragStart(component, event);\n          }),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: {\n            'role': 'slider',\n            'aria-valuemin': 0,\n            'aria-valuemax': 360,\n            'aria-valuenow': 120\n          }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          set$9(slider.element, 'aria-valuenow', Math.floor(360 - value * 3.6));\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx) => {\n      const invalidation = (label, isValid) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            attributes: { 'aria-label': description }\n          },\n          components: [text$2(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            type: 'text',\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const comps = [\n          pLabel,\n          pField\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(hex.value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n        set$9(slider.element, 'aria-valuetext', translate([\n          'Saturation {0}%, Brightness {1}%',\n          hsv.saturation,\n          hsv.value\n        ]));\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          if (!isNumber(value)) {\n            set$9(slider.element, 'aria-valuetext', translate([\n              'Saturation {0}%, Brightness {1}%',\n              Math.floor(value.x),\n              Math.floor(100 - value.y)\n            ]));\n          }\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: {\n              'role': 'slider',\n              'aria-valuetext': translate([\n                'Saturation {0}%, Brightness {1}%',\n                0,\n                0\n              ])\n            },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domHtml = optInitialValue => withElement(optInitialValue, get$8, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      if (isString(key)) {\n        return providerBackstage.translate(english[key]);\n      } else {\n        return providerBackstage.translate(key);\n      }\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + removeLeading(hex, '#')).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const valOpt = Optional.from(pattern.exec(newValue)).bind(matches => get$i(matches, 1));\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: valOpt.getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$4();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$4();\n      const focusBehaviour = !isOldCustomEditor(spec) && spec.onFocus.isSome() ? [\n        Focusing.config({\n          onFocus: comp => {\n            spec.onFocus.each(onFocusFn => {\n              onFocusFn(comp.element.dom);\n            });\n          }\n        }),\n        Tabstopping.config({})\n      ] : [];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (_component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ].concat(focusBehaviour)),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        var _a;\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          handleFiles(comp, (_a = transferEvent.dataTransfer) === null || _a === void 0 ? void 0 : _a.files);\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      const handleFiles = (component, files) => {\n        if (files) {\n          Representing.setValue(component, filterByExtension(files, providersBackstage));\n          emitWith(component, formChangeEvent, { name: spec.name });\n        }\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const renderField = s => ({\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          memory(initialData.getOr([])),\n          ComposingConfigs.self(),\n          Disabling.config({}),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$2(providersBackstage.translate('Drop an image here'))]\n              },\n              Button.sketch({\n                dom: {\n                  tag: 'button',\n                  styles: { position: 'relative' },\n                  classes: [\n                    'tox-button',\n                    'tox-button--secondary'\n                  ]\n                },\n                components: [\n                  text$2(providersBackstage.translate('Browse for an image')),\n                  memInput.asSpec()\n                ],\n                action: comp => {\n                  const inputComp = memInput.get(comp);\n                  inputComp.element.dom.click();\n                },\n                buttonBehaviours: derive$1([\n                  Tabstopping.config({}),\n                  DisablingConfigs.button(providersBackstage.isDisabled),\n                  receivingConfig()\n                ])\n              })\n            ]\n          }]\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const adaptable = (fn, rate) => {\n      let timer = null;\n      let args = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n          args = null;\n        }\n      };\n      const throttle = (...newArgs) => {\n        args = newArgs;\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            const tempArgs = args;\n            timer = null;\n            args = null;\n            fn.apply(null, tempArgs);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = (containerClasses, spec) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-navobj',\n            ...containerClasses.getOr([])\n          ]\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n    const dialogFocusShiftedChannel = generate$6('dialog-focus-shifted');\n\n    const browser = detect$1().browser;\n    const isSafari = browser.isSafari();\n    const isFirefox = browser.isFirefox();\n    const isSafariOrFirefox = isSafari || isFirefox;\n    const isChromium = browser.isChromium();\n    const isElementScrollAtBottom = ({scrollTop, scrollHeight, clientHeight}) => Math.ceil(scrollTop) + clientHeight >= scrollHeight;\n    const scrollToY = (win, y) => win.scrollTo(0, y === 'bottom' ? 99999999 : y);\n    const getScrollingElement = (doc, html) => {\n      const body = doc.body;\n      return Optional.from(!/^<!DOCTYPE (html|HTML)/.test(html) && (!isChromium && !isSafari || isNonNullable(body) && (body.scrollTop !== 0 || Math.abs(body.scrollHeight - body.clientHeight) > 1)) ? body : doc.documentElement);\n    };\n    const writeValue = (iframeElement, html, fallbackFn) => {\n      const iframe = iframeElement.dom;\n      Optional.from(iframe.contentDocument).fold(fallbackFn, doc => {\n        let lastScrollTop = 0;\n        const isScrollAtBottom = getScrollingElement(doc, html).map(el => {\n          lastScrollTop = el.scrollTop;\n          return el;\n        }).forall(isElementScrollAtBottom);\n        const scrollAfterWrite = () => {\n          const win = iframe.contentWindow;\n          if (isNonNullable(win)) {\n            if (isScrollAtBottom) {\n              scrollToY(win, 'bottom');\n            } else if (!isScrollAtBottom && isSafariOrFirefox && lastScrollTop !== 0) {\n              scrollToY(win, lastScrollTop);\n            }\n          }\n        };\n        if (isSafari) {\n          iframe.addEventListener('load', scrollAfterWrite, { once: true });\n        }\n        doc.open();\n        doc.write(html);\n        doc.close();\n        if (!isSafari) {\n          scrollAfterWrite();\n        }\n      });\n    };\n    const throttleInterval = someIf(isSafariOrFirefox, isSafari ? 500 : 200);\n    const writeValueThrottler = throttleInterval.map(interval => adaptable(writeValue, interval));\n    const getDynamicSource = (initialData, stream) => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            const iframeElement = frameComponent.element;\n            const setSrcdocValue = () => set$9(iframeElement, 'srcdoc', html);\n            if (stream) {\n              writeValueThrottler.fold(constant$1(writeValue), throttler => throttler.throttle)(iframeElement, html, setSrcdocValue);\n            } else {\n              setSrcdocValue();\n            }\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const baseClass = 'tox-dialog__iframe';\n      const opaqueClass = spec.transparent ? [] : [`${ baseClass }--opaque`];\n      const containerBorderedClass = spec.border ? [`tox-navobj-bordered`] : [];\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...spec.sandboxed ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData, spec.streamContent);\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const factory = newSpec => craft(Optional.from(containerBorderedClass), {\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes,\n          classes: [\n            baseClass,\n            ...opaqueClass\n          ]\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          withComp(initialData, sourcing.getValue, sourcing.setValue),\n          Receiving.config({\n            channels: {\n              [dialogFocusShiftedChannel]: {\n                onReceive: (comp, message) => {\n                  message.newFocus.each(newFocus => {\n                    parentElement(comp.element).each(parent => {\n                      const f = eq(comp.element, newFocus) ? add$2 : remove$2;\n                      f(parent, 'tox-navobj-bordered-focus');\n                    });\n                  });\n                }\n              }\n            }\n          })\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$d(panel);\n      const panelH = get$e(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const {cachedWidth, cachedHeight, zoom} = translatedData;\n          if (!isUndefined(cachedWidth) && !isUndefined(cachedHeight)) {\n            if (isUndefined(zoom)) {\n              const z = zoomToFit(frameComponent.element, cachedWidth, cachedHeight);\n              translatedData.zoom = z;\n            }\n            const position = calculateImagePosition(get$d(frameComponent.element), get$e(frameComponent.element), cachedWidth, cachedHeight, translatedData.zoom);\n            memContainer.getOpt(frameComponent).each(container => {\n              setAll(container.element, position);\n            });\n          }\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$g(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$2(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          applyFramePositioning();\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$2 = (spec, backstageShared) => {\n      const baseClass = 'tox-label';\n      const centerClass = spec.align === 'center' ? [`${ baseClass }--center`] : [];\n      const endClass = spec.align === 'end' ? [`${ baseClass }--end`] : [];\n      const label = {\n        dom: {\n          tag: 'label',\n          classes: [\n            baseClass,\n            ...centerClass,\n            ...endClass\n          ]\n        },\n        components: [text$2(backstageShared.providers.translate(spec.label))]\n      };\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label,\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const commonButtonDisplayEvent = generate$6('common-button-display-events');\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events',\n        'tooltipping'\n      ],\n      [attachedToDom()]: [\n        'toolbar-button-events',\n        commonButtonDisplayEvent\n      ],\n      [detachedFromDom()]: [\n        'toolbar-button-events',\n        'dropdown-events',\n        'tooltipping'\n      ],\n      [mousedown()]: [\n        'focusing',\n        'alloy.base.behaviour',\n        commonButtonDisplayEvent\n      ]\n    };\n\n    const forceInitialSize = comp => set$8(comp.element, 'width', get$f(comp.element, 'width'));\n\n    const renderIcon$1 = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack$1 = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, []);\n    const renderReplaceableIconFromPack = (iconName, iconsProvider) => renderIcon$1(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel$1 = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$2(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage, btnName) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel$1(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplaceableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const ariaLabelAttribute = spec.ariaLabel.fold(() => ({}), ariaLabel => {\n        const translatedAriaLabel = sharedBackstage.providers.translate(ariaLabel);\n        return { 'aria-label': translatedAriaLabel };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const fixWidthBehaviourName = generate$6('common-button-display-events');\n      const customEventsName = 'dropdown-events';\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: {\n            ...ariaLabelAttribute,\n            ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n          }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        onOpen: (anchor, dropdownComp, tmenuComp) => {\n          if (spec.searchable) {\n            focusSearchField(tmenuComp);\n          }\n        },\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.isDisabled()),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          ...spec.tooltip.map(t => Tooltipping.config(sharedBackstage.providers.tooltips.getConfig({ tooltipText: sharedBackstage.providers.translate(t) }))).toArray(),\n          config(customEventsName, [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config(fixWidthBehaviourName, [runOnAttached((comp, _se) => forceInitialSize(comp))]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ],\n          [attachedToDom()]: [\n            'toolbar-button-events',\n            Tooltipping.name(),\n            customEventsName,\n            fixWidthBehaviourName\n          ]\n        }),\n        sandboxBehaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          }),\n          config('dropdown-sandbox-events', [\n            run$1(refetchTriggerEvent, (originalSandboxComp, se) => {\n              handleRefetchTrigger(originalSandboxComp);\n              se.stop();\n            }),\n            run$1(redirectMenuItemInteractionEvent, (sandboxComp, se) => {\n              handleRedirectToMenuItem(sandboxComp, se);\n              se.stop();\n            })\n          ])\n        ]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: {\n          menu: {\n            ...part(false, spec.columns, spec.presets),\n            fakeFocus: spec.searchable,\n            onHighlightItem: updateAriaOnHighlight,\n            onCollapseMenu: (tmenuComp, itemCompCausingCollapse, nowActiveMenuComp) => {\n              Highlighting.getHighlighted(nowActiveMenuComp).each(itemComp => {\n                updateAriaOnHighlight(tmenuComp, nowActiveMenuComp, itemComp);\n              });\n            },\n            onDehighlightItem: updateAriaOnDehighlight\n          }\n        },\n        getAnchorOverrides: () => {\n          return {\n            maxHeightFunction: (element, available) => {\n              anchored()(element, available - 10);\n            }\n          };\n        },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$2 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$2(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$2(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, { [item.value]: rest.items });\n      const newExpansions = deepMerge(rest.expansions, { [item.value]: item.value });\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const generateValueIfRequired = item => {\n      const itemValue = get$h(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n      return deepMerge({ value: itemValue }, item);\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        if (isExpandingMenuItem(item)) {\n          const itemWithValue = generateValueIfRequired(item);\n          const newData = getFromExpandingItem(itemWithValue, menuItems);\n          return {\n            menus: deepMerge(acc.menus, newData.menus),\n            items: [\n              newData.item,\n              ...acc.items\n            ],\n            expansions: deepMerge(acc.expansions, newData.expansions)\n          };\n        } else {\n          return {\n            ...acc,\n            items: [\n              item,\n              ...acc.items\n            ]\n          };\n        }\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const getSearchModeForField = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), searchSettings => ({\n        searchMode: 'search-with-field',\n        placeholder: searchSettings.placeholder\n      }));\n    };\n    const getSearchModeForResults = settings => {\n      return settings.search.fold(() => ({ searchMode: 'no-search' }), _ => ({ searchMode: 'search-with-results' }));\n    };\n    const build = (items, itemResponse, backstage, settings) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenuSearchMode = getSearchModeForField(settings);\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, settings.isHorizontalMenu, mainMenuSearchMode);\n      const submenuSearchMode = getSearchModeForResults(settings);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false, submenuSearchMode));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: Optional.none(),\n            role: Optional.none(),\n            ariaLabel: spec.label,\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n                isHorizontalMenu: false,\n                search: Optional.none()\n              }));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              withComp(initialItem.map(item => item.value), comp => get$g(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(!spec.enabled),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$h = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$7(select.element);\n              },\n              setValue: (select, newValue) => {\n                const firstOption = head(detail.options);\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                } else if (select.element.dom.selectedIndex === -1 && newValue === '') {\n                  firstOption.each(value => set$5(select.element, value.value));\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$h\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$g = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$g,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const label = spec.label.getOr('Constrain proportions');\n      const translatedLabel = providersBackstage.translate(label);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: {\n            'aria-label': translatedLabel,\n            'data-mce-name': label\n          }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: translatedLabel }))\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })\n          ])\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.isDisabled() }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const pTextField = spec.multiline ? {\n        dom: {\n          tag: 'div',\n          classes: ['tox-textarea-wrap']\n        },\n        components: [pField]\n      } : pField;\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.isDisabled(),\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pTextField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$3 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n    const immediateGrow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        setGrown(component, slideConfig);\n        set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n        disableTransitions(component, slideConfig);\n        slideState.setExpanded();\n        slideConfig.onStartGrow(component);\n        slideConfig.onGrown(component);\n      }\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions,\n        immediateGrow: immediateGrow\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$8({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$8({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$5 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$6(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$5\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$e(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$8 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$7({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$8\n    });\n\n    const Sliding = create$4({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$2(elm, 'tox-tbtn--enabled');\n          remove$7(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled'),\n      setText: text => {\n        emitWith(component, updateMenuText, { text });\n      },\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const renderMenuButton = (spec, prefix, backstage, role, tabstopping = true, btnName) => {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        ariaLabel: spec.tooltip,\n        searchable: spec.search.isSome(),\n        role,\n        fetch: (dropdownComp, callback) => {\n          const fetchContext = { pattern: spec.search.isSome() ? getSearchPattern(dropdownComp) : '' };\n          spec.fetch(items => {\n            callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n              isHorizontalMenu: false,\n              search: spec.search\n            }));\n          }, fetchContext, getMenuButtonApi(dropdownComp));\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [...tabstopping ? [Tabstopping.config({})] : []]\n      }, prefix, backstage.shared, btnName);\n    };\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderLabel = text => ({\n      dom: {\n        tag: 'span',\n        classes: ['tox-tree__label'],\n        attributes: { 'aria-label': text }\n      },\n      components: [text$2(text)]\n    });\n    const leafLabelEventsId = generate$6('leaf-label-event-id');\n    const renderLeafLabel = ({leaf, onLeafAction, visible, treeId, selectedId, backstage}) => {\n      const internalMenuButton = leaf.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none(), visible));\n      const components = [renderLabel(leaf.title)];\n      internalMenuButton.each(btn => components.push(btn));\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--leaf__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--leaf__label--visible'] : [])\n        },\n        components,\n        role: 'treeitem',\n        action: button => {\n          onLeafAction(leaf.id);\n          button.getSystem().broadcastOn([`update-active-item-${ treeId }`], { value: leaf.id });\n        },\n        eventOrder: {\n          [keydown()]: [\n            leafLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          Toggling.config({\n            toggleClass: 'tox-trbtn--enabled',\n            toggleOnExecute: false,\n            aria: { mode: 'selected' }\n          }),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  (message.value === leaf.id ? Toggling.on : Toggling.off)(comp);\n                }\n              }\n            }\n          }),\n          config(leafLabelEventsId, [\n            runOnAttached((comp, _se) => {\n              selectedId.each(id => {\n                const toggle = id === leaf.id ? Toggling.on : Toggling.off;\n                toggle(comp);\n              });\n            }),\n            run$1(keydown(), (comp, se) => {\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              if (isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(dirElement => {\n                  comp.getSystem().getByDom(dirElement).each(dirComp => {\n                    child(dirElement, '.tox-tree--directory__label').each(dirLabelElement => {\n                      dirComp.getSystem().getByDom(dirLabelElement).each(Focusing.focus);\n                    });\n                  });\n                });\n                se.stop();\n              } else if (isRightArrowKey) {\n                se.stop();\n              }\n            })\n          ])\n        ])\n      });\n    };\n    const renderIcon = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-tree__icon-wrap',\n        'tox-icon'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const directoryLabelEventsId = generate$6('directory-label-event-id');\n    const renderDirectoryLabel = ({directory, visible, noChildren, backstage}) => {\n      const internalMenuButton = directory.menu.map(btn => renderMenuButton(btn, 'tox-mbtn', backstage, Optional.none()));\n      const components = [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-chevron']\n          },\n          components: [renderIconFromPack('chevron-right', backstage.shared.providers.icons)]\n        },\n        renderLabel(directory.title)\n      ];\n      internalMenuButton.each(btn => {\n        components.push(btn);\n      });\n      const toggleExpandChildren = button => {\n        ancestor(button.element, '.tox-tree--directory').each(directoryEle => {\n          button.getSystem().getByDom(directoryEle).each(directoryComp => {\n            const willExpand = !Toggling.isOn(directoryComp);\n            Toggling.toggle(directoryComp);\n            emitWith(button, 'expand-tree-node', {\n              expanded: willExpand,\n              node: directory.id\n            });\n          });\n        });\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-tree--directory__label',\n            'tox-trbtn'\n          ].concat(visible ? ['tox-tree--directory__label--visible'] : [])\n        },\n        components,\n        action: toggleExpandChildren,\n        eventOrder: {\n          [keydown()]: [\n            directoryLabelEventsId,\n            'keying'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          ...visible ? [Tabstopping.config({})] : [],\n          config(directoryLabelEventsId, [run$1(keydown(), (comp, se) => {\n              const isRightArrowKey = se.event.raw.code === 'ArrowRight';\n              const isLeftArrowKey = se.event.raw.code === 'ArrowLeft';\n              if (isRightArrowKey && noChildren) {\n                se.stop();\n              }\n              if (isRightArrowKey || isLeftArrowKey) {\n                ancestor(comp.element, '.tox-tree--directory').each(directoryEle => {\n                  comp.getSystem().getByDom(directoryEle).each(directoryComp => {\n                    if (!Toggling.isOn(directoryComp) && isRightArrowKey || Toggling.isOn(directoryComp) && isLeftArrowKey) {\n                      toggleExpandChildren(comp);\n                      se.stop();\n                    } else if (isLeftArrowKey && !Toggling.isOn(directoryComp)) {\n                      ancestor(directoryComp.element, '.tox-tree--directory').each(parentDirElement => {\n                        child(parentDirElement, '.tox-tree--directory__label').each(parentDirLabelElement => {\n                          directoryComp.getSystem().getByDom(parentDirLabelElement).each(Focusing.focus);\n                        });\n                      });\n                      se.stop();\n                    }\n                  });\n                });\n              }\n            })])\n        ])\n      });\n    };\n    const renderDirectoryChildren = ({children, onLeafAction, visible, treeId, expandedIds, selectedId, backstage}) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory__children']\n        },\n        components: children.map(item => {\n          return item.type === 'leaf' ? renderLeafLabel({\n            leaf: item,\n            selectedId,\n            onLeafAction,\n            visible,\n            treeId,\n            backstage\n          }) : renderDirectory({\n            directory: item,\n            expandedIds,\n            selectedId,\n            onLeafAction,\n            labelTabstopping: visible,\n            treeId,\n            backstage\n          });\n        }),\n        behaviours: derive$1([\n          Sliding.config({\n            dimension: { property: 'height' },\n            closedClass: 'tox-tree--directory__children--closed',\n            openClass: 'tox-tree--directory__children--open',\n            growingClass: 'tox-tree--directory__children--growing',\n            shrinkingClass: 'tox-tree--directory__children--shrinking',\n            expanded: visible\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n    const directoryEventsId = generate$6('directory-event-id');\n    const renderDirectory = ({directory, onLeafAction, labelTabstopping, treeId, backstage, expandedIds, selectedId}) => {\n      const {children} = directory;\n      const expandedIdsCell = Cell(expandedIds);\n      const computedChildrenComponents = visible => children.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          selectedId,\n          onLeafAction,\n          visible,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          expandedIds: expandedIdsCell.get(),\n          selectedId,\n          onLeafAction,\n          labelTabstopping: visible,\n          treeId,\n          backstage\n        });\n      });\n      const childrenVisible = expandedIds.includes(directory.id);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree--directory'],\n          attributes: { role: 'treeitem' }\n        },\n        components: [\n          renderDirectoryLabel({\n            directory,\n            visible: labelTabstopping,\n            noChildren: directory.children.length === 0,\n            backstage\n          }),\n          renderDirectoryChildren({\n            children,\n            expandedIds,\n            selectedId,\n            onLeafAction,\n            visible: childrenVisible,\n            treeId,\n            backstage\n          })\n        ],\n        behaviours: derive$1([\n          config(directoryEventsId, [\n            runOnAttached((comp, _se) => {\n              Toggling.set(comp, childrenVisible);\n            }),\n            run$1('expand-tree-node', (_cmp, se) => {\n              const {expanded, node} = se.event;\n              expandedIdsCell.set(expanded ? [\n                ...expandedIdsCell.get(),\n                node\n              ] : expandedIdsCell.get().filter(id => id !== node));\n            })\n          ]),\n          Toggling.config({\n            ...directory.children.length > 0 ? { aria: { mode: 'expanded' } } : {},\n            toggleClass: 'tox-tree--directory--expanded',\n            onToggled: (comp, childrenVisible) => {\n              const childrenComp = comp.components()[1];\n              const newChildren = computedChildrenComponents(childrenVisible);\n              if (childrenVisible) {\n                Sliding.grow(childrenComp);\n              } else {\n                Sliding.shrink(childrenComp);\n              }\n              Replacing.set(childrenComp, newChildren);\n            }\n          })\n        ])\n      };\n    };\n    const treeEventsId = generate$6('tree-event-id');\n    const renderTree = (spec, backstage) => {\n      const onLeafAction = spec.onLeafAction.getOr(noop);\n      const onToggleExpand = spec.onToggleExpand.getOr(noop);\n      const defaultExpandedIds = spec.defaultExpandedIds;\n      const expandedIds = Cell(defaultExpandedIds);\n      const selectedIdCell = Cell(spec.defaultSelectedId);\n      const treeId = generate$6('tree-id');\n      const children = (selectedId, expandedIds) => spec.items.map(item => {\n        return item.type === 'leaf' ? renderLeafLabel({\n          leaf: item,\n          selectedId,\n          onLeafAction,\n          visible: true,\n          treeId,\n          backstage\n        }) : renderDirectory({\n          directory: item,\n          selectedId,\n          onLeafAction,\n          expandedIds,\n          labelTabstopping: true,\n          treeId,\n          backstage\n        });\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-tree'],\n          attributes: { role: 'tree' }\n        },\n        components: children(selectedIdCell.get(), expandedIds.get()),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: '.tox-tree--leaf__label--visible, .tox-tree--directory__label--visible',\n            cycles: false\n          }),\n          config(treeEventsId, [run$1('expand-tree-node', (_cmp, se) => {\n              const {expanded, node} = se.event;\n              expandedIds.set(expanded ? [\n                ...expandedIds.get(),\n                node\n              ] : expandedIds.get().filter(id => id !== node));\n              onToggleExpand(expandedIds.get(), {\n                expanded,\n                node\n              });\n            })]),\n          Receiving.config({\n            channels: {\n              [`update-active-item-${ treeId }`]: {\n                onReceive: (comp, message) => {\n                  selectedIdCell.set(Optional.some(message.value));\n                  Replacing.set(comp, children(Optional.some(message.value), expandedIds.get()));\n                }\n              }\n            }\n          }),\n          Replacing.config({})\n        ])\n      };\n    };\n\n    const events$4 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$4\n    });\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$7({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$7 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$7\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$4({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$7(el);\n      const node = el.dom;\n      if (get$g(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const getActiveMenu = sandboxComp => Composing.getCurrent(sandboxComp);\n      const typeaheadCustomEvents = 'typeaheadevents';\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$7(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$7(component.element).length >= detail.minChars) {\n                const previousValue = getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  getActiveMenu(sandbox).each(activeMenu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(activeMenu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(activeMenu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(activeMenu).orThunk(() => {\n                        Highlighting.highlightFirst(activeMenu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightJustMenu).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return getActiveMenu(sandbox).bind(activeMenu => Highlighting.getHighlighted(activeMenu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => {\n                  detail.lazyTypeaheadComp.get().each(input => remove$7(input.element, 'aria-activedescendant'));\n                  Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config(typeaheadCustomEvents, [\n          runOnAttached(typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.some(typeaheadComp));\n          }),\n          runOnDetached(_typeaheadComp => {\n            detail.lazyTypeaheadComp.set(Optional.none());\n          }),\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      const eventOrder = {\n        [detachedFromDom()]: [\n          Representing.name(),\n          Streaming.name(),\n          typeaheadCustomEvents\n        ],\n        ...detail.eventOrder\n      };\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('lazyTypeaheadComp', () => Cell(Optional.none)),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$l()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlightItem: (_tmenu, menu, item) => {\n              if (!detail.previewing.get()) {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                  getOpt(item.element, 'id').each(id => set$9(input.element, 'aria-activedescendant', id));\n                });\n              } else {\n                detail.lazyTypeaheadComp.get().each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => {\n                    if (detail.model.selectsOver) {\n                      Highlighting.dehighlight(menu, item);\n                      detail.previewing.set(true);\n                    } else {\n                      detail.previewing.set(false);\n                    }\n                  }, selectOverTextInInput => {\n                    selectOverTextInInput();\n                    detail.previewing.set(false);\n                  });\n                });\n              }\n            },\n            onExecute: (_menu, item) => {\n              return detail.lazyTypeaheadComp.get().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              detail.lazyTypeaheadComp.get().each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, tooltip, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Tabstopping.config({}),\n          ...tooltip.map(t => Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate(t) }))).toArray(),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], btnName) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({ 'aria-label': providersBackstage.translate(tooltip) })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: {\n          ...tooltipAttributes,\n          'data-mce-name': btnName\n        }\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, spec.tooltip, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack$1(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$2(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: {\n          'aria-label': translatedText,\n          'data-mce-name': spec.text\n        }\n      };\n      const optTooltip = spec.icon.map(constant$1(translatedText));\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, optTooltip, providersBackstage);\n    };\n    const renderButton$1 = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const isToggleButtonSpec = (spec, buttonType) => buttonType === 'togglebutton';\n    const renderToggleButton = (spec, providers, btnName) => {\n      var _a, _b;\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const action = comp => {\n        emitWith(comp, formActionEvent, {\n          name: spec.name,\n          value: {\n            setIcon: newIcon => {\n              optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n              }));\n            }\n          }\n        });\n      };\n      const buttonType = spec.buttonType.getOr(!spec.primary ? 'secondary' : 'primary');\n      const buttonSpec = {\n        ...spec,\n        name: (_a = spec.name) !== null && _a !== void 0 ? _a : '',\n        primary: buttonType === 'primary',\n        tooltip: spec.tooltip,\n        enabled: (_b = spec.enabled) !== null && _b !== void 0 ? _b : false,\n        borderless: false\n      };\n      const tooltipAttributes = buttonSpec.tooltip.or(spec.text).map(tooltip => ({ 'aria-label': providers.translate(tooltip) })).getOr({});\n      const buttonTypeClasses = calculateClassesFromButtonType(buttonType !== null && buttonType !== void 0 ? buttonType : 'secondary');\n      const showIconAndText = spec.icon.isSome() && spec.text.isSome();\n      const dom = {\n        tag: 'button',\n        classes: [\n          ...buttonTypeClasses.concat(spec.icon.isSome() ? ['tox-button--icon'] : []),\n          ...spec.active ? ['tox-button--enabled'] : [],\n          ...showIconAndText ? ['tox-button--icon-and-text'] : []\n        ],\n        attributes: {\n          ...tooltipAttributes,\n          ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n        }\n      };\n      const extraBehaviours = [];\n      const translatedText = providers.translate(spec.text.getOr(''));\n      const translatedTextComponed = text$2(translatedText);\n      const iconComp = componentRenderPipeline([optMemIcon.map(memIcon => memIcon.asSpec())]);\n      const components = [\n        ...iconComp,\n        ...spec.text.isSome() ? [translatedTextComponed] : []\n      ];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, spec.tooltip, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          type: 'menubutton',\n          search: Optional.none(),\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none(), true, spec.text.or(spec.tooltip).getOrUndefined()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          borderless: false\n        };\n        return renderButton$1(buttonSpec, action, backstage.shared.providers, []);\n      } else if (isToggleButtonSpec(spec, buttonType)) {\n        return renderToggleButton(spec, backstage.shared.providers, spec.text.or(spec.tooltip).getOrUndefined());\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n        throw new Error('Unknown footer button type');\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        var _a;\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        const value = (_a = item.value) !== null && _a !== void 0 ? _a : '';\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      var _a, _b;\n      const urlInputValue = Representing.getValue(input);\n      const term = (_b = (_a = urlInputValue === null || urlInputValue === void 0 ? void 0 : urlInputValue.meta) === null || _a === void 0 ? void 0 : _a.text) !== null && _b !== void 0 ? _b : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const typeaheadSpec = {\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, {\n            isHorizontalMenu: false,\n            search: Optional.none()\n          });\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1([\n          ...urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('urlinput-events', [\n            run$1(input(), comp => {\n              const currentValue = get$7(comp.element);\n              const trimmedValue = currentValue.trim();\n              if (trimmedValue !== currentValue) {\n                set$5(comp.element, trimmedValue);\n              }\n              if (spec.filetype === 'file') {\n                emitWith(comp, formChangeEvent, { name: spec.name });\n              }\n            }),\n            run$1(change(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            }),\n            run$1(postPaste(), comp => {\n              emitWith(comp, formChangeEvent, { name: spec.name });\n              updateHistory(comp);\n            })\n          ])\n        ]),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      };\n      const pField = FormField.parts.field({\n        ...typeaheadSpec,\n        factory: Typeahead\n      });\n      const pLabel = spec.label.map(label => renderLabel$3(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() })])\n      });\n      const memUrlPickerButton = record(renderButton$1({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.picker_text.or(spec.label).getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => {\n      const icon = get$3(spec.icon, providersBackstage.icons);\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ spec.level }`\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon'],\n              innerHtml: !spec.url ? icon : undefined\n            },\n            components: spec.url ? [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: icon,\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: comp => emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                }),\n                buttonBehaviours: derive$1([addFocusableBehaviour()])\n              })] : undefined\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$2 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.isDisabled(),\n            onDisabled: component => {\n              parentElement(component.element).each(element => add$2(element, 'tox-checkbox--disabled'));\n            },\n            onEnabled: component => {\n              parentElement(component.element).each(element => remove$2(element, 'tox-checkbox--disabled'));\n            }\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          withElement(initialData, get$2, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$2(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.isDisabled() }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const renderHtmlPanel = (spec, providersBackstage) => {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          },\n          containerBehaviours: derive$1([Tooltipping.config({\n              ...providersBackstage.tooltips.getConfig({\n                tooltipText: '',\n                onShow: comp => {\n                  descendant(comp.element, '[data-mce-tooltip]:hover').orThunk(() => search(comp.element)).each(current => {\n                    getOpt(current, 'data-mce-tooltip').each(text => {\n                      Tooltipping.setComponents(comp, providersBackstage.tooltips.getComponents({ tooltipText: text }));\n                    });\n                  });\n                }\n              }),\n              mode: 'children-normal',\n              anchor: comp => ({\n                type: 'node',\n                node: descendant(comp.element, '[data-mce-tooltip]:hover').orThunk(() => search(comp.element).filter(current => getOpt(current, 'data-mce-tooltip').isSome())),\n                root: comp.element,\n                layouts: {\n                  onLtr: constant$1([\n                    south$2,\n                    north$2,\n                    southeast$2,\n                    northeast$2,\n                    southwest$2,\n                    northwest$2\n                  ]),\n                  onRtl: constant$1([\n                    south$2,\n                    north$2,\n                    southeast$2,\n                    northeast$2,\n                    southwest$2,\n                    northwest$2\n                  ])\n                },\n                bubble: nu$5(0, -2, {})\n              })\n            })])\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage) => get$h(spec, 'name').fold(() => render(spec, backstage, Optional.none()), fieldName => parts.field(fieldName, render(spec, backstage, get$h(dialogData, fieldName))));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage) => renderLabel$2(spec, backstage.shared)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2((spec, backstage) => renderHtmlPanel(spec, backstage.shared.providers)),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      tree: make$2((spec, backstage) => renderTree(spec, backstage)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage) } });\n      return interpretParts(parts, spec, dialogData, newBackstage);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage) => get$h(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage));\n    const interpretWithoutForm = (spec, dialogData, backstage) => interpretParts(noFormParts, spec, dialogData, backstage);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ],\n          onLtr: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getInlineBottomDialogAnchor = (inline, contentAreaElement, lazyBottomAnchorBar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        },\n        overrides\n      });\n      const standardAnchor = () => inline ? {\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(0, -getOuter$2(contentAreaElement()), bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north$2],\n          onLtr: () => [north$2]\n        },\n        overrides\n      } : {\n        type: 'hotspot',\n        hotspot: lazyBottomAnchorBar(),\n        bubble: nu$5(0, 0, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [north$2],\n          onLtr: () => [north$2]\n        },\n        overrides\n      };\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(getRootNode(contentAreaElement())),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        const selectedCells = editor.model.table.getSelectedCells();\n        if (selectedCells.length > 1) {\n          const firstCell = selectedCells[0];\n          const lastCell = selectedCells[selectedCells.length - 1];\n          const selectionTableCellRange = {\n            firstCell: SugarElement.fromDom(firstCell),\n            lastCell: SugarElement.fromDom(lastCell)\n          };\n          return Optional.some(selectionTableCellRange);\n        }\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, lazyBottomAnchorBar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        inlineBottomDialog: getInlineBottomDialogAnchor(editor.inline, contentAreaElement, lazyBottomAnchorBar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => id => getColors$2(editor, id);\n    const getColorCols = editor => id => getColorCols$1(editor, id);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const isNestedFormat = format => hasNonNullableKey(format, 'items');\n    const isFormatReference = format => hasNonNullableKey(format, 'format');\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormats = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormats(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const isSeparator$1 = format => {\n      const keys$1 = keys(format);\n      return keys$1.length === 1 && contains$2(keys$1, 'title');\n    };\n    const processBasic = (item, isSelectedFor, getPreviewFor) => ({\n      ...item,\n      type: 'formatter',\n      isSelected: isSelectedFor(item.format),\n      getStylePreview: getPreviewFor(item.format)\n    });\n    const register$a = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const newItems = doEnrich(item.items);\n        return {\n          ...item,\n          type: 'submenu',\n          getStyleItems: constant$1(newItems)\n        };\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const newItem = {\n          ...item,\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        if (isNestedFormat(item)) {\n          return enrichMenu(item);\n        } else if (isFormatReference(item)) {\n          return enrichSupported(item);\n        } else if (isSeparator$1(item)) {\n          return {\n            ...item,\n            type: 'separator'\n          };\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$6 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const settingsFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$a(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$a(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return { getData };\n    };\n\n    const TooltipsBackstage = getSink => {\n      const tooltipDelay = 300;\n      const intervalDelay = tooltipDelay * 0.2;\n      let numActiveTooltips = 0;\n      const alreadyShowingTooltips = () => numActiveTooltips > 0;\n      const getComponents = spec => {\n        return [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-tooltip__body']\n            },\n            components: [text$2(spec.tooltipText)]\n          }];\n      };\n      const getConfig = spec => {\n        return {\n          delayForShow: () => alreadyShowingTooltips() ? intervalDelay : tooltipDelay,\n          delayForHide: constant$1(tooltipDelay),\n          exclusive: true,\n          lazySink: getSink,\n          tooltipDom: {\n            tag: 'div',\n            classes: [\n              'tox-tooltip',\n              'tox-tooltip--up'\n            ]\n          },\n          tooltipComponents: getComponents(spec),\n          onShow: (comp, tooltip) => {\n            numActiveTooltips++;\n            if (spec.onShow) {\n              spec.onShow(comp, tooltip);\n            }\n          },\n          onHide: () => {\n            numActiveTooltips--;\n          }\n        };\n      };\n      return {\n        getConfig,\n        getComponents\n      };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create = (type, title, url, level, attach) => ({\n      type,\n      title,\n      url,\n      level,\n      attach\n    });\n    const isChildOfContentEditableTrue = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parentNode) {\n        const value = tempNode.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(tempNode);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      var _a;\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create('header', (_a = getElementText(elm)) !== null && _a !== void 0 ? _a : '', '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$h(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$h(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$5 = (lazySinks, editor, lazyAnchorbar, lazyBottomAnchorBar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const providers = {\n        icons: () => editor.ui.registry.getAll().icons,\n        menuItems: () => editor.ui.registry.getAll().menuItems,\n        translate: global$5.translate,\n        isDisabled: () => editor.mode.isReadOnly() || !editor.ui.isEnabled(),\n        getOption: editor.options.get,\n        tooltips: TooltipsBackstage(lazySinks.dialog)\n      };\n      const urlinput = UrlInputBackstage(editor);\n      const styles = init$6(editor);\n      const colorinput = ColorInputBackstage(editor);\n      const dialogSettings = DialogBackstage(editor);\n      const isContextMenuOpen = () => contextMenuState.get();\n      const setContextMenuState = state => contextMenuState.set(state);\n      const commonBackstage = {\n        shared: {\n          providers,\n          anchors: getAnchors(editor, lazyAnchorbar, lazyBottomAnchorBar, toolbar.isPositionedAtTop),\n          header: toolbar\n        },\n        urlinput,\n        styles,\n        colorinput,\n        dialog: dialogSettings,\n        isContextMenuOpen,\n        setContextMenuState\n      };\n      const popupBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, popupBackstage),\n          getSink: lazySinks.popup\n        }\n      };\n      const dialogBackstage = {\n        ...commonBackstage,\n        shared: {\n          ...commonBackstage.shared,\n          interpreter: s => interpretWithoutForm(s, {}, dialogBackstage),\n          getSink: lazySinks.dialog\n        }\n      };\n      return {\n        popup: popupBackstage,\n        dialog: dialogBackstage\n      };\n    };\n\n    const setup$b = (editor, mothership, uiMotherships) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => {\n          m.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      const onElementScroll = capture(dos, 'scroll', evt => {\n        requestAnimationFrame(() => {\n          const c = editor.getContainer();\n          if (c !== undefined && c !== null) {\n            const optScrollingContext = detectWhenSplitUiMode(editor, mothership.element);\n            const scrollers = optScrollingContext.map(sc => [\n              sc.element,\n              ...sc.others\n            ]).getOr([]);\n            if (exists(scrollers, s => eq(s, evt.target))) {\n              editor.dispatch('ElementScroll', { target: evt.target.dom });\n              broadcastEvent(externalElementScroll(), evt);\n            }\n          }\n        });\n      });\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      const onFocusIn = event => editor.dispatch('focusin', event);\n      const onFocusOut = event => editor.dispatch('focusout', event);\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], gui => {\n          gui.element.dom.addEventListener('focusin', onFocusIn);\n          gui.element.dom.addEventListener('focusout', onFocusOut);\n        });\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], gui => {\n          gui.element.dom.removeEventListener('focusin', onFocusIn);\n          gui.element.dom.removeEventListener('focusout', onFocusOut);\n        });\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n        onElementScroll.unbind();\n      });\n      editor.on('detach', () => {\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], detachSystem);\n        each$1([\n          mothership,\n          ...uiMotherships\n        ], m => m.destroy());\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$f = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$f,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$e = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: {\n          setGroups,\n          refresh: noop\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$e,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$1 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$1,\n        getBehaviours: getBehaviours$1\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const win = defaultView(containerHeader);\n      const viewHeight = win.dom.innerHeight;\n      const scrollPos = get$c(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$e(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$e(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$f(elm, 'margin-top'), 10) || 0) + (parseInt(get$f(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parentElement(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$d(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$4();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              return Optional.from(container).map(c => {\n                const box = box$1(SugarElement.fromDom(c));\n                const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                return optScrollingContext.fold(() => {\n                  const boxHeight = box.height - headerHeight;\n                  const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n                  return bounds(box.x, topBound, box.width, boxHeight);\n                }, scrollEnv => {\n                  const constrainedBounds = constrain(box, getBoundsFrom(scrollEnv));\n                  const constrainedBoundsY = isDockedMode(comp, 'top') ? constrainedBounds.y : constrainedBounds.y + headerHeight;\n                  return bounds(constrainedBounds.x, constrainedBoundsY, constrainedBounds.width, constrainedBounds.height - headerHeight);\n                });\n              });\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$1(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$1(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n            return optScrollingContext.fold(() => {\n              const boundsWithoutOffset = win();\n              const offset = getStickyToolbarOffset(editor);\n              const top = boundsWithoutOffset.y + (isDockedMode(comp, 'top') ? offset : 0);\n              const height = boundsWithoutOffset.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n              return {\n                bounds: bounds(boundsWithoutOffset.x, top, boundsWithoutOffset.width, height),\n                optScrollEnv: Optional.none()\n              };\n            }, sc => {\n              const combinedBounds = getBoundsFrom(sc);\n              return {\n                bounds: combinedBounds,\n                optScrollEnv: Optional.some({\n                  currentScrollTop: sc.element.dom.scrollTop,\n                  scrollElmTop: absolute$3(sc.element).top\n                })\n              };\n            });\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      defaultedOf('search', false, oneOf([\n        boolean,\n        objOf([optionString('placeholder')])\n      ], x => {\n        if (isBoolean(x)) {\n          return x ? Optional.some({ placeholder: Optional.none() }) : Optional.none();\n        } else {\n          return Optional.some(x);\n        }\n      })),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop)\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$d = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            }\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$d,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const promotionMessage = '\\u26A1\\ufe0fUpgrade';\n    const promotionLink = 'https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral';\n    const renderPromotion = spec => {\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: [{\n            dom: {\n              tag: 'a',\n              attributes: {\n                'href': promotionLink,\n                'rel': 'noopener',\n                'target': '_blank',\n                'aria-hidden': 'true'\n              },\n              classes: ['tox-promotion-link'],\n              innerHtml: promotionMessage\n            }\n          }]\n      };\n    };\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$g(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$4(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            buttonApi.setActive(isActive());\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs, showSidebar) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        Replacing.set(slider, [makeSidebar(panelConfigs)]);\n        const configKey = showSidebar === null || showSidebar === void 0 ? void 0 : showSidebar.toLowerCase();\n        if (isString(configKey) && has$2(panelConfigs, configKey)) {\n          Composing.getCurrent(slider).each(slotContainer => {\n            SlotContainer.showSlot(slotContainer, configKey);\n            Sliding.immediateGrow(slider);\n            remove$6(slider.element, 'width');\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          });\n        }\n      });\n    };\n    const updateSidebarRoleOnToggle = (sidebar, sidebarState) => {\n      set$9(sidebar, 'role', sidebarState);\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n              updateSidebarRoleOnToggle(sidebar.element, 'presentation');\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n              updateSidebarRoleOnToggle(sidebar.element, 'region');\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n            updateSidebarRoleOnToggle(sidebar.element, 'region');\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'presentation' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$d(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$6(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n    const isBlocked = (component, blockingConfig, blockingState) => blockingState.isBlocked();\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock,\n        isBlocked: isBlocked\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$7({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$4({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element, true));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$4();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          fireAfterProgressState(editor, state);\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$d(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => Math.ceil(comp.element.dom.getBoundingClientRect().width), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([])),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y(),\n      onHandler('onToggled')\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false,\n              onToggled: detail.onToggled\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const shouldSkipFocus = value$4();\n    const toggleWithoutFocusing = (button, externals) => {\n      shouldSkipFocus.set(true);\n      toggle(button, externals);\n      shouldSkipFocus.clear();\n    };\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        const skipFocus = shouldSkipFocus.get().getOr(false);\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          if (!skipFocus) {\n            Keying.focusIn(toolbar);\n          }\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        if (!shouldSkipFocus.get().getOr(false)) {\n          Focusing.focus(button);\n        }\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$c = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        toggleWithoutFocusing: button => {\n          toggleWithoutFocusing(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$c,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        toggleWithoutFocusing: (apis, button) => {\n          apis.toggleWithoutFocusing(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$b = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$b\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$a = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        },\n        onToggled: (comp, state) => detail[state ? 'onOpened' : 'onClosed'](comp)\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          toggleWithoutFocusing: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(FloatingToolbarButton.toggleWithoutFocusing);\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$a,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        toggleWithoutFocusing: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail, skipFocus) => {\n      getPart(toolbar, detail, 'overflow-button').each(oveflowButton => {\n        getPart(toolbar, detail, 'overflow').each(overf => {\n          refresh(toolbar, detail);\n          if (Sliding.hasShrunk(overf)) {\n            const fn = detail.onOpened;\n            detail.onOpened = comp => {\n              if (!skipFocus) {\n                Keying.focusIn(overf);\n              }\n              fn(comp);\n              detail.onOpened = fn;\n            };\n          } else {\n            const fn = detail.onClosed;\n            detail.onClosed = comp => {\n              if (!skipFocus) {\n                Focusing.focus(oveflowButton);\n              }\n              fn(comp);\n              detail.onClosed = fn;\n            };\n          }\n          Sliding.toggleGrow(overf);\n        });\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$9 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail, false);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => {\n            toggleToolbar(toolbar, detail, false);\n          },\n          toggleWithoutFocusing: toolbar => {\n            toggleToolbar(toolbar, detail, true);\n          },\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$9,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'],\n          ...attributes\n        },\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled]), ' + '.tox-number-input:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarBehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('Reveal or hide additional toolbar items'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers, [], 'overflow-button')\n        },\n        splitToolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' },\n        onOpened: comp => toolbarSpec.onToggled(comp, true),\n        onClosed: comp => toolbarSpec.onToggled(comp, false)\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n          toolbarSpec.onToggled(comp, true);\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n          toolbarSpec.onToggled(comp, false);\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarBehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const baseButtonFields = [\n      optionalText,\n      optionalIcon,\n      optionString('tooltip'),\n      defaultedStringEnum('buttonType', 'secondary', [\n        'primary',\n        'secondary'\n      ]),\n      defaultedBoolean('borderless', false),\n      requiredFunction('onAction')\n    ];\n    const normalButtonFields = [\n      ...baseButtonFields,\n      text,\n      requiredStringEnum('type', ['button'])\n    ];\n    const toggleButtonFields = [\n      ...baseButtonFields,\n      defaultedBoolean('active', false),\n      requiredStringEnum('type', ['togglebutton'])\n    ];\n    const schemaWithoutGroupButton = {\n      button: normalButtonFields,\n      togglebutton: toggleButtonFields\n    };\n    const groupFields = [\n      requiredStringEnum('type', ['group']),\n      defaultedArrayOf('buttons', [], choose$1('type', schemaWithoutGroupButton))\n    ];\n    const viewButtonSchema = choose$1('type', {\n      ...schemaWithoutGroupButton,\n      group: groupFields\n    });\n\n    const viewSchema = objOf([\n      defaultedArrayOf('buttons', [], viewButtonSchema),\n      requiredFunction('onShow'),\n      requiredFunction('onHide')\n    ]);\n    const createView = spec => asRaw('view', viewSchema, spec);\n\n    const renderButton = (spec, providers) => {\n      var _a, _b;\n      const isToggleButton = spec.type === 'togglebutton';\n      const optMemIcon = spec.icon.map(memIcon => renderReplaceableIconFromPack(memIcon, providers.icons)).map(record);\n      const getAction = () => comp => {\n        const setIcon = newIcon => {\n          optMemIcon.map(memIcon => memIcon.getOpt(comp).each(displayIcon => {\n            Replacing.set(displayIcon, [renderReplaceableIconFromPack(newIcon, providers.icons)]);\n          }));\n        };\n        const setActive = state => {\n          const elm = comp.element;\n          if (state) {\n            add$2(elm, 'tox-button--enabled');\n            set$9(elm, 'aria-pressed', true);\n          } else {\n            remove$2(elm, 'tox-button--enabled');\n            remove$7(elm, 'aria-pressed');\n          }\n        };\n        const isActive = () => has(comp.element, 'tox-button--enabled');\n        if (isToggleButton) {\n          return spec.onAction({\n            setIcon,\n            setActive,\n            isActive\n          });\n        }\n        if (spec.type === 'button') {\n          return spec.onAction({ setIcon });\n        }\n      };\n      const action = getAction();\n      const buttonSpec = {\n        ...spec,\n        name: isToggleButton ? spec.text.getOr(spec.icon.getOr('')) : (_a = spec.text) !== null && _a !== void 0 ? _a : spec.icon.getOr(''),\n        primary: spec.buttonType === 'primary',\n        buttonType: Optional.from(spec.buttonType),\n        tooltip: spec.tooltip,\n        icon: spec.icon,\n        enabled: true,\n        borderless: spec.borderless\n      };\n      const buttonTypeClasses = calculateClassesFromButtonType((_b = spec.buttonType) !== null && _b !== void 0 ? _b : 'secondary');\n      const optTranslatedText = isToggleButton ? spec.text.map(providers.translate) : Optional.some(providers.translate(spec.text));\n      const optTranslatedTextComponed = optTranslatedText.map(text$2);\n      const ariaLabelAttributes = buttonSpec.tooltip.or(optTranslatedText).map(al => ({ 'aria-label': providers.translate(al) })).getOr({});\n      const optIconSpec = optMemIcon.map(memIcon => memIcon.asSpec());\n      const components = componentRenderPipeline([\n        optIconSpec,\n        optTranslatedTextComponed\n      ]);\n      const hasIconAndText = spec.icon.isSome() && optTranslatedTextComponed.isSome();\n      const dom = {\n        tag: 'button',\n        classes: buttonTypeClasses.concat(...spec.icon.isSome() && !hasIconAndText ? ['tox-button--icon'] : []).concat(...hasIconAndText ? ['tox-button--icon-and-text'] : []).concat(...spec.borderless ? ['tox-button--naked'] : []).concat(...spec.type === 'togglebutton' && spec.active ? ['tox-button--enabled'] : []),\n        attributes: ariaLabelAttributes\n      };\n      const extraBehaviours = [];\n      const iconButtonSpec = renderCommonSpec(buttonSpec, Optional.some(action), extraBehaviours, dom, components, spec.tooltip, providers);\n      return Button.sketch(iconButtonSpec);\n    };\n\n    const renderViewButton = (spec, providers) => renderButton(spec, providers);\n    const renderButtonsGroup = (spec, providers) => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__toolbar__group']\n        },\n        components: map$2(spec.buttons, button => renderViewButton(button, providers))\n      };\n    };\n    const deviceDetection = detect$1().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const renderViewHeader = spec => {\n      let hasGroups = false;\n      const endButtons = map$2(spec.buttons, btnspec => {\n        if (btnspec.type === 'group') {\n          hasGroups = true;\n          return renderButtonsGroup(btnspec, spec.providers);\n        } else {\n          return renderViewButton(btnspec, spec.providers);\n        }\n      });\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: [\n            !hasGroups ? 'tox-view__header' : 'tox-view__toolbar',\n            ...isPhone || isTablet ? [\n              'tox-view--mobile',\n              'tox-view--scrolling'\n            ] : []\n          ]\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            selector: 'button, .tox-button',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode\n          })\n        ]),\n        components: hasGroups ? endButtons : [\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-start']\n            },\n            components: []\n          }),\n          Container.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-view__header-end']\n            },\n            components: endButtons\n          })\n        ]\n      };\n    };\n    const renderViewPane = spec => {\n      return {\n        uid: spec.uid,\n        behaviours: derive$1([\n          Focusing.config({}),\n          Tabstopping.config({})\n        ]),\n        dom: {\n          tag: 'div',\n          classes: ['tox-view__pane']\n        }\n      };\n    };\n    const factory$8 = (detail, components, _spec, _externals) => {\n      const apis = {\n        getPane: comp => parts$a.getPart(comp, detail, 'pane'),\n        getOnShow: _comp => detail.viewConfig.onShow,\n        getOnHide: _comp => detail.viewConfig.onHide\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode\n          })\n        ]),\n        apis\n      };\n    };\n    var View = composite({\n      name: 'silver.View',\n      configFields: [required$1('viewConfig')],\n      partFields: [\n        optional({\n          factory: { sketch: renderViewHeader },\n          schema: [\n            required$1('buttons'),\n            required$1('providers')\n          ],\n          name: 'header'\n        }),\n        optional({\n          factory: { sketch: renderViewPane },\n          schema: [],\n          name: 'pane'\n        })\n      ],\n      factory: factory$8,\n      apis: {\n        getPane: (apis, comp) => apis.getPane(comp),\n        getOnShow: (apis, comp) => apis.getOnShow(comp),\n        getOnHide: (apis, comp) => apis.getOnHide(comp)\n      }\n    });\n\n    const makeViews = (parts, viewConfigs, providers) => {\n      return mapToArray(viewConfigs, (config, name) => {\n        const internalViewConfig = getOrDie(createView(config));\n        return parts.slot(name, View.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-view']\n          },\n          viewConfig: internalViewConfig,\n          components: [\n            ...internalViewConfig.buttons.length > 0 ? [View.parts.header({\n                buttons: internalViewConfig.buttons,\n                providers\n              })] : [],\n            View.parts.pane({})\n          ]\n        }));\n      });\n    };\n    const makeSlotContainer = (viewConfigs, providers) => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-view-wrap__slot-container']\n      },\n      components: makeViews(parts, viewConfigs, providers),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const getCurrentName = slotContainer => {\n      return find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name));\n    };\n    const hideContainer = comp => {\n      const element = comp.element;\n      set$8(element, 'display', 'none');\n      set$9(element, 'aria-hidden', 'true');\n    };\n    const showContainer = comp => {\n      const element = comp.element;\n      remove$6(element, 'display');\n      remove$7(element, 'aria-hidden');\n    };\n    const makeViewInstanceApi = slot => ({ getContainer: constant$1(slot) });\n    const runOnPaneWithInstanceApi = (slotContainer, name, get) => {\n      SlotContainer.getSlot(slotContainer, name).each(view => {\n        View.getPane(view).each(pane => {\n          const onCallback = get(view);\n          onCallback(makeViewInstanceApi(pane.element.dom));\n        });\n      });\n    };\n    const runOnShow = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnShow);\n    const runOnHide = (slotContainer, name) => runOnPaneWithInstanceApi(slotContainer, name, View.getOnHide);\n    const factory$7 = (detail, spec) => {\n      const setViews = (comp, viewConfigs) => {\n        Replacing.set(comp, [makeSlotContainer(viewConfigs, spec.backstage.shared.providers)]);\n      };\n      const whichView = comp => {\n        return Composing.getCurrent(comp).bind(getCurrentName);\n      };\n      const toggleView = (comp, showMainView, hideMainView, name) => {\n        return Composing.getCurrent(comp).exists(slotContainer => {\n          const optCurrentSlotName = getCurrentName(slotContainer);\n          const isTogglingCurrentView = optCurrentSlotName.exists(current => name === current);\n          const exists = SlotContainer.getSlot(slotContainer, name).isSome();\n          if (exists) {\n            SlotContainer.hideAllSlots(slotContainer);\n            if (!isTogglingCurrentView) {\n              hideMainView();\n              showContainer(comp);\n              SlotContainer.showSlot(slotContainer, name);\n              runOnShow(slotContainer, name);\n            } else {\n              hideContainer(comp);\n              showMainView();\n            }\n            optCurrentSlotName.each(prevName => runOnHide(slotContainer, prevName));\n          }\n          return exists;\n        });\n      };\n      const apis = {\n        setViews,\n        whichView,\n        toggleView\n      };\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-view-wrap'],\n          attributes: { 'aria-hidden': 'true' },\n          styles: { display: 'none' }\n        },\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          Composing.config({\n            find: comp => {\n              const children = Replacing.contents(comp);\n              return head(children);\n            }\n          })\n        ]),\n        apis\n      };\n    };\n    var ViewWrapper = single({\n      factory: factory$7,\n      name: 'silver.ViewWrapper',\n      configFields: [required$1('backstage')],\n      apis: {\n        setViews: (apis, comp, views) => apis.setViews(comp, views),\n        toggleView: (apis, comp, outerContainer, editorCont, name) => apis.toggleView(comp, outerContainer, editorCont, name),\n        whichView: (apis, comp) => apis.whichView(comp)\n      }\n    });\n\n    const factory$6 = (detail, components, _spec) => {\n      let toolbarDrawerOpenState = false;\n      const toggleStatusbar = editorContainer => {\n        sibling(editorContainer, '.tox-statusbar').each(statusBar => {\n          if (get$f(statusBar, 'display') === 'none' && get$g(statusBar, 'aria-hidden') === 'true') {\n            remove$6(statusBar, 'display');\n            remove$7(statusBar, 'aria-hidden');\n          } else {\n            set$8(statusBar, 'display', 'none');\n            set$9(statusBar, 'aria-hidden', 'true');\n          }\n        });\n      };\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs, showSidebar) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs, showSidebar));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            const renderedGroups = map$2(groups, renderToolbarGroup);\n            toolbar.getApis().setGroups(toolbar, renderedGroups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            const renderedToolbars = map$2(toolbars, g => map$2(g, renderToolbarGroup));\n            CustomList.setItems(mToolbar, renderedToolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        toggleToolbarDrawerWithoutFocusing: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggleWithoutFocusing, toggleWithoutFocusing => toggleWithoutFocusing(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        },\n        setViews: (comp, viewConfigs) => {\n          parts$a.getPart(comp, detail, 'viewWrapper').each(wrapper => {\n            ViewWrapper.setViews(wrapper, viewConfigs);\n          });\n        },\n        toggleView: (comp, name) => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').exists(wrapper => ViewWrapper.toggleView(wrapper, () => apis.showMainView(comp), () => apis.hideMainView(comp), name));\n        },\n        whichView: comp => {\n          return parts$a.getPart(comp, detail, 'viewWrapper').bind(ViewWrapper.whichView).getOrNull();\n        },\n        hideMainView: comp => {\n          toolbarDrawerOpenState = apis.isToolbarDrawerToggled(comp);\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            toggleStatusbar(element);\n            set$8(element, 'display', 'none');\n            set$9(element, 'aria-hidden', 'true');\n          });\n        },\n        showMainView: comp => {\n          if (toolbarDrawerOpenState) {\n            apis.toggleToolbarDrawer(comp);\n          }\n          parts$a.getPart(comp, detail, 'editorContainer').each(editorContainer => {\n            const element = editorContainer.element;\n            toggleStatusbar(element);\n            remove$6(element, 'display');\n            remove$7(element, 'aria-hidden');\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            onToggled: (_comp, state) => spec.onToolbarToggled(state),\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partPromotion = partType.optional({\n      factory: { sketch: renderPromotion },\n      name: 'promotion',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    const partViewWrapper = partType.optional({\n      factory: ViewWrapper,\n      name: 'viewWrapper',\n      schema: [required$1('backstage')]\n    });\n    const renderEditorContainer = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-editor-container']\n      },\n      components: spec.components\n    });\n    const partEditorContainer = partType.optional({\n      factory: { sketch: renderEditorContainer },\n      name: 'editorContainer',\n      schema: []\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partPromotion,\n        partThrobber,\n        partViewWrapper,\n        partEditorContainer\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs, showSidebar) => {\n          apis.setSidebar(comp, panelConfigs, showSidebar);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, groups) => {\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, toolbars) => {\n          apis.setToolbars(comp, toolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        toggleToolbarDrawerWithoutFocusing: (apis, comp) => {\n          apis.toggleToolbarDrawerWithoutFocusing(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        },\n        setViews: (apis, comp, views) => {\n          apis.setViews(comp, views);\n        },\n        toggleView: (apis, comp, name) => {\n          return apis.toggleView(comp, name);\n        },\n        whichView: (apis, comp) => {\n          return apis.whichView(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      return items.split(' ');\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$h(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => isString(item) || item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadRawCss = (editor, key, css, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unloadRawCss(key));\n      return styleSheetLoader.loadRawCss(key, css);\n    };\n    const loadUiSkins = async (editor, skinUrl) => {\n      const skinResourceIdentifier = getSkinUrlOption(editor).getOr('default');\n      const skinUiCss = 'ui/' + skinResourceIdentifier + '/skin.css';\n      const css = tinymce.Resource.get(skinUiCss);\n      if (isString(css)) {\n        loadRawCss(editor, skinUiCss, css, editor.ui.styleSheetLoader);\n      } else {\n        const suffix = editor.editorManager.suffix;\n        const skinUiCss = skinUrl + `/skin${ suffix }.css`;\n        return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n      }\n    };\n    const loadShadowDomUiSkins = async (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        const skinResourceIdentifier = getSkinUrlOption(editor).getOr('default');\n        const shadowDomSkinCss = 'ui/' + skinResourceIdentifier + '/skin.shadowdom.css';\n        const css = tinymce.Resource.get(shadowDomSkinCss);\n        if (isString(css)) {\n          loadRawCss(editor, shadowDomSkinCss, css, global$8.DOM.styleSheetLoader);\n        } else {\n          const suffix = editor.editorManager.suffix;\n          const shadowDomSkinCss = skinUrl + `/skin.shadowdom${ suffix }.css`;\n          return loadStylesheet(editor, shadowDomSkinCss, global$8.DOM.styleSheetLoader);\n        }\n      }\n    };\n    const loadUrlSkin = async (isInline, editor) => {\n      const unbundled = () => {\n        const skinResourceIdentifier = getSkinUrl(editor);\n        const suffix = editor.editorManager.suffix;\n        if (skinResourceIdentifier) {\n          editor.contentCSS.push(skinResourceIdentifier + (isInline ? '/content.inline' : '/content') + `${ suffix }.css`);\n        }\n      };\n      getSkinUrlOption(editor).fold(unbundled, skinUrl => {\n        const skinContentCss = 'ui/' + skinUrl + (isInline ? '/content.inline' : '/content') + '.css';\n        const css = tinymce.Resource.get(skinContentCss);\n        if (isString(css)) {\n          loadRawCss(editor, skinContentCss, css, editor.ui.styleSheetLoader);\n        } else {\n          unbundled();\n        }\n      });\n      const skinUrl = getSkinUrl(editor);\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        return Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      return loadUrlSkin(isInline, editor).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const makeTooltipText = (editor, labelWithPlaceholder, value) => isEmpty(value) ? editor.translate(labelWithPlaceholder) : editor.translate([\n      labelWithPlaceholder,\n      editor.translate(value)\n    ]);\n\n    const generateSelectItems = (backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n          isHorizontalMenu: false,\n          search: Optional.none()\n        });\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec, getTooltip, textUpdateEventName, btnName) => {\n      const {items, getStyleItems} = createMenuItems(backstage, spec);\n      const tooltipString = Cell(spec.tooltip);\n      const getApi = comp => ({\n        getComponent: constant$1(comp),\n        setTooltip: tooltip => {\n          const translatedTooltip = backstage.shared.providers.translate(tooltip);\n          set$9(comp.element, 'aria-label', translatedTooltip);\n          tooltipString.set(tooltip);\n        }\n      });\n      const onSetup = api => {\n        const handler = e => api.setTooltip(makeTooltipText(editor, getTooltip(e.value), e.value));\n        editor.on(textUpdateEventName, handler);\n        return composeUnbinders(onSetupEvent(editor, 'NodeChange', api => {\n          const comp = api.getComponent();\n          spec.updateText(comp);\n          Disabling.set(api.getComponent(), !editor.selection.isEditable());\n        })(api), () => editor.off(textUpdateEventName, handler));\n      };\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        ariaLabel: Optional.some(spec.tooltip),\n        tooltip: Optional.none(),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: [Tooltipping.config({\n            ...backstage.shared.providers.tooltips.getConfig({\n              tooltipText: backstage.shared.providers.translate(spec.tooltip),\n              onShow: comp => {\n                if (spec.tooltip !== tooltipString.get()) {\n                  const translatedTooltip = backstage.shared.providers.translate(tooltipString.get());\n                  Tooltipping.setComponents(comp, backstage.shared.providers.tooltips.getComponents({ tooltipText: translatedTooltip }));\n                }\n              }\n            })\n          })]\n      }, 'tox-tbtn', backstage.shared, btnName);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const menuTitle$4 = 'Align';\n    const getTooltipPlaceholder$4 = constant$1('Alignment {0}');\n    const fallbackAlignment = 'left';\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1(fallbackAlignment), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n        fireAlignTextUpdate(editor, { value: alignment });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$4(), fallbackAlignment),\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor), getTooltipPlaceholder$4, 'AlignTextUpdate', 'align');\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate(menuTitle$4),\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt));\n    };\n\n    const menuTitle$3 = 'Blocks';\n    const getTooltipPlaceholder$3 = constant$1('Block {0}');\n    const fallbackFormat = 'Paragraph';\n    const getSpec$3 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        if (fmt) {\n          return Optional.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n        fireBlocksTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$3(), fallbackFormat),\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor), getTooltipPlaceholder$3, 'BlocksTextUpdate', 'blocks');\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: menuTitle$3,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const menuTitle$2 = 'Fonts';\n    const getTooltipPlaceholder$2 = constant$1('Font {0}');\n    const systemFont = 'System Font';\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const matchesStack = (fonts, stack) => stack.length > 0 && forall(stack, font => fonts.indexOf(font.toLowerCase()) > -1);\n    const isSystemFontStack = (fontFamily, userStack) => {\n      if (fontFamily.indexOf('-apple-system') === 0 || userStack.length > 0) {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return matchesStack(fonts, systemStackFonts) || matchesStack(fonts, userStack);\n      } else {\n        return false;\n      }\n    };\n    const getSpec$2 = editor => {\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const userStack = getDefaultFontStack(editor);\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font, userStack), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n        fireFontFamilyTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$2(), systemFont),\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor), getTooltipPlaceholder$2, 'FontFamilyTextUpdate', 'fontfamily');\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate(menuTitle$2),\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const Keys = {\n      tab: constant$1(9),\n      escape: constant$1(27),\n      enter: constant$1(13),\n      backspace: constant$1(8),\n      delete: constant$1(46),\n      left: constant$1(37),\n      up: constant$1(38),\n      right: constant$1(39),\n      down: constant$1(40),\n      space: constant$1(32),\n      home: constant$1(36),\n      end: constant$1(35),\n      pageUp: constant$1(33),\n      pageDown: constant$1(34)\n    };\n\n    const createBespokeNumberInput = (editor, backstage, spec, btnName) => {\n      let currentComp = Optional.none();\n      const getValueFromCurrentComp = comp => comp.map(alloyComp => Representing.getValue(alloyComp)).getOr('');\n      const onSetup = onSetupEvent(editor, 'NodeChange SwitchMode', api => {\n        const comp = api.getComponent();\n        currentComp = Optional.some(comp);\n        spec.updateInputValue(comp);\n        Disabling.set(comp, !editor.selection.isEditable());\n      });\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const editorOffCell = Cell(noop);\n      const customEvents = generate$6('custom-number-input-events');\n      const changeValue = (f, fromInput, focusBack) => {\n        const text = getValueFromCurrentComp(currentComp);\n        const newValue = spec.getNewValue(text, f);\n        const lenghtDelta = text.length - `${ newValue }`.length;\n        const oldStart = currentComp.map(comp => comp.element.dom.selectionStart - lenghtDelta);\n        const oldEnd = currentComp.map(comp => comp.element.dom.selectionEnd - lenghtDelta);\n        spec.onAction(newValue, focusBack);\n        currentComp.each(comp => {\n          Representing.setValue(comp, newValue);\n          if (fromInput) {\n            oldStart.each(oldStart => comp.element.dom.selectionStart = oldStart);\n            oldEnd.each(oldEnd => comp.element.dom.selectionEnd = oldEnd);\n          }\n        });\n      };\n      const decrease = (fromInput, focusBack) => changeValue((n, s) => n - s, fromInput, focusBack);\n      const increase = (fromInput, focusBack) => changeValue((n, s) => n + s, fromInput, focusBack);\n      const goToParent = comp => parentElement(comp.element).fold(Optional.none, parent => {\n        focus$3(parent);\n        return Optional.some(true);\n      });\n      const focusInput = comp => {\n        if (hasFocus(comp.element)) {\n          firstChild(comp.element).each(input => focus$3(input));\n          return Optional.some(true);\n        } else {\n          return Optional.none();\n        }\n      };\n      const makeStepperButton = (action, title, tooltip, classes) => {\n        const editorOffCellStepButton = Cell(noop);\n        const translatedTooltip = backstage.shared.providers.translate(tooltip);\n        const altExecuting = generate$6('altExecuting');\n        const onSetup = onSetupEvent(editor, 'NodeChange SwitchMode', api => {\n          Disabling.set(api.getComponent(), !editor.selection.isEditable());\n        });\n        const onClick = comp => {\n          if (!Disabling.isDisabled(comp)) {\n            action(true);\n          }\n        };\n        return Button.sketch({\n          dom: {\n            tag: 'button',\n            attributes: {\n              'aria-label': translatedTooltip,\n              'data-mce-name': title\n            },\n            classes: classes.concat(title)\n          },\n          components: [renderIconFromPack$1(title, backstage.shared.providers.icons)],\n          buttonBehaviours: derive$1([\n            Disabling.config({}),\n            Tooltipping.config(backstage.shared.providers.tooltips.getConfig({ tooltipText: translatedTooltip })),\n            config(altExecuting, [\n              onControlAttached({\n                onSetup,\n                getApi\n              }, editorOffCellStepButton),\n              onControlDetached({ getApi }, editorOffCellStepButton),\n              run$1(keydown(), (comp, se) => {\n                if (se.event.raw.keyCode === Keys.space() || se.event.raw.keyCode === Keys.enter()) {\n                  if (!Disabling.isDisabled(comp)) {\n                    action(false);\n                  }\n                }\n              }),\n              run$1(click(), onClick),\n              run$1(touchend(), onClick)\n            ])\n          ]),\n          eventOrder: {\n            [keydown()]: [\n              altExecuting,\n              'keying'\n            ],\n            [click()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ],\n            [touchend()]: [\n              altExecuting,\n              'alloy.base.behaviour'\n            ],\n            [attachedToDom()]: [\n              'alloy.base.behaviour',\n              altExecuting,\n              'tooltipping'\n            ],\n            [detachedFromDom()]: [\n              altExecuting,\n              'tooltipping'\n            ]\n          }\n        });\n      };\n      const memMinus = record(makeStepperButton(focusBack => decrease(false, focusBack), 'minus', 'Decrease font size', []));\n      const memPlus = record(makeStepperButton(focusBack => increase(false, focusBack), 'plus', 'Increase font size', []));\n      const memInput = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-input-wrapper']\n        },\n        components: [Input.sketch({\n            inputBehaviours: derive$1([\n              Disabling.config({}),\n              config(customEvents, [\n                onControlAttached({\n                  onSetup,\n                  getApi\n                }, editorOffCell),\n                onControlDetached({ getApi }, editorOffCell)\n              ]),\n              config('input-update-display-text', [\n                run$1(updateMenuText, (comp, se) => {\n                  Representing.setValue(comp, se.event.text);\n                }),\n                run$1(focusout(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                }),\n                run$1(change(), comp => {\n                  spec.onAction(Representing.getValue(comp));\n                })\n              ]),\n              Keying.config({\n                mode: 'special',\n                onEnter: _comp => {\n                  changeValue(identity, true, true);\n                  return Optional.some(true);\n                },\n                onEscape: goToParent,\n                onUp: _comp => {\n                  increase(true, false);\n                  return Optional.some(true);\n                },\n                onDown: _comp => {\n                  decrease(true, false);\n                  return Optional.some(true);\n                },\n                onLeft: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                },\n                onRight: (_comp, se) => {\n                  se.cut();\n                  return Optional.none();\n                }\n              })\n            ])\n          })],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'special',\n            onEnter: focusInput,\n            onSpace: focusInput,\n            onEscape: goToParent\n          }),\n          config('input-wrapper-events', [run$1(mouseover(), comp => {\n              each$1([\n                memMinus,\n                memPlus\n              ], button => {\n                const buttonNode = SugarElement.fromDom(button.get(comp).element.dom);\n                if (hasFocus(buttonNode)) {\n                  blur$1(buttonNode);\n                }\n              });\n            })])\n        ])\n      });\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-number-input'],\n          attributes: { ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {} }\n        },\n        components: [\n          memMinus.asSpec(),\n          memInput.asSpec(),\n          memPlus.asSpec()\n        ],\n        behaviours: derive$1([\n          Focusing.config({}),\n          Keying.config({\n            mode: 'flow',\n            focusInside: FocusInsideModes.OnEnterOrSpaceMode,\n            cycles: false,\n            selector: 'button, .tox-input-wrapper',\n            onEscape: wrapperComp => {\n              if (hasFocus(wrapperComp.element)) {\n                return Optional.none();\n              } else {\n                focus$3(wrapperComp.element);\n                return Optional.some(true);\n              }\n            }\n          })\n        ])\n      };\n    };\n\n    const menuTitle$1 = 'Font sizes';\n    const getTooltipPlaceholder$1 = constant$1('Font size {0}');\n    const fallbackFontSize = '12pt';\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$h(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$h(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n        fireFontSizeTextUpdate(editor, { value: text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder$1(), fallbackFontSize),\n        text: Optional.some(fallbackFontSize),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor), getTooltipPlaceholder$1, 'FontSizeTextUpdate', 'fontsize');\n    const getConfigFromUnit = unit => {\n      var _a;\n      const baseConfig = { step: 1 };\n      const configs = {\n        em: { step: 0.1 },\n        cm: { step: 0.1 },\n        in: { step: 0.1 },\n        pc: { step: 0.1 },\n        ch: { step: 0.1 },\n        rem: { step: 0.1 }\n      };\n      return (_a = configs[unit]) !== null && _a !== void 0 ? _a : baseConfig;\n    };\n    const defaultValue = 16;\n    const isValidValue = value => value >= 0;\n    const getNumberInputSpec = editor => {\n      const getCurrentValue = () => editor.queryCommandValue('FontSize');\n      const updateInputValue = comp => emitWith(comp, updateMenuText, { text: getCurrentValue() });\n      return {\n        updateInputValue,\n        onAction: (format, focusBack) => editor.execCommand('FontSize', false, format, { skip_focus: !focusBack }),\n        getNewValue: (text, updateFunction) => {\n          parse(text, [\n            'unsupportedLength',\n            'empty'\n          ]);\n          const currentValue = getCurrentValue();\n          const parsedText = parse(text, [\n            'unsupportedLength',\n            'empty'\n          ]).or(parse(currentValue, [\n            'unsupportedLength',\n            'empty'\n          ]));\n          const value = parsedText.map(res => res.value).getOr(defaultValue);\n          const defaultUnit = getFontSizeInputDefaultUnit(editor);\n          const unit = parsedText.map(res => res.unit).filter(u => u !== '').getOr(defaultUnit);\n          const newValue = updateFunction(value, getConfigFromUnit(unit).step);\n          const res = `${ isValidValue(newValue) ? newValue : value }${ unit }`;\n          if (res !== currentValue) {\n            fireFontSizeInputTextUpdate(editor, { value: res });\n          }\n          return res;\n        }\n      };\n    };\n    const createFontSizeInputButton = (editor, backstage) => createBespokeNumberInput(editor, backstage, getNumberInputSpec(editor), 'fontsizeinput');\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: menuTitle$1,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const menuTitle = 'Formats';\n    const getTooltipPlaceholder = value => isEmpty(value) ? 'Formats' : 'Format {0}';\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Formats';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          if (isNestedFormat(fmt)) {\n            return bind$3(fmt.items, getFormatItems);\n          } else if (isFormatReference(fmt)) {\n            return [{\n                title: fmt.title,\n                format: fmt.format\n              }];\n          } else {\n            return [];\n          }\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1({\n          title: fallbackFormat,\n          tooltipLabel: ''\n        }), fmt => ({\n          title: fmt.title,\n          tooltipLabel: fmt.title\n        }));\n        emitWith(comp, updateMenuText, { text: text.title });\n        fireStylesTextUpdate(editor, { value: text.tooltipLabel });\n      };\n      return {\n        tooltip: makeTooltipText(editor, getTooltipPlaceholder(''), ''),\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset), getTooltipPlaceholder, 'StylesTextUpdate', 'styles');\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: menuTitle,\n        onSetup: onSetupEditableToggle(editor),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightMenuAndItem).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$9(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setText: text => emitWith(component, updateMenuText, { text }),\n      setIcon: icon => emitWith(component, updateMenuIcon, { icon })\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({ 'aria-label': providersBackstage.translate(tooltip) })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (optIcon, optText, tooltip, behaviours, providersBackstage, btnName) => {\n      const optMemDisplayText = optText.map(text => record(renderLabel$1(text, 'tox-tbtn', providersBackstage)));\n      const optMemDisplayIcon = optIcon.map(icon => record(renderReplaceableIconFromPack(icon, providersBackstage.icons)));\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(optText.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: {\n            ...getTooltipAttributes(tooltip, providersBackstage),\n            ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n          }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec())\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            commonButtonDisplayEvent\n          ],\n          [attachedToDom()]: [\n            commonButtonDisplayEvent,\n            'toolbar-group-button-events'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config(commonButtonDisplayEvent, [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$2(providersBackstage.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplaceableIconFromPack(se.event.icon, providersBackstage.icons)]);\n              });\n            }),\n            run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })\n          ])\n        ].concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes, btnName) => {\n      const sharedBackstage = backstage.shared;\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        toolbarButtonBehaviours: [],\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      };\n      const behaviours = [config('toolbar-group-button-events', [\n          onControlAttached(specialisation, editorOffCell),\n          onControlDetached(specialisation, editorOffCell)\n        ])];\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.some(behaviours), sharedBackstage.providers, btnName),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage, btnName) => {\n      var _d;\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), providersBackstage, btnName);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: {\n          ...derive$1([\n            config('toolbar-button-events', [\n              onToolbarButtonExecute({\n                onAction: spec.onAction,\n                getApi: specialisation.getApi\n              }),\n              onControlAttached(specialisation, editorOffCell),\n              onControlDetached(specialisation, editorOffCell)\n            ]),\n            ...spec.tooltip.map(t => Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate(t) + spec.shortcut.map(shortcut => ` (${ convertText(shortcut) })`).getOr('') }))).toArray(),\n            DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.isDisabled()),\n            receivingConfig()\n          ].concat(specialisation.toolbarButtonBehaviours)),\n          [commonButtonDisplayEvent]: (_d = structure.buttonBehaviours) === null || _d === void 0 ? void 0 : _d[commonButtonDisplayEvent]\n        }\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage, btnName) => renderToolbarButtonWith(spec, providersBackstage, [], btnName);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents, btnName) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : [],\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage, btnName);\n    const renderToolbarToggleButton = (spec, providersBackstage, btnName) => renderToolbarToggleButtonWith(spec, providersBackstage, [], btnName);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents, btnName) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage, btnName);\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage, btnName) => {\n      const tooltipString = Cell(spec.tooltip.getOr(''));\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, `svg path[class=\"${ id }\"], rect[class=\"${ id }\"]`).each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn)),\n        setText: text => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuText, { text }))),\n        setIcon: icon => descendant(comp.element, 'span').each(button => comp.getSystem().getByDom(button).each(buttonComp => emitWith(buttonComp, updateMenuIcon, { icon }))),\n        setTooltip: tooltip => {\n          const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n          set$9(comp.element, 'aria-label', translatedTooltip);\n          tooltipString.set(tooltip);\n        }\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers),\n            ...isNonNullable(btnName) ? { 'data-mce-name': btnName } : {}\n          }\n        },\n        onExecute: button => {\n          const api = getApi(button);\n          if (api.isEnabled()) {\n            spec.onAction(api);\n          }\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            runOnAttached((comp, _se) => forceInitialSize(comp)),\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({}),\n          ...spec.tooltip.map(tooltip => {\n            return Tooltipping.config({\n              ...sharedBackstage.providers.tooltips.getConfig({\n                tooltipText: sharedBackstage.providers.translate(tooltip),\n                onShow: comp => {\n                  if (tooltipString.get() !== tooltip) {\n                    const translatedTooltip = sharedBackstage.providers.translate(tooltipString.get());\n                    Tooltipping.setComponents(comp, sharedBackstage.providers.tooltips.getComponents({ tooltipText: translatedTooltip }));\n                  }\n                }\n              })\n            });\n          }).toArray()\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events',\n            'tooltipping'\n          ],\n          [detachedFromDom()]: [\n            'split-dropdown-events',\n            'tooltipping'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$3('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'ai',\n        items: [\n          'aidialog',\n          'aishortcuts'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, backstage, editor, btnName) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, backstage, editor, btnName);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, backstage, _, btnName) => renderToolbarButton(s, backstage.shared.providers, btnName)),\n      togglebutton: renderFromBridge(createToggleButton, (s, backstage, _, btnName) => renderToolbarToggleButton(s, backstage.shared.providers, btnName)),\n      menubutton: renderFromBridge(createMenuButton, (s, backstage, _, btnName) => renderMenuButton(s, 'tox-tbtn', backstage, Optional.none(), false, btnName)),\n      splitbutton: renderFromBridge(createSplitButton, (s, backstage, _, btnName) => renderSplitButton(s, backstage.shared, btnName)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, backstage, editor, btnName) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, backstage, Optional.none());\n        const attributes = { [Attribute]: backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, backstage, identify, attributes, btnName);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      })\n    };\n    const extractFrom = (spec, backstage, editor, btnName) => get$h(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, backstage, editor, btnName)));\n    const bespokeButtons = {\n      styles: createStylesButton,\n      fontsize: createFontSizeButton,\n      fontsizeinput: createFontSizeInputButton,\n      fontfamily: createFontFamilyButton,\n      blocks: createBlocksButton,\n      align: createAlignButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => has$2(t, 'name') && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, backstage, prefixes) => get$h(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$h(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$h(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, backstage)), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, backstage, editor, toolbarItem.toLowerCase());\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, backstage, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, backstage, prefixes).toArray();\n        });\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiRefs, rawUiConfig, backstage) => {\n      const outerContainer = uiRefs.mainUi.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, backstage, Optional.none());\n        });\n        OuterContainer.setToolbars(outerContainer, toolbars);\n      } else {\n        OuterContainer.setToolbar(outerContainer, identifyButtons(editor, rawUiConfig, backstage, Optional.none()));\n      }\n    };\n\n    const detection = detect$1();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiRefs) => {\n      const {uiMotherships} = uiRefs;\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => {\n        fireScrollContent(editor, e);\n      };\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      editor.on('hide', () => {\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      });\n      editor.on('show', () => {\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const attachUiMotherships = (editor, uiRoot, uiRefs) => {\n      if (isSplitUiMode(editor)) {\n        attachSystemAfter(uiRefs.mainUi.mothership.element, uiRefs.popupUi.mothership);\n      }\n      attachSystem(uiRoot, uiRefs.dialogUi.mothership);\n    };\n    const render$1 = (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = mainUi.outerContainer;\n      iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, mainUi.mothership);\n      attachUiMotherships(editor, uiRoot, uiRefs);\n      editor.on('SkinLoaded', () => {\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar, getSidebarShow(editor));\n        setToolbar(editor, uiRefs, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setViews(outerContainer, rawUiConfig.views);\n        setupEvents$1(editor, uiRefs);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiRefs);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.dispatch('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => {\n        var _a;\n        return (_a = OuterContainer.whichSidebar(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      editor.addCommand('ToggleView', (_ui, value) => {\n        if (OuterContainer.toggleView(outerContainer, value)) {\n          const target = outerContainer.element;\n          mainUi.mothership.broadcastOn([dismissPopups()], { target });\n          each$1(uiMotherships, m => {\n            m.broadcastOn([dismissPopups()], { target });\n          });\n          if (isNull(OuterContainer.whichView(outerContainer))) {\n            editor.focus();\n            editor.nodeChanged();\n            OuterContainer.refreshToolbar(outerContainer);\n          }\n        }\n      });\n      editor.addQueryValueHandler('ToggleView', () => {\n        var _a;\n        return (_a = OuterContainer.whichView(outerContainer)) !== null && _a !== void 0 ? _a : '';\n      });\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiRefs.mainUi.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const maximumDistanceToEdge = 40;\n    const InlineHeader = (editor, targetElm, uiRefs, backstage, floatContainer) => {\n      const {mainUi, uiMotherships} = uiRefs;\n      const DOM = global$8.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const minimumToolbarWidth = 150;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$e(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$e(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$e(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        floatContainer.on(container => {\n          Docking.setModes(container, [mode]);\n          headerBackstage.setDockingMode(mode);\n          const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n          set$9(container.element, Attribute, verticalDir);\n        });\n      };\n      const updateChromeWidth = () => {\n        floatContainer.on(container => {\n          const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n            return getBounds$3().width - viewport$1(targetElm).left - 10;\n          });\n          set$8(container.element, 'max-width', maxWidth + 'px');\n        });\n      };\n      const updateChromePosition = (isOuterContainerWidthRestored, prevScroll) => {\n        floatContainer.on(container => {\n          const toolbar = OuterContainer.getToolbar(mainUi.outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const targetBounds = box$1(targetElm);\n          const offsetParent = getOffsetParent$1(editor, mainUi.outerContainer.element);\n          const getLeft = () => offsetParent.fold(() => targetBounds.x, offsetParent => {\n            const offsetBox = box$1(offsetParent);\n            const isOffsetParentBody = eq(offsetParent, body());\n            return isOffsetParentBody ? targetBounds.x : targetBounds.x - offsetBox.x;\n          });\n          const getTop = () => offsetParent.fold(() => isPositionedAtTop() ? Math.max(targetBounds.y - get$e(container.element) + offset, 0) : targetBounds.bottom, offsetParent => {\n            var _a;\n            const offsetBox = box$1(offsetParent);\n            const scrollDelta = (_a = offsetParent.dom.scrollTop) !== null && _a !== void 0 ? _a : 0;\n            const isOffsetParentBody = eq(offsetParent, body());\n            const topValue = isOffsetParentBody ? Math.max(targetBounds.y - get$e(container.element) + offset, 0) : targetBounds.y - offsetBox.y + scrollDelta - get$e(container.element) + offset;\n            return isPositionedAtTop() ? topValue : targetBounds.bottom;\n          });\n          const left = getLeft();\n          const widthProperties = someIf(isOuterContainerWidthRestored, Math.ceil(mainUi.outerContainer.element.dom.getBoundingClientRect().width)).filter(w => w > minimumToolbarWidth).map(toolbarWidth => {\n            const scroll = prevScroll.getOr(get$c());\n            const availableWidth = window.innerWidth - (left - scroll.left);\n            const width = Math.max(Math.min(toolbarWidth, availableWidth), minimumToolbarWidth);\n            if (availableWidth < toolbarWidth) {\n              set$8(mainUi.outerContainer.element, 'width', width + 'px');\n            }\n            return { width: width + 'px' };\n          }).getOr({ width: 'max-content' });\n          const baseProperties = {\n            position: 'absolute',\n            left: Math.round(left) + 'px',\n            top: getTop() + 'px'\n          };\n          setAll(mainUi.outerContainer.element, {\n            ...baseProperties,\n            ...widthProperties\n          });\n        });\n      };\n      const getOffsetParent$1 = (editor, element) => isSplitUiMode(editor) ? getOffsetParent(element) : Optional.none();\n      const repositionPopups$1 = () => {\n        each$1(uiMotherships, m => {\n          m.broadcastOn([repositionPopups()], {});\n        });\n      };\n      const restoreOuterContainerWidth = () => {\n        if (!useFixedToolbarContainer) {\n          const toolbarCurrentRightsidePosition = absolute$3(mainUi.outerContainer.element).left + getOuter$1(mainUi.outerContainer.element);\n          if (toolbarCurrentRightsidePosition >= window.innerWidth - maximumDistanceToEdge || getRaw(mainUi.outerContainer.element, 'width').isSome()) {\n            set$8(mainUi.outerContainer.element, 'position', 'absolute');\n            set$8(mainUi.outerContainer.element, 'left', '0px');\n            remove$6(mainUi.outerContainer.element, 'width');\n            return true;\n          }\n        }\n        return false;\n      };\n      const update = stickyAction => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        const prevScroll = get$c();\n        const isOuterContainerWidthRestored = useFixedToolbarContainer ? false : restoreOuterContainerWidth();\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(mainUi.outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          const currentScroll = get$c();\n          const optScroll = someIf(prevScroll.left !== currentScroll.left, prevScroll);\n          updateChromePosition(isOuterContainerWidthRestored, optScroll);\n          optScroll.each(scroll => {\n            to(scroll.left, currentScroll.top);\n          });\n        }\n        if (isSticky) {\n          floatContainer.on(stickyAction);\n        }\n        repositionPopups$1();\n      };\n      const doUpdateMode = () => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return false;\n        }\n        return floatContainer.get().exists(fc => {\n          const currentMode = headerBackstage.getDockingMode();\n          const newMode = calcMode(fc);\n          if (newMode !== currentMode) {\n            setupMode(newMode);\n            return true;\n          } else {\n            return false;\n          }\n        });\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(mainUi.outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          remove$6(m.element, 'display');\n        });\n        doUpdateMode();\n        if (isSplitUiMode(editor)) {\n          update(elem => Docking.isDocked(elem) ? Docking.reset(elem) : Docking.refresh(elem));\n        } else {\n          update(Docking.refresh);\n        }\n      };\n      const hide = () => {\n        visible.set(false);\n        set$8(mainUi.outerContainer.element, 'display', 'none');\n        DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        each$1(uiMotherships, m => {\n          set$8(m.element, 'display', 'none');\n        });\n      };\n      const updateMode = () => {\n        const changedMode = doUpdateMode();\n        if (changedMode) {\n          update(Docking.reset);\n        }\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(Docking.reset);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(Docking.reset));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      let lastScrollX = 0;\n      const updateUi = last(() => ui.update(Docking.refresh), 33);\n      editor.on('ScrollWindow', () => {\n        const newScrollX = get$c().left;\n        if (newScrollX !== lastScrollX) {\n          lastScrollX = newScrollX;\n          updateUi.throttle();\n        }\n        ui.updateMode();\n      });\n      if (isSplitUiMode(editor)) {\n        editor.on('ElementScroll', _args => {\n          ui.update(Docking.refresh);\n        });\n      }\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', e => resizeContent(e.raw)));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = (editor, uiRefs, rawUiConfig, backstage, args) => {\n      const {mainUi} = uiRefs;\n      const floatContainer = value$4();\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiRefs, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      const render = () => {\n        if (floatContainer.isSet()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(mainUi.outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        if (isSplitUiMode(editor)) {\n          attachSystemAfter(targetElm, mainUi.mothership);\n          attachSystemAfter(targetElm, uiRefs.popupUi.mothership);\n        } else {\n          attachSystem(uiContainer, mainUi.mothership);\n        }\n        attachSystem(uiContainer, uiRefs.dialogUi.mothership);\n        const setup = () => {\n          setToolbar(editor, uiRefs, rawUiConfig, backstage);\n          OuterContainer.setMenubar(mainUi.outerContainer, identifyMenus(editor, rawUiConfig));\n          ui.show();\n          setupEvents(editor, targetElm, ui, toolbarPersist);\n          editor.nodeChanged();\n        };\n        if (toolbarPersist) {\n          editor.once('SkinLoaded', setup);\n        } else {\n          setup();\n        }\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiRefs);\n      const api = {\n        show: render,\n        hide: ui.hide,\n        setEnabled: state => {\n          broadcastReadonly(uiRefs, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(mainUi.outerContainer)\n      };\n      return {\n        editorContainer: mainUi.outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const LazyUiReferences = () => {\n      const dialogUi = value$4();\n      const popupUi = value$4();\n      const mainUi = value$4();\n      const lazyGetInOuterOrDie = (label, f) => () => mainUi.get().bind(oc => f(oc.outerContainer)).getOrDie(`Could not find ${ label } element in OuterContainer`);\n      const getUiMotherships = () => {\n        const optDialogMothership = dialogUi.get().map(ui => ui.mothership);\n        const optPopupMothership = popupUi.get().map(ui => ui.mothership);\n        return optDialogMothership.fold(() => optPopupMothership.toArray(), dm => optPopupMothership.fold(() => [dm], pm => eq(dm.element, pm.element) ? [dm] : [\n          dm,\n          pm\n        ]));\n      };\n      return {\n        dialogUi,\n        popupUi,\n        mainUi,\n        getUiMotherships,\n        lazyGetInOuterOrDie\n      };\n    };\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const getFormApi = input => ({\n      hide: () => emit(input, sandboxClose()),\n      getValue: () => Representing.getValue(input)\n    });\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, providers) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, providers, [runOnExecute(memInput, button)]);\n    };\n    const isToggleButton = button => button.type === 'contextformtogglebutton';\n    const generateOne = (memInput, button, providersBackstage) => {\n      if (isToggleButton(button)) {\n        return renderContextToggleButton(memInput, button, providersBackstage);\n      } else {\n        return renderContextButton(memInput, button, providersBackstage);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const buildInitGroups = (ctx, providers) => {\n      const inputAttributes = ctx.label.fold(() => ({}), label => ({ 'aria-label': label }));\n      const memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: input => commands.findPrimary(input).map(primary => {\n              emitExecute(primary);\n              return true;\n            }),\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      const commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$c();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(elem => inBody(elem) && isHTMLElement(elem)).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar), -20);\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$c().top : bounds.y;\n        const contextbarHeight = get$e(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$6(elem, 'width');\n              const currentWidth = get$d(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$d(elem);\n              set$8(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(newContents => {\n                se.event.focus.bind(f => {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(() => {\n                  Keying.focusIn(newContents);\n                  return active$1(getRootNode(elem));\n                });\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$9 = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$1().deviceType.isTouch;\n      const lastElement = value$4();\n      const lastTrigger = value$4();\n      const lastContextPosition = value$4();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds, 0.01);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => identifyButtons(editor, {\n        buttons: allButtons,\n        toolbar: ctx.items,\n        allowToolbarGroups: false\n      }, extras.backstage, Optional.some(['form:']));\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      let isDragging = false;\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed || isDragging) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$h(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('ExecCommand', ({command}) => {\n          if (command.toLowerCase() === 'toggleview') {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('dragstart', () => {\n          isDragging = true;\n        });\n        editor.on('dragend drop', () => {\n          isDragging = false;\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$8 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupStateToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$4();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = editor => ({\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value),\n      onToolbarSetup: onSetupEditableToggle(editor),\n      onMenuSetup: onSetupEditableToggle(editor)\n    });\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => {\n          var _a;\n          return editor.formatter.formatChanged('lang', callback, false, {\n            value: value.code,\n            customValue: (_a = value.customCode) !== null && _a !== void 0 ? _a : null\n          }).unbind;\n        },\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return composeUnbinders(unbinder.clear, onSetupEditableToggle(editor)(api));\n        },\n        onMenuSetup: onSetupEditableToggle(editor)\n      }));\n    };\n    const register$7 = editor => {\n      registerController(editor, lineHeightSpec(editor));\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$6 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent') && editor.selection.isEditable());\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return composeUnbinders(() => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler), onSetupEditableToggle(editor)(api));\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupStateToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name),\n          shortcut: btn.shortcut\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        const shortcut = `Access+${ i }`;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupStateToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name),\n          shortcut\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help',\n          shortcut: 'Alt+0'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          shortcut: btn.shortcut\n        });\n      });\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupEditableToggle(editor),\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupStateToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onSetup: onSetupEditableToggle(editor),\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onSetup: onSetupEditableToggle(editor),\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo'),\n        shortcut: 'Meta+Z'\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo'),\n        shortcut: 'Meta+Y'\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$8(editor);\n      register$3(editor);\n      register$6(editor, backstage);\n      register$2(editor);\n      register$c(editor);\n      register$1(editor);\n      register$5(editor);\n      register$7(editor);\n      register$4(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent$1 = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent$1(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$8.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: false,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, {\n        isHorizontalMenu: true,\n        search: Optional.none()\n      }).map(menuData => {\n        e.preventDefault();\n        const highlightOnOpen = highlightImmediately ? HighlightOnOpen.HighlightMenuAndItem : HighlightOnOpen.HighlightNone;\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightOnOpen\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$1();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          const commonItem = item;\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(commonItem),\n            onAction: noarg(commonItem.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$h(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items) && isNotEmpty(trim$1(items))) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (isArray(items) && items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTouchEvent = e => e.type === 'longpress' || has$2(e, 'touches');\n    const isTriggeredByKeyboard = (editor, e) => !isTouchEvent(e) && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$1();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = () => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$g(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get$1 = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get$1(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$c(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$6(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$7(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$f(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$c(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$3 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$3 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$3(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$3) })\n    ];\n\n    const init$2 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$4();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const events$1 = (dragConfig, dragState, updateStartState) => [\n      ...events$3(dragConfig, dragState, updateStartState),\n      ...events$2(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init$1 = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$7({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$1\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$4();\n      const finishCell = value$4();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$1().deviceType.isTouch()) {\n        const domToSugar = arr => map$2(arr, SugarElement.fromDom);\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          const start = SugarElement.fromDom(e.start);\n          const finish = SugarElement.fromDom(e.finish);\n          startCell.set(start);\n          finishCell.set(finish);\n          Optional.from(e.otherCells).each(otherCells => {\n            tlTds.set(domToSugar(otherCells.upOrLeftCells));\n            brTds.set(domToSugar(otherCells.downOrRightCells));\n            snapTopLeft(start);\n            snapBottomRight(finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: {\n            'data-index': index,\n            'aria-level': index + 1\n          }\n        },\n        components: [text$2(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig()\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$2(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = fireResolveName(editor, parent);\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = { height: calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor)) };\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$e(container), get$d(container));\n      each(dimensions, (val, dim) => {\n        if (isNumber(val)) {\n          set$8(container, dim, numToPx(val));\n        }\n      });\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      const resizeLabel = resizeType === ResizeTypes.Both ? 'Press the arrow keys to resize the editor.' : 'Press the Up and Down arrow keys to resize the editor.';\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: {\n          'aria-label': providersBackstage.translate(resizeLabel),\n          'data-mce-name': 'resize-handle'\n        },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate('Resize') }))\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$2(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': global$5.translate([\n                    'Powered by {0}',\n                    'Tiny'\n                  ])\n                },\n                innerHtml: Logo.trim()\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const renderHelpAccessibility = () => {\n        const shortcutText = convertText('Alt+0');\n        const text = `Press {0} for help`;\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__help-text']\n          },\n          components: [text$2(global$5.translate([\n              text,\n              shortcutText\n            ]))]\n        };\n      };\n      const renderRightContainer = () => {\n        const components = [];\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__right-container']\n          },\n          components\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        const shouldRenderHelp = useHelpAccessibility(editor);\n        const shouldRenderElementPath = useElementPath(editor);\n        const shouldRenderRightContainer = useBranding(editor) || editor.hasPlugin('wordcount');\n        const getTextComponentClasses = () => {\n          const flexStart = 'tox-statusbar__text-container--flex-start';\n          const flexEnd = 'tox-statusbar__text-container--flex-end';\n          const spaceAround = 'tox-statusbar__text-container--space-around';\n          if (shouldRenderHelp) {\n            const container3Columns = 'tox-statusbar__text-container-3-cols';\n            if (!shouldRenderRightContainer && !shouldRenderElementPath) {\n              return [\n                container3Columns,\n                spaceAround\n              ];\n            }\n            if (shouldRenderRightContainer && !shouldRenderElementPath) {\n              return [\n                container3Columns,\n                flexEnd\n              ];\n            }\n            return [\n              container3Columns,\n              flexStart\n            ];\n          }\n          return [shouldRenderRightContainer && !shouldRenderElementPath ? flexEnd : flexStart];\n        };\n        if (shouldRenderElementPath) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (shouldRenderHelp) {\n          components.push(renderHelpAccessibility());\n        }\n        if (shouldRenderRightContainer) {\n          components.push(renderRightContainer());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: [\n                  'tox-statusbar__text-container',\n                  ...getTextComponentClasses()\n                ]\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = (label, singleton) => singleton.get().getOrDie(`UI for ${ label } has not been rendered`);\n    const setup$3 = (editor, setupForTheme) => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazyUiRefs = LazyUiReferences();\n      const lazyMothership = value$4();\n      const lazyDialogMothership = value$4();\n      const lazyPopupMothership = value$4();\n      const platform = detect$1();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const memBottomAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bottom-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyUiRefs.mainUi.get().map(ui => ui.outerContainer).bind(OuterContainer.getHeader);\n      const lazyDialogSinkResult = () => Result.fromOption(lazyUiRefs.dialogUi.get().map(ui => ui.sink), 'UI has not been rendered');\n      const lazyPopupSinkResult = () => Result.fromOption(lazyUiRefs.popupUi.get().map(ui => ui.sink), '(popup) UI has not been rendered');\n      const lazyAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('anchor bar', memAnchorBar.getOpt);\n      const lazyBottomAnchorBar = lazyUiRefs.lazyGetInOuterOrDie('bottom anchor bar', memBottomAnchorBar.getOpt);\n      const lazyToolbar = lazyUiRefs.lazyGetInOuterOrDie('toolbar', OuterContainer.getToolbar);\n      const lazyThrobber = lazyUiRefs.lazyGetInOuterOrDie('throbber', OuterContainer.getThrobber);\n      const backstages = init$5({\n        popup: lazyPopupSinkResult,\n        dialog: lazyDialogSinkResult\n      }, editor, lazyAnchorBar, lazyBottomAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage: backstages.popup,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: backstages.popup.shared.getSink,\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          onToolbarToggled: state => {\n            fireToggleToolbarDrawer(editor, state);\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstages.popup.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const shouldHavePromotion = promotionEnabled(editor);\n        const partPromotion = makePromotion();\n        const hasAnyContents = hasMultipleToolbar || hasToolbar || hasMenubar;\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        const menubarCollection = shouldHavePromotion ? [\n          partPromotion,\n          partMenubar\n        ] : [partMenubar];\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'].concat(hasAnyContents ? [] : ['tox-editor-header--empty']),\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? menubarCollection : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstages.popup.shared\n        });\n      };\n      const makePromotion = () => {\n        return OuterContainer.parts.promotion({\n          dom: {\n            tag: 'div',\n            classes: ['tox-promotion']\n          }\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderDialogUi = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$f(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$5.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazyDialogMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderPopupUi = () => {\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-silver-popup-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$5.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({\n              useFixed: () => header.isDocked(lazyHeader),\n              getBounds: () => setupForTheme.getPopupSinkBounds()\n            })])\n        };\n        const sink = build$1(sinkSpec);\n        const uiMothership = takeover(sink);\n        lazyPopupMothership.set(uiMothership);\n        return {\n          sink,\n          mothership: uiMothership\n        };\n      };\n      const renderMainUi = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage: backstages.popup\n        });\n        const partViewWrapper = OuterContainer.parts.viewWrapper({ backstage: backstages.popup });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstages.popup.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = OuterContainer.parts.editorContainer({\n          components: flatten([\n            editorComponents,\n            isInline ? [] : [memBottomAnchorBar.asSpec()]\n          ])\n        });\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$5.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: [\n            editorContainer,\n            ...isInline ? [] : [\n              partViewWrapper,\n              ...statusbar.toArray()\n            ],\n            partThrobber\n          ],\n          behaviours: derive$1([\n            receivingConfig(),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue$1('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue$1('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', (_ui, options) => {\n          if (options === null || options === void 0 ? void 0 : options.skipFocus) {\n            OuterContainer.toggleToolbarDrawerWithoutFocusing(outerContainer);\n          } else {\n            OuterContainer.toggleToolbarDrawer(outerContainer);\n          }\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUIWithRefs = uiRefs => {\n        const {mainUi, popupUi, uiMotherships} = uiRefs;\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars, views} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars,\n          views\n        };\n        setupShortcutsAndCommands(mainUi.outerContainer);\n        setup$b(editor, mainUi.mothership, uiMotherships);\n        header.setup(editor, backstages.popup.shared, lazyHeader);\n        setup$6(editor, backstages.popup);\n        setup$5(editor, backstages.popup.shared.getSink, backstages.popup);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstages.popup.shared);\n        register$9(editor, contextToolbars, popupUi.sink, { backstage: backstages.popup });\n        setup$4(editor, popupUi.sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(mainUi.outerContainer);\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiRefs, rawUiConfig, backstages.popup, args);\n      };\n      const reuseDialogUiForPopuUi = dialogUi => {\n        lazyPopupMothership.set(dialogUi.mothership);\n        return dialogUi;\n      };\n      const renderUI = () => {\n        const mainUi = renderMainUi();\n        const dialogUi = renderDialogUi();\n        const popupUi = isSplitUiMode(editor) ? renderPopupUi() : reuseDialogUiForPopuUi(dialogUi);\n        lazyUiRefs.dialogUi.set(dialogUi);\n        lazyUiRefs.popupUi.set(popupUi);\n        lazyUiRefs.mainUi.set(mainUi);\n        const uiRefs = {\n          popupUi,\n          dialogUi,\n          mainUi,\n          uiMotherships: lazyUiRefs.getUiMotherships()\n        };\n        return renderUIWithRefs(uiRefs);\n      };\n      return {\n        popups: {\n          backstage: backstages.popup,\n          getMothership: () => getLazyMothership('popups', lazyPopupMothership)\n        },\n        dialogs: {\n          backstage: backstages.dialog,\n          getMothership: () => getLazyMothership('dialogs', lazyDialogMothership)\n        },\n        renderUI\n      };\n    };\n\n    const get = element => element.dom.textContent;\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('firstTabstop', 0),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$4();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Blocking.isBlocked(dialog) ? noop() : Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPart(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      const browser = detect$1();\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt,\n            firstTabstop: detail.firstTabstop\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              const titleElm = getPartOrDie(c, detail, 'title').element;\n              const title = get(titleElm);\n              if (browser.os.isMacOS() && isNonNullable(title)) {\n                set$9(c.element, 'aria-label', title);\n              } else {\n                labelledBy(c.element, titleElm);\n              }\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ])\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const toggleButtonSpecFields = [\n      ...baseFooterButtonFields,\n      requiredStringEnum('type', ['togglebutton']),\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      defaultedBoolean('active', false)\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields,\n      togglebutton: toggleButtonSpecFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([defaultedColumns('auto')]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields.concat([defaultedString('storageKey', 'default')]);\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      optionFunction('onFocus'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields;\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('border', false),\n      defaultedBoolean('sandboxed', true),\n      defaultedBoolean('streamContent', false),\n      defaultedBoolean('transparent', true)\n    ]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField,\n      defaultedStringEnum('align', 'start', [\n        'start',\n        'center',\n        'end'\n      ])\n    ];\n\n    const listBoxSingleItemFields = [\n      text,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const baseTreeItemFields = [\n      requiredStringEnum('type', [\n        'directory',\n        'leaf'\n      ]),\n      title,\n      requiredString('id'),\n      optionOf('menu', MenuButtonSchema)\n    ];\n    const treeItemLeafFields = baseTreeItemFields;\n    const treeItemLeafSchema = objOf(treeItemLeafFields);\n    const treeItemDirectoryFields = baseTreeItemFields.concat([requiredArrayOf('children', thunkOf('children', () => {\n        return choose$2('type', {\n          directory: treeItemDirectorySchema,\n          leaf: treeItemLeafSchema\n        });\n      }))]);\n    const treeItemDirectorySchema = objOf(treeItemDirectoryFields);\n    const treeItemSchema = choose$2('type', {\n      directory: treeItemDirectorySchema,\n      leaf: treeItemLeafSchema\n    });\n    const treeFields = [\n      type,\n      requiredArrayOf('items', treeItemSchema),\n      optionFunction('onLeafAction'),\n      optionFunction('onToggleExpand'),\n      defaultedArrayOf('defaultExpandedIds', [], string),\n      optionString('defaultSelectedId')\n    ];\n    const treeSchema = objOf(treeFields);\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled,\n      optionString('picker_text')\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      tree: treeSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      defaultedArrayOf('buttons', [], dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      var _a;\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = (_a = structure.initialData) !== null && _a !== void 0 ? _a : {};\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const events = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Reflecting = create$4({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          }),\n          config('dialog-body-panel', [run$1(focusin(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: Optional.some(se.event.target) });\n            })])\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$9(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$4(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$f(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$e(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$d(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$e(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$f(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$f(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$e(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const smartMode = allTabs => {\n      const maxTabHeight = value$4();\n      const extraEvents = [\n        runOnAttached(comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            set$8(tabview, 'visibility', 'hidden');\n            comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n              const heights = measureHeights(allTabs, tabview, tabviewComp);\n              const maxTabHeightOpt = getMaxHeight(heights);\n              maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n            });\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n            remove$6(tabview, 'visibility');\n            showTab(allTabs, comp);\n            requestAnimationFrame(() => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          });\n        }),\n        run$1(windowResize(), comp => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            updateTabviewHeight(dialog, tabview, maxTabHeight);\n          });\n        }),\n        run$1(formResizeEvent, (comp, _se) => {\n          const dialog = comp.element;\n          getTabview(dialog).each(tabview => {\n            const oldFocus = active$1(getRootNode(tabview));\n            set$8(tabview, 'visibility', 'hidden');\n            const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n            remove$6(tabview, 'height');\n            remove$6(tabview, 'flex-basis');\n            const newHeight = tabview.dom.getBoundingClientRect().height;\n            const hasGrown = oldHeight.forall(h => newHeight > h);\n            if (hasGrown) {\n              maxTabHeight.set(newHeight);\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            } else {\n              oldHeight.each(h => {\n                setTabviewHeight(tabview, h);\n              });\n            }\n            remove$6(tabview, 'visibility');\n            oldFocus.each(focus$3);\n          });\n        })\n      ];\n      const selectFirst = false;\n      return {\n        extraEvents,\n        selectFirst\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$2(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = smartMode(allTabs);\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs);\n    const renderModalBody = (spec, dialogId, backstage) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft(Optional.none(), {\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    const isTouch = global$6.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ sanitizeHtmlString(providersBackstage.translate(message)) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        firstTabstop: spec.firstTabstop,\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([\n            runOnSource(focusin(), (comp, _se) => {\n              Blocking.isBlocked(comp) ? noop() : Keying.focusIn(comp);\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: se.event.newFocus });\n            })\n          ])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$2(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'data-mce-name': 'close'\n        }\n      },\n      buttonBehaviours: derive$1([\n        Tabstopping.config({}),\n        Tooltipping.config(providersBackstage.tooltips.getConfig({ tooltipText: providersBackstage.translate('Close') }))\n      ]),\n      components: [render$3('close', {\n          tag: 'span',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$2(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'h1',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers, headerHeight) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: `${ headerHeight.getOr(0) }px`,\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        const headerHeight = descendant(lazyDialog().element, '.tox-dialog__header').map(header => get$e(header));\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers, headerHeight));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const fullscreenClass = 'tox-dialog--fullscreen';\n    const largeDialogClass = 'tox-dialog--width-lg';\n    const mediumDialogClass = 'tox-dialog--width-md';\n    const getDialogSizeClass = size => {\n      switch (size) {\n      case 'large':\n        return Optional.some(largeDialogClass);\n      case 'medium':\n        return Optional.some(mediumDialogClass);\n      default:\n        return Optional.none();\n      }\n    };\n    const updateDialogSizeClass = (size, component) => {\n      const dialogBody = SugarElement.fromDom(component.element.dom);\n      if (!has(dialogBody, fullscreenClass)) {\n        remove$1(dialogBody, [\n          largeDialogClass,\n          mediumDialogClass\n        ]);\n        getDialogSizeClass(size).each(dialogSizeClass => add$2(dialogBody, dialogSizeClass));\n      }\n    };\n    const toggleFullscreen = (comp, currentSize) => {\n      const dialogBody = SugarElement.fromDom(comp.element.dom);\n      const classes = get$9(dialogBody);\n      const currentSizeClass = find$5(classes, c => c === largeDialogClass || c === mediumDialogClass).or(getDialogSizeClass(currentSize));\n      toggle$3(dialogBody, [\n        fullscreenClass,\n        ...currentSizeClass.toArray()\n      ]);\n    };\n    const renderModalDialog = (spec, dialogEvents, backstage) => build$1(renderDialog$1({\n      ...spec,\n      firstTabstop: 1,\n      lazySink: backstage.shared.getSink,\n      extraBehaviours: [\n        memory({}),\n        ...spec.extraBehaviours\n      ],\n      onEscape: comp => {\n        emit(comp, formCancelEvent);\n      },\n      dialogEvents,\n      eventOrder: {\n        [receive()]: [\n          Reflecting.name(),\n          Receiving.name()\n        ],\n        [attachedToDom()]: [\n          'scroll-lock',\n          Reflecting.name(),\n          'messages',\n          'dialog-events',\n          'alloy.base.behaviour'\n        ],\n        [detachedFromDom()]: [\n          'alloy.base.behaviour',\n          'dialog-events',\n          'messages',\n          Reflecting.name(),\n          'scroll-lock'\n        ]\n      }\n    }));\n    const mapMenuButtons = (buttons, menuItemStates = {}) => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = get$h(menuItemStates, item.name).getOr(Cell(false));\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        return button.type === 'menu' ? mapItems(button) : button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec, _event, self) => {\n        active$1(getRootNode(self.element)).fold(noop, blur$1);\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => component.getSystem().isConnected() ? Keying.focusIn(component) : undefined;\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = footer.bind(f => Reflecting.getState(f).get());\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          const storedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons, menuItemStates);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], {\n            ...dialogInit.internalDialog,\n            buttons: storedMenuButtons\n          });\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close,\n        toggleFullscreen: access.toggleFullscreen\n      };\n      return instanceApi;\n    };\n\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const dialogSize = Cell(internalDialog.size);\n      const dialogSizeClasses = getDialogSizeClass(dialogSize.get()).toArray();\n      const updateState = (comp, incoming) => {\n        dialogSize.set(incoming.internalDialog.size);\n        updateDialogSizeClass(incoming.internalDialog.size, comp);\n        return Optional.some(incoming);\n      };\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage);\n      const storedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storedMenuButtons);\n      const footer = someIf(storedMenuButtons.length !== 0, renderModalFooter({ buttons: storedMenuButtons }, dialogId, backstage));\n      const dialogEvents = initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: dialogSizeClasses,\n        extraBehaviours: [Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          })],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        const toggleFullscreen$1 = () => {\n          toggleFullscreen(dialog, dialogSize.get());\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm,\n          toggleFullscreen: toggleFullscreen$1\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs = false, refreshDocking) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const dialogSize = Cell(internalDialog.size);\n      const dialogSizeClass = getDialogSizeClass(dialogSize.get()).toArray();\n      const updateState = (comp, incoming) => {\n        dialogSize.set(incoming.internalDialog.size);\n        updateDialogSizeClass(incoming.internalDialog.size, comp);\n        refreshDocking();\n        return Optional.some(incoming);\n      };\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const optMemFooter = someIf(storagedMenuButtons.length !== 0, record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage)));\n      const dialogEvents = initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => {\n            const headerHeight = memHeader.getOpt(dialog).map(dialog => get$e(dialog.element));\n            return getBusySpec(event.message, bs, backstage.shared.providers, headerHeight);\n          });\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const inlineClass = 'tox-dialog-inline';\n      const os = detect$1().os;\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            inlineClass,\n            ...dialogSizeClass\n          ],\n          attributes: {\n            role: 'dialog',\n            ...os.isMacOS() ? { 'aria-label': internalDialog.title } : { 'aria-labelledby': dialogLabelId }\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$g(elem, 'disabled') !== 'disabled'),\n            firstTabstop: 1\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([\n            runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              comp.getSystem().broadcastOn([dialogFocusShiftedChannel], { newFocus: se.event.newFocus });\n            })\n          ])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          ...optMemFooter.map(memFooter => memFooter.asSpec()).toArray()\n        ]\n      });\n      const toggleFullscreen$1 = () => {\n        toggleFullscreen(dialog, dialogSize.get());\n      };\n      const instanceApi = getDialogApi({\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => optMemFooter.map(memFooter => memFooter.get(dialog)),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        },\n        toggleFullscreen: toggleFullscreen$1\n      }, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const extraBehaviours = [\n        Reflecting.config({\n          channel: `${ dialogChannel }-${ dialogId }`,\n          updateState,\n          initialData: internalDialog\n        }),\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  if (isNonNullable(iframeWin)) {\n                    iframeWin.postMessage(data, iframeDomain);\n                  }\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = backstage => {\n      const sharedBackstage = backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', backstage));\n        const footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top'],\n            lazyViewport: comp => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n              return optScrollingContext.map(sc => {\n                const combinedBounds = getBoundsFrom(sc);\n                return {\n                  bounds: combinedBounds,\n                  optScrollEnv: Optional.some({\n                    currentScrollTop: sc.element.dom.scrollTop,\n                    scrollElmTop: absolute$3(sc.element).top\n                  })\n                };\n              }).getOrThunk(() => ({\n                bounds: win(),\n                optScrollEnv: Optional.none()\n              }));\n            }\n          })];\n      }\n    };\n    const setup = extras => {\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(extras.backstages.dialog);\n      const confirmDialog = setup$1(extras.backstages.dialog);\n      const open = (config, params, closeWindow) => {\n        if (!isUndefined(params)) {\n          if (params.inline === 'toolbar') {\n            return openInlineDialog(config, extras.backstages.popup.shared.anchors.inlineDialog(), closeWindow, params);\n          } else if (params.inline === 'bottom') {\n            return openBottomInlineDialog(config, extras.backstages.popup.shared.anchors.inlineBottomDialog(), closeWindow, params);\n          } else if (params.inline === 'cursor') {\n            return openInlineDialog(config, extras.backstages.popup.shared.anchors.cursor(), closeWindow, params);\n          }\n        }\n        return openModalDialog(config, closeWindow);\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, extras.backstages.dialog);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, windowParams) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$4();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n              Docking.refresh(dialog);\n            }\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, windowParams.ariaAttrs, refreshDocking);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: windowParams.persistent ? { event: 'doNotDismissYet' } : {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            const elem = editor.inline ? body() : SugarElement.fromDom(editor.getContainer());\n            const bounds = box$1(elem);\n            return Optional.some(bounds);\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const openBottomInlineDialog = (config$1, anchor, closeWindow, windowParams) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$4();\n          const isToolbarLocationTop = extras.backstages.popup.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor ScrollWindow ElementScroll', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, extras.backstages.popup, windowParams.ariaAttrs, refreshDocking);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: extras.backstages.popup.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: windowParams.persistent ? { event: 'doNotDismissYet' } : {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              Docking.config({\n                contextual: {\n                  lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n                  fadeInClass: 'tox-dialog-dock-fadein',\n                  fadeOutClass: 'tox-dialog-dock-fadeout',\n                  transitionClass: 'tox-dialog-dock-transition'\n                },\n                modes: [\n                  'top',\n                  'bottom'\n                ],\n                lazyViewport: comp => {\n                  const optScrollingContext = detectWhenSplitUiMode(editor, comp.element);\n                  return optScrollingContext.map(sc => {\n                    const combinedBounds = getBoundsFrom(sc);\n                    return {\n                      bounds: combinedBounds,\n                      optScrollEnv: Optional.some({\n                        currentScrollTop: sc.element.dom.scrollTop,\n                        scrollElmTop: absolute$3(sc.element).top\n                      })\n                    };\n                  }).getOrThunk(() => ({\n                    bounds: win(),\n                    optScrollEnv: Optional.none()\n                  }));\n                }\n              })\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          const getInlineDialogBounds = () => {\n            return extras.backstages.popup.shared.getSink().toOptional().bind(s => {\n              const optScrollingContext = detectWhenSplitUiMode(editor, s.element);\n              const margin = 15;\n              const bounds$1 = optScrollingContext.map(sc => getBoundsFrom(sc)).getOr(win());\n              const contentAreaContainer = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n              const constrainedBounds = constrain(contentAreaContainer, bounds$1);\n              return Optional.some(bounds(constrainedBounds.x, constrainedBounds.y, constrainedBounds.width, constrainedBounds.height - margin));\n            });\n          };\n          InlineView.showWithinBounds(inlineDialogComp, premade(dialogUi.dialog), { anchor }, getInlineDialogBounds);\n          Docking.refresh(inlineDialogComp);\n          editor.on('ResizeEditor ScrollWindow ElementScroll ResizeWindow', refreshDocking);\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, callback);\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, callback);\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$e(editor);\n      register$d(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        let popupSinkBounds = () => win();\n        const {\n          dialogs,\n          popups,\n          renderUI: renderModeUI\n        } = setup$3(editor, { getPopupSinkBounds: () => popupSinkBounds() });\n        const renderUI = () => {\n          const renderResult = renderModeUI();\n          const optScrollingContext = detectWhenSplitUiMode(editor, popups.getMothership().element);\n          optScrollingContext.each(sc => {\n            popupSinkBounds = () => {\n              return getBoundsFrom(sc);\n            };\n          });\n          return renderResult;\n        };\n        Autocompleter.register(editor, popups.backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstages: {\n            popup: popups.backstage,\n            dialog: dialogs.backstage\n          }\n        });\n        const notificationRegion = value$4();\n        const getNotificationManagerImpl = () => NotificationManagerImpl(editor, { backstage: popups.backstage }, popups.getMothership(), notificationRegion);\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl\n        };\n      });\n    };\n\n    Theme();\n\n})();\n","// Exports the \"dom\" model for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/models/dom')\n//   ES2015:\n//     import 'tinymce/models/dom'\nrequire('./model.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.ModelManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$2 = t => a => t === a;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isNull = eq$2(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$2(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$1 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map$1 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$2 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$2(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$1 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$2 = (xs, f) => flatten(map$1(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort$1 = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$d = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$d(xs, 0);\n    const last$2 = xs => get$d(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$c = (obj, key) => {\n      return has$1(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$1 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$1(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve$2 = (p, scope) => {\n      const parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve$2(name, scope);\n    };\n    const getOrDie = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve$2('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isHTMLElement = element => isElement(element) && isPrototypeOf(element.dom);\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, attrs) => {\n      each$1(attrs, (v, k) => {\n        v.fold(() => {\n          remove$7(element, k);\n        }, value => {\n          rawSet(element.dom, k, value);\n        });\n      });\n    };\n    const get$b = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$b(element, key));\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$1 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint: fromPoint$1\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$1(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq$1 = (e1, e2) => e1.dom === e2.dom;\n    const contains$1 = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is$1 = is$2;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$2 = element => map$1(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$5 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$1(parent, element);\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const wrap = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$4 = (marker, elements) => {\n      each$2(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$5(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$2(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$2(children$2(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$2(wrapper);\n      if (children.length > 0) {\n        after$4(wrapper, children);\n      }\n      remove$6(wrapper);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$2(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const copy$2 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      const cloneChildren = children$2(deep(original));\n      append(nu, cloneChildren);\n      return nu;\n    };\n    const mutate$1 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$5(original, nu);\n      const children = children$2(original);\n      append(nu, children);\n      remove$6(original);\n      return nu;\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains$2(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const address = (row, column) => ({\n      row,\n      column\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const detailnew = (element, rowspan, colspan, isNew) => ({\n      element,\n      rowspan,\n      colspan,\n      isNew\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const rowdetailnew = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const elementnew = (element, isNew, isLocked) => ({\n      element,\n      isNew,\n      isLocked\n    });\n    const rowcells = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported$1 = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body$1 = () => getBody$1(SugarElement.fromDom(document));\n    const getBody$1 = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const ancestors$4 = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n    const children$1 = (scope, predicate) => filter$2(children$2(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$2(children$2(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const ancestors$3 = (scope, selector, isRoot) => ancestors$4(scope, e => is$2(e, selector), isRoot);\n    const children = (scope, selector) => children$1(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$2 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$2, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$1(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, e => is$2(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const bindFrom = (a, f) => a !== undefined && a !== null ? f(a) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const contains = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$1(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$a = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$2 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$5 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const copy$1 = (source, target) => {\n      const sourceDom = source.dom;\n      const targetDom = target.dom;\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n    const getSpan = (cell, type) => getAttrValue(cell, type, 1);\n    const hasColspan = cellOrCol => {\n      if (isTag('col')(cellOrCol)) {\n        return getAttrValue(cellOrCol, 'span', 1) > 1;\n      } else {\n        return getSpan(cellOrCol, 'colspan') > 1;\n      }\n    };\n    const hasRowspan = cell => getSpan(cell, 'rowspan') > 1;\n    const getCssValue = (element, property) => parseInt(get$a(element, property), 10);\n    const minWidth = constant(10);\n    const minHeight = constant(10);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$2(children$2(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells$1 = ancestor => firstLayer(ancestor, 'th,td');\n    const columns$1 = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children(ancestor, 'col');\n      } else {\n        return bind$2(columnGroups(ancestor), columnGroup => children(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows$1 = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map$1(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map$1(columns$1(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells = map$1(cells$1(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows = rows$1(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n    const fromPastedRows = (elems, section) => fromRowsOrColGroups(elems, () => section);\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$2(0, 0);\n    };\n    const nu$2 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$2,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$1(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$a(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$a(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$a(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getHeight$1 = element => getProp(element, 'height', element.dom.offsetHeight);\n    const getWidth = element => getProp(element, 'width', element.dom.offsetWidth);\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const api$2 = Dimension('width', element => element.dom.offsetWidth);\n    const get$9 = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const getInner = getInnerWidth;\n    const getRuntime$1 = getWidth;\n\n    const addCells = (gridRow, index, cells) => {\n      const existingCells = gridRow.cells;\n      const before = existingCells.slice(0, index);\n      const after = existingCells.slice(index);\n      const newCells = before.concat(cells).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    const addCell = (gridRow, index, cell) => addCells(gridRow, index, [cell]);\n    const mutateCell = (gridRow, index, cell) => {\n      const cells = gridRow.cells;\n      cells[index] = cell;\n    };\n    const setCells = (gridRow, cells) => rowcells(gridRow.element, cells, gridRow.section, gridRow.isNew);\n    const mapCells = (gridRow, f) => {\n      const cells = gridRow.cells;\n      const r = map$1(cells, f);\n      return rowcells(gridRow.element, r, gridRow.section, gridRow.isNew);\n    };\n    const getCell = (gridRow, index) => gridRow.cells[index];\n    const getCellElement = (gridRow, index) => getCell(gridRow, index).element;\n    const cellLength = gridRow => gridRow.cells.length;\n    const extractGridDetails = grid => {\n      const result = partition(grid, row => row.section === 'colgroup');\n      return {\n        rows: result.fail,\n        cols: result.pass\n      };\n    };\n    const clone = (gridRow, cloneRow, cloneCell) => {\n      const newCells = map$1(gridRow.cells, cloneCell);\n      return rowcells(cloneRow(gridRow.element), newCells, gridRow.section, true);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n    const getLockedColumnsFromGrid = grid => {\n      const locked = foldl(extractGridDetails(grid).rows, (acc, row) => {\n        each$2(row.cells, (cell, idx) => {\n          if (cell.isLocked) {\n            acc[idx] = true;\n          }\n        });\n        return acc;\n      }, {});\n      const lockedArr = mapToArray(locked, (_val, key) => parseInt(key, 10));\n      return sort$1(lockedArr);\n    };\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind$2(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter$2(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each$2(rowData.cells, column => {\n        const colspan = column.colspan;\n        range$1(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each$2(rows, rowData => {\n        const currentRow = [];\n        each$2(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last$2(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind$2(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    const columns = (warehouse, isValidCell = always) => {\n      const grid = warehouse.grid;\n      const cols = range$1(grid.columns, identity);\n      const rowsArr = range$1(grid.rows, identity);\n      return map$1(cols, col => {\n        const getBlock = () => bind$2(rowsArr, r => Warehouse.getAt(warehouse, r, col).filter(detail => detail.column === col).toArray());\n        const isValid = detail => detail.colspan === 1 && isValidCell(detail.element);\n        const getFallback = () => Warehouse.getAt(warehouse, 0, col);\n        return decide(getBlock, isValid, getFallback);\n      });\n    };\n    const decide = (getBlock, isValid, getFallback) => {\n      const inBlock = getBlock();\n      const validInBlock = find$1(inBlock, isValid);\n      const detailOption = validInBlock.orThunk(() => Optional.from(inBlock[0]).orThunk(getFallback));\n      return detailOption.map(detail => detail.element);\n    };\n    const rows = warehouse => {\n      const grid = warehouse.grid;\n      const rowsArr = range$1(grid.rows, identity);\n      const cols = range$1(grid.columns, identity);\n      return map$1(rowsArr, row => {\n        const getBlock = () => bind$2(cols, c => Warehouse.getAt(warehouse, row, c).filter(detail => detail.row === row).fold(constant([]), detail => [detail]));\n        const isSingle = detail => detail.rowspan === 1;\n        const getFallback = () => Warehouse.getAt(warehouse, row, 0);\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n\n    const deduce = (xs, index) => {\n      if (index < 0 || index >= xs.length - 1) {\n        return Optional.none();\n      }\n      const current = xs[index].fold(() => {\n        const rest = reverse(xs.slice(0, index));\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, c => Optional.some({\n        value: c,\n        delta: 0\n      }));\n      const next = xs[index + 1].fold(() => {\n        const rest = xs.slice(index + 1);\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, n => Optional.some({\n        value: n,\n        delta: 1\n      }));\n      return current.bind(c => next.map(n => {\n        const extras = n.delta + c.delta;\n        return Math.abs(n.value - c.value) / extras;\n      }));\n    };\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$a(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    const api$1 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$8 = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const getRuntime = getHeight$1;\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const rowInfo = (row, y) => ({\n      row,\n      y\n    });\n    const colInfo = (col, x) => ({\n      col,\n      x\n    });\n    const rtlEdge = cell => {\n      const pos = absolute(cell);\n      return pos.left + getOuter$2(cell);\n    };\n    const ltrEdge = cell => {\n      return absolute(cell).left;\n    };\n    const getLeftEdge = (index, cell) => {\n      return colInfo(index, ltrEdge(cell));\n    };\n    const getRightEdge = (index, cell) => {\n      return colInfo(index, rtlEdge(cell));\n    };\n    const getTop$1 = cell => {\n      return absolute(cell).top;\n    };\n    const getTopEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell));\n    };\n    const getBottomEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell) + getOuter$1(cell));\n    };\n    const findPositions = (getInnerEdge, getOuterEdge, array) => {\n      if (array.length === 0) {\n        return [];\n      }\n      const lines = map$1(array.slice(1), (cellOption, index) => {\n        return cellOption.map(cell => {\n          return getInnerEdge(index, cell);\n        });\n      });\n      const lastLine = array[array.length - 1].map(cell => {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    const negate = step => {\n      return -step;\n    };\n    const height = {\n      delta: identity,\n      positions: optElements => findPositions(getTopEdge, getBottomEdge, optElements),\n      edge: getTop$1\n    };\n    const ltr$1 = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: optElements => findPositions(getLeftEdge, getRightEdge, optElements)\n    };\n    const rtl$1 = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: optElements => findPositions(getRightEdge, getLeftEdge, optElements)\n    };\n    const detect$1 = onDirection(ltr$1, rtl$1);\n    const width = {\n      delta: (amount, table) => detect$1(table).delta(amount, table),\n      positions: (cols, table) => detect$1(table).positions(cols, table),\n      edge: cell => detect$1(cell).edge(cell)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n\n    const rPercentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    const rPixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    const isCol$2 = isTag('col');\n    const isRow$2 = isTag('tr');\n    const getPercentSize = (elm, outerGetter, innerGetter) => {\n      const relativeParent = parentElement(elm).getOrThunk(() => getBody$1(owner(elm)));\n      return outerGetter(elm) / innerGetter(relativeParent) * 100;\n    };\n    const setPixelWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + 'px');\n    };\n    const setPercentageWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + '%');\n    };\n    const setHeight = (cell, amount) => {\n      set$1(cell, 'height', amount + 'px');\n    };\n    const removeHeight = cell => {\n      remove$5(cell, 'height');\n    };\n    const getHeightValue = cell => getRuntime(cell) + 'px';\n    const convert = (cell, number, getter, setter) => {\n      const newSize = table(cell).map(table => {\n        const total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    const normalizePixelSize = (value, cell, getter, setter) => {\n      const number = parseFloat(value);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    const getTotalHeight = cell => {\n      const value = getHeightValue(cell);\n      if (!value) {\n        return get$8(cell);\n      }\n      return normalizePixelSize(value, cell, get$8, setHeight);\n    };\n    const get$7 = (cell, type, f) => {\n      const v = f(cell);\n      const span = getSpan(cell, type);\n      return v / span;\n    };\n    const getRaw$1 = (element, prop) => {\n      return getRaw$2(element, prop).orThunk(() => {\n        return getOpt(element, prop).map(val => val + 'px');\n      });\n    };\n    const getRawWidth$1 = element => getRaw$1(element, 'width');\n    const getRawHeight$1 = element => getRaw$1(element, 'height');\n    const getPercentageWidth = cell => getPercentSize(cell, get$9, getInner);\n    const getPixelWidth$1 = cell => isCol$2(cell) ? get$9(cell) : getRuntime$1(cell);\n    const getHeight = cell => {\n      return isRow$2(cell) ? get$8(cell) : get$7(cell, 'rowspan', getTotalHeight);\n    };\n    const getGenericWidth = cell => {\n      const width = getRawWidth$1(cell);\n      return width.bind(w => parse(w, [\n        'fixed',\n        'relative',\n        'empty'\n      ]));\n    };\n    const setGenericWidth = (cell, amount, unit) => {\n      set$1(cell, 'width', amount + unit);\n    };\n    const getPixelTableWidth = table => get$9(table) + 'px';\n    const getPixelTableHeight = table => get$8(table) + 'px';\n    const getPercentTableWidth = table => getPercentSize(table, get$9, getInner) + '%';\n    const isPercentSizing$1 = table => getRawWidth$1(table).exists(size => rPercentageBasedSizeRegex.test(size));\n    const isPixelSizing$1 = table => getRawWidth$1(table).exists(size => rPixelBasedSizeRegex.test(size));\n    const isNoneSizing$1 = table => getRawWidth$1(table).isNone();\n    const percentageBasedSizeRegex = constant(rPercentageBasedSizeRegex);\n\n    const isCol$1 = isTag('col');\n    const getRawW = cell => {\n      return getRawWidth$1(cell).getOrThunk(() => getPixelWidth$1(cell) + 'px');\n    };\n    const getRawH = cell => {\n      return getRawHeight$1(cell).getOrThunk(() => getHeight(cell) + 'px');\n    };\n    const justCols = warehouse => map$1(Warehouse.justColumns(warehouse), column => Optional.from(column.element));\n    const isValidColumn = cell => {\n      const browser = detect$2().browser;\n      const supportsColWidths = browser.isChromium() || browser.isFirefox();\n      return isCol$1(cell) ? supportsColWidths : true;\n    };\n    const getDimension = (cellOpt, index, backups, filter, getter, fallback) => cellOpt.filter(filter).fold(() => fallback(deduce(backups, index)), cell => getter(cell));\n    const getWidthFrom = (warehouse, table, getWidth, fallback) => {\n      const columnCells = columns(warehouse);\n      const columns$1 = Warehouse.hasColumns(warehouse) ? justCols(warehouse) : columnCells;\n      const backups = [Optional.some(width.edge(table))].concat(map$1(width.positions(columnCells, table), pos => pos.map(p => p.x)));\n      const colFilter = not(hasColspan);\n      return map$1(columns$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, colFilter, column => {\n          if (isValidColumn(column)) {\n            return getWidth(column);\n          } else {\n            const cell = bindFrom(columnCells[c], identity);\n            return getDimension(cell, c, backups, colFilter, cell => fallback(Optional.some(get$9(cell))), fallback);\n          }\n        }, fallback);\n      });\n    };\n    const getDeduced = deduced => {\n      return deduced.map(d => {\n        return d + 'px';\n      }).getOr('');\n    };\n    const getRawWidths = (warehouse, table) => {\n      return getWidthFrom(warehouse, table, getRawW, getDeduced);\n    };\n    const getPercentageWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPercentageWidth, deduced => {\n        return deduced.fold(() => {\n          return tableSize.minCellWidth();\n        }, cellWidth => {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      });\n    };\n    const getPixelWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPixelWidth$1, deduced => {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      });\n    };\n    const getHeightFrom = (warehouse, table, getHeight, fallback) => {\n      const rowCells = rows(warehouse);\n      const rows$1 = map$1(warehouse.all, r => Optional.some(r.element));\n      const backups = [Optional.some(height.edge(table))].concat(map$1(height.positions(rowCells, table), pos => pos.map(p => p.y)));\n      return map$1(rows$1, (row, i) => getDimension(row, i, backups, always, getHeight, fallback));\n    };\n    const getPixelHeights = (warehouse, table) => {\n      return getHeightFrom(warehouse, table, getHeight, deduced => {\n        return deduced.getOrThunk(minHeight);\n      });\n    };\n    const getRawHeights = (warehouse, table) => {\n      return getHeightFrom(warehouse, table, getRawH, getDeduced);\n    };\n\n    const widthLookup = (table, getter) => () => {\n      if (inBody(table)) {\n        return getter(table);\n      } else {\n        return parseFloat(getRaw$2(table, 'width').getOr('0'));\n      }\n    };\n    const noneSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const zero = constant(0);\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta: zero,\n        singleColumnWidth: constant([0]),\n        minCellWidth: zero,\n        setElementWidth: noop,\n        adjustTableWidth: noop,\n        isRelative: true,\n        label: 'none'\n      };\n    };\n    const percentageSize = table => {\n      const getFloatWidth = widthLookup(table, elem => parseFloat(getPercentTableWidth(elem)));\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = delta => delta / getWidth() * 100;\n      const singleColumnWidth = (w, _delta) => [100 - w];\n      const minCellWidth = () => minWidth() / getWidth() * 100;\n      const adjustTableWidth = delta => {\n        const currentWidth = getFloatWidth();\n        const change = delta / 100 * currentWidth;\n        const newWidth = currentWidth + change;\n        setPercentageWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPercentageWidths(warehouse, table, tableSize);\n      return {\n        width: getFloatWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth,\n        setElementWidth: setPercentageWidth,\n        adjustTableWidth,\n        isRelative: true,\n        label: 'percent'\n      };\n    };\n    const pixelSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = identity;\n      const singleColumnWidth = (w, delta) => {\n        const newNext = Math.max(minWidth(), w + delta);\n        return [newNext - w];\n      };\n      const adjustTableWidth = delta => {\n        const newWidth = getWidth() + delta;\n        setPixelWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth: minWidth,\n        setElementWidth: setPixelWidth,\n        adjustTableWidth,\n        isRelative: false,\n        label: 'pixel'\n      };\n    };\n    const chooseSize = (element, width) => {\n      const percentMatch = percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(element);\n      } else {\n        return pixelSize(element);\n      }\n    };\n    const getTableSize = table => {\n      const width = getRawWidth$1(table);\n      return width.fold(() => noneSize(table), w => chooseSize(table, w));\n    };\n    const TableSize = {\n      getTableSize,\n      pixelSize,\n      percentageSize,\n      noneSize\n    };\n\n    const statsStruct = (minRow, minCol, maxRow, maxCol, allCells, selectedCells) => ({\n      minRow,\n      minCol,\n      maxRow,\n      maxCol,\n      allCells,\n      selectedCells\n    });\n    const findSelectedStats = (house, isSelected) => {\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      let minRow = totalRows;\n      let minCol = totalColumns;\n      let maxRow = 0;\n      let maxCol = 0;\n      const allCells = [];\n      const selectedCells = [];\n      each$1(house.access, detail => {\n        allCells.push(detail);\n        if (isSelected(detail)) {\n          selectedCells.push(detail);\n          const startRow = detail.row;\n          const endRow = startRow + detail.rowspan - 1;\n          const startCol = detail.column;\n          const endCol = startCol + detail.colspan - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol, allCells, selectedCells);\n    };\n    const makeCell = (list, seenSelected, rowIndex) => {\n      const row = list[rowIndex].element;\n      const td = SugarElement.fromTag('td');\n      append$1(td, SugarElement.fromTag('br'));\n      const f = seenSelected ? append$1 : prepend;\n      f(row, td);\n    };\n    const fillInGaps = (list, house, stats, isSelected) => {\n      const rows = filter$2(list, row => row.section !== 'colgroup');\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      for (let i = 0; i < totalRows; i++) {\n        let seenSelected = false;\n        for (let j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow || i > stats.maxRow || j < stats.minCol || j > stats.maxCol)) {\n            const needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(rows, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    const clean = (replica, stats, house, widthDelta) => {\n      each$1(house.columns, col => {\n        if (col.column < stats.minCol || col.column > stats.maxCol) {\n          remove$6(col.element);\n        }\n      });\n      const emptyRows = filter$2(firstLayer(replica, 'tr'), row => row.dom.childElementCount === 0);\n      each$2(emptyRows, remove$6);\n      if (stats.minCol === stats.maxCol || stats.minRow === stats.maxRow) {\n        each$2(firstLayer(replica, 'th,td'), cell => {\n          remove$7(cell, 'rowspan');\n          remove$7(cell, 'colspan');\n        });\n      }\n      remove$7(replica, LOCKED_COL_ATTR);\n      remove$7(replica, 'data-snooker-col-series');\n      const tableSize = TableSize.getTableSize(replica);\n      tableSize.adjustTableWidth(widthDelta);\n    };\n    const getTableWidthDelta = (table, warehouse, tableSize, stats) => {\n      if (stats.minCol === 0 && warehouse.grid.columns === stats.maxCol + 1) {\n        return 0;\n      }\n      const colWidths = getPixelWidths(warehouse, table, tableSize);\n      const allColsWidth = foldl(colWidths, (acc, width) => acc + width, 0);\n      const selectedColsWidth = foldl(colWidths.slice(stats.minCol, stats.maxCol + 1), (acc, width) => acc + width, 0);\n      const newWidth = selectedColsWidth / allColsWidth * tableSize.pixelWidth();\n      const delta = newWidth - tableSize.pixelWidth();\n      return tableSize.getCellDelta(delta);\n    };\n    const extract$1 = (table, selectedSelector) => {\n      const isSelected = detail => is$2(detail.element, selectedSelector);\n      const replica = deep(table);\n      const list = fromTable$1(replica);\n      const tableSize = TableSize.getTableSize(table);\n      const replicaHouse = Warehouse.generate(list);\n      const replicaStats = findSelectedStats(replicaHouse, isSelected);\n      const selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      const unselectedCells = filterFirstLayer(replica, 'th,td', cell => is$2(cell, selector));\n      each$2(unselectedCells, remove$6);\n      fillInGaps(list, replicaHouse, replicaStats, isSelected);\n      const house = Warehouse.fromTable(table);\n      const widthDelta = getTableWidthDelta(table, house, tableSize, replicaStats);\n      clean(replica, replicaStats, replicaHouse, widthDelta);\n      return replica;\n    };\n\n    const nbsp = '\\xA0';\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$6 = element => api.get(element);\n    const getOption = element => api.getOption(element);\n    const set = (element, value) => api.set(element, value);\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$2(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const isContentEditableFalse = elem => isHTMLElement(elem) && get$b(elem, 'contenteditable') === 'false';\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem)) || isContentEditableFalse(elem);\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last$1 = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$2(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const transferableAttributes = {\n      scope: [\n        'row',\n        'col'\n      ]\n    };\n    const createCell = doc => () => {\n      const td = SugarElement.fromTag('td', doc.dom);\n      append$1(td, SugarElement.fromTag('br', doc.dom));\n      return td;\n    };\n    const createCol = doc => () => {\n      return SugarElement.fromTag('col', doc.dom);\n    };\n    const createColgroup = doc => () => {\n      return SugarElement.fromTag('colgroup', doc.dom);\n    };\n    const createRow$1 = doc => () => {\n      return SugarElement.fromTag('tr', doc.dom);\n    };\n    const replace$1 = (cell, tag, attrs) => {\n      const replica = copy$2(cell, tag);\n      each$1(attrs, (v, k) => {\n        if (v === null) {\n          remove$7(replica, k);\n        } else {\n          set$2(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    const pasteReplace = cell => {\n      return cell;\n    };\n    const cloneFormats = (oldCell, newCell, formats) => {\n      const first$1 = first(oldCell);\n      return first$1.map(firstText => {\n        const formatSelector = formats.join(',');\n        const parents = ancestors$3(firstText, formatSelector, element => {\n          return eq$1(element, oldCell);\n        });\n        return foldr(parents, (last, parent) => {\n          const clonedFormat = shallow(parent);\n          append$1(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    const cloneAppropriateAttributes = (original, clone) => {\n      each$1(transferableAttributes, (validAttributes, attributeName) => getOpt(original, attributeName).filter(attribute => contains$2(validAttributes, attribute)).each(attribute => set$2(clone, attributeName, attribute)));\n    };\n    const cellOperations = (mutate, doc, formatsToClone) => {\n      const cloneCss = (prev, clone) => {\n        copy$1(prev.element, clone);\n        remove$5(clone, 'height');\n        if (prev.colspan !== 1) {\n          remove$5(clone, 'width');\n        }\n      };\n      const newCell = prev => {\n        const td = SugarElement.fromTag(name(prev.element), doc.dom);\n        const formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        const lastNode = formats.length > 0 ? cloneFormats(prev.element, td, formats) : td;\n        append$1(lastNode, SugarElement.fromTag('br'));\n        cloneCss(prev, td);\n        cloneAppropriateAttributes(prev.element, td);\n        mutate(prev.element, td);\n        return td;\n      };\n      const newCol = prev => {\n        const col = SugarElement.fromTag(name(prev.element), doc.dom);\n        cloneCss(prev, col);\n        mutate(prev.element, col);\n        return col;\n      };\n      return {\n        col: newCol,\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: newCell,\n        replace: replace$1,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n    const paste$1 = doc => {\n      return {\n        col: createCol(doc),\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: createCell(doc),\n        replace: pasteReplace,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$2(SugarElement.fromDom(div));\n    };\n    const fromDom = nodes => map$1(nodes, SugarElement.fromDom);\n\n    const option = name => editor => editor.options.get(name);\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultTableStyles = (editor, defaultStyles) => {\n      if (isTableResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultTableAttributes = (editor, defaultAttributes) => {\n      if (isTableResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isTablePixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_clone_elements', { processor: 'string[]' });\n      registerOption('table_use_colgroups', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_header_type', {\n        processor: value => {\n          const valid = contains$2([\n            'section',\n            'cells',\n            'sectionCells',\n            'auto'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: section, cells, sectionCells or auto.'\n          };\n        },\n        default: 'section'\n      });\n      registerOption('table_sizing_mode', {\n        processor: 'string',\n        default: 'auto'\n      });\n      registerOption('table_default_attributes', {\n        processor: 'object',\n        default: { border: '1' }\n      });\n      registerOption('table_default_styles', {\n        processor: 'object',\n        default: { 'border-collapse': 'collapse' }\n      });\n      registerOption('table_column_resizing', {\n        processor: value => {\n          const valid = contains$2([\n            'preservetable',\n            'resizetable'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be preservetable, or resizetable.'\n          };\n        },\n        default: 'preservetable'\n      });\n      registerOption('table_resize_bars', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_style_by_css', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_merge_content_on_paste', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getTableCloneElements = editor => {\n      return Optional.from(editor.options.get('table_clone_elements'));\n    };\n    const hasTableObjectResizing = editor => {\n      const objectResizing = editor.options.get('object_resizing');\n      return contains$2(objectResizing.split(','), 'table');\n    };\n    const getTableHeaderType = option('table_header_type');\n    const getTableColumnResizingBehaviour = option('table_column_resizing');\n    const isPreserveTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'preservetable';\n    const isResizeTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'resizetable';\n    const getTableSizingMode = option('table_sizing_mode');\n    const isTablePercentagesForced = editor => getTableSizingMode(editor) === 'relative';\n    const isTablePixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isTableResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const hasTableResizeBars = option('table_resize_bars');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const shouldMergeContentOnPaste = option('table_merge_content_on_paste');\n    const getTableDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultTableAttributes(editor, defaultAttributes);\n    };\n    const getTableDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultTableStyles(editor, defaultStyles);\n    };\n    const tableUseColumnGroup = option('table_use_colgroups');\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable$1 = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq$1(element, getBody(editor));\n    const removeDataStyle = table => {\n      remove$7(table, 'data-mce-style');\n      const removeStyleAttribute = element => remove$7(element, 'data-mce-style');\n      each$2(cells$1(table), removeStyleAttribute);\n      each$2(columns$1(table), removeStyleAttribute);\n      each$2(rows$1(table), removeStyleAttribute);\n    };\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getPixelWidth = elm => elm.getBoundingClientRect().width;\n    const getPixelHeight = elm => elm.getBoundingClientRect().height;\n    const getRawValue = prop => (editor, elm) => {\n      const raw = editor.dom.getStyle(elm, prop) || editor.dom.getAttrib(elm, prop);\n      return Optional.from(raw).filter(isNotEmpty);\n    };\n    const getRawWidth = getRawValue('width');\n    const getRawHeight = getRawValue('height');\n    const isPercentage$1 = value => /^(\\d+(\\.\\d+)?)%$/.test(value);\n    const isPixel = value => /^(\\d+(\\.\\d+)?)px$/.test(value);\n    const isInEditableContext$1 = cell => closest$2(cell, isTag('table')).exists(isEditable$1);\n\n    const inSelection = (bounds, detail) => {\n      const leftEdge = detail.column;\n      const rightEdge = detail.column + detail.colspan - 1;\n      const topEdge = detail.row;\n      const bottomEdge = detail.row + detail.rowspan - 1;\n      return leftEdge <= bounds.finishCol && rightEdge >= bounds.startCol && (topEdge <= bounds.finishRow && bottomEdge >= bounds.startRow);\n    };\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq$1);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq$1);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const moveBy$1 = (warehouse, cell, row, column) => {\n      return Warehouse.findItem(warehouse, cell, eq$1).bind(detail => {\n        const startRow = row > 0 ? detail.row + detail.rowspan - 1 : detail.row;\n        const startCol = column > 0 ? detail.column + detail.colspan - 1 : detail.column;\n        const dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(d => {\n          return d.element;\n        });\n      });\n    };\n    const intercepts$1 = (warehouse, start, finish) => {\n      return getAnyBox(warehouse, start, finish).map(bounds => {\n        const inside = Warehouse.filterItems(warehouse, curry(inSelection, bounds));\n        return map$1(inside, detail => {\n          return detail.element;\n        });\n      });\n    };\n    const parentCell = (warehouse, innerCell) => {\n      const isContainedBy = (c1, c2) => {\n        return contains$1(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(detail => {\n        return detail.element;\n      });\n    };\n\n    const moveBy = (cell, deltaRow, deltaColumn) => {\n      return table(cell).bind(table => {\n        const warehouse = getWarehouse(table);\n        return moveBy$1(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    const intercepts = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return intercepts$1(warehouse, first, last);\n    };\n    const nestedIntercepts = (table, first, firstTable, last, lastTable) => {\n      const warehouse = getWarehouse(table);\n      const optStartCell = eq$1(table, firstTable) ? Optional.some(first) : parentCell(warehouse, first);\n      const optLastCell = eq$1(table, lastTable) ? Optional.some(last) : parentCell(warehouse, last);\n      return optStartCell.bind(startCell => optLastCell.bind(lastCell => intercepts$1(warehouse, startCell, lastCell)));\n    };\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains$2(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains$2([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$b(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone$2(source);\n        setAll$1(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains$2([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor$2,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$a,\n          getRaw: getRaw$2,\n          set: set$1,\n          remove: remove$5\n        }),\n        attrs: constant({\n          get: get$b,\n          set: set$2,\n          remove: remove$7,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before$3,\n          after: after$5,\n          afterAll: after$4,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$6\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$2,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get$6,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq$1,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const eq = (universe, item) => {\n      return curry(universe.eq, item);\n    };\n    const ancestors$2 = (universe, start, end, isRoot = never) => {\n      const ps1 = [start].concat(universe.up().all(start));\n      const ps2 = [end].concat(universe.up().all(end));\n      const prune = path => {\n        const index = findIndex(path, isRoot);\n        return index.fold(() => {\n          return path;\n        }, ind => {\n          return path.slice(0, ind + 1);\n        });\n      };\n      const pruned1 = prune(ps1);\n      const pruned2 = prune(ps2);\n      const shared = find$1(pruned1, x => {\n        return exists(pruned2, eq(universe, x));\n      });\n      return {\n        firstpath: pruned1,\n        secondpath: pruned2,\n        shared\n      };\n    };\n\n    const sharedOne$1 = oneAll;\n    const ancestors$1 = ancestors$2;\n\n    const universe$3 = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe$3, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n    const ancestors = (start, finish, isRoot) => {\n      return ancestors$1(universe$3, start, finish, isRoot);\n    };\n\n    const lookupTable = container => {\n      return ancestor$1(container, 'table');\n    };\n    const identify = (start, finish, isRoot) => {\n      const getIsRoot = rootTable => {\n        return element => {\n          return isRoot !== undefined && isRoot(element) || eq$1(element, rootTable);\n        };\n      };\n      if (eq$1(start, finish)) {\n        return Optional.some({\n          boxes: Optional.some([start]),\n          start,\n          finish\n        });\n      } else {\n        return lookupTable(start).bind(startTable => {\n          return lookupTable(finish).bind(finishTable => {\n            if (eq$1(startTable, finishTable)) {\n              return Optional.some({\n                boxes: intercepts(startTable, start, finish),\n                start,\n                finish\n              });\n            } else if (contains$1(startTable, finishTable)) {\n              const ancestorCells = ancestors$3(finish, 'td,th', getIsRoot(startTable));\n              const finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Optional.some({\n                boxes: nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start,\n                finish: finishCell\n              });\n            } else if (contains$1(finishTable, startTable)) {\n              const ancestorCells = ancestors$3(start, 'td,th', getIsRoot(finishTable));\n              const startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Optional.some({\n                boxes: nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start,\n                finish: startCell\n              });\n            } else {\n              return ancestors(start, finish).shared.bind(lca => {\n                return closest$1(lca, 'table', isRoot).bind(lcaTable => {\n                  const finishAncestorCells = ancestors$3(finish, 'td,th', getIsRoot(lcaTable));\n                  const finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  const startAncestorCells = ancestors$3(start, 'td,th', getIsRoot(lcaTable));\n                  const startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Optional.some({\n                    boxes: nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  });\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getLast = (boxes, lastSelectedSelector) => {\n      return find$1(boxes, box => {\n        return is$2(box, lastSelectedSelector);\n      });\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n    const expandTo = (finish, firstSelectedSelector) => {\n      return ancestor$1(finish, 'table').bind(table => {\n        return descendant(table, firstSelectedSelector).bind(start => {\n          return identify(start, finish).bind(identified => {\n            return identified.boxes.map(boxes => {\n              return {\n                boxes,\n                start: identified.start,\n                finish: identified.finish\n              };\n            });\n          });\n        });\n      });\n    };\n    const shiftSelection = (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) => {\n      return getLast(boxes, lastSelectedSelector).bind(last => {\n        return moveBy(last, deltaRow, deltaColumn).bind(finish => {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq$1(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor$1(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor$1(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq$1(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strAttributeSelector = '[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const attributeSelector = strAttributeSelector;\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n    const paste = (element, clipboard, generators) => ({\n      element,\n      clipboard,\n      generators\n    });\n    const pasteRows = (selectedCells, _cell, clipboard, generators) => ({\n      selection: selection(selectedCells),\n      clipboard,\n      generators\n    });\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getCellsFromFakeSelection = editor => filter$2(getCellsFromSelection(editor), cell => is$2(cell, ephemera.selectedSelector));\n\n    const extractSelected = cells => {\n      return table(cells[0]).map(table => {\n        const replica = extract$1(table, attributeSelector);\n        removeDataStyle(replica);\n        return [replica];\n      });\n    };\n    const serializeElements = (editor, elements) => map$1(elements, elm => editor.selection.serializer.serialize(elm.dom, {})).join('');\n    const getTextContent = elements => map$1(elements, element => element.dom.innerText).join('');\n    const registerEvents = (editor, actions) => {\n      editor.on('BeforeGetContent', e => {\n        const multiCellContext = cells => {\n          e.preventDefault();\n          extractSelected(cells).each(elements => {\n            e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);\n          });\n        };\n        if (e.selection === true) {\n          const cells = getCellsFromFakeSelection(editor);\n          if (cells.length >= 1) {\n            multiCellContext(cells);\n          }\n        }\n      });\n      editor.on('BeforeSetContent', e => {\n        if (e.selection === true && e.paste === true) {\n          const selectedCells = getCellsFromSelection(editor);\n          head(selectedCells).each(cell => {\n            table(cell).each(table => {\n              const elements = filter$2(fromHtml(e.content), content => {\n                return name(content) !== 'meta';\n              });\n              const isTable = isTag('table');\n              if (shouldMergeContentOnPaste(editor) && elements.length === 1 && isTable(elements[0])) {\n                e.preventDefault();\n                const doc = SugarElement.fromDom(editor.getDoc());\n                const generators = paste$1(doc);\n                const targets = paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(() => {\n                  editor.focus();\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n\n    const scan$1 = (universe, element, direction) => {\n      if (universe.property().isText(element) && universe.property().getText(element).trim().length === 0 || universe.property().isComment(element)) {\n        return direction(element).bind(elem => {\n          return scan$1(universe, elem, direction).orThunk(() => {\n            return Optional.some(elem);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const toEnd = (universe, element) => {\n      if (universe.property().isText(element)) {\n        return universe.property().getText(element).length;\n      }\n      const children = universe.property().children(element);\n      return children.length;\n    };\n    const freefallRtl$2 = (universe, element) => {\n      const candidate = scan$1(universe, element, universe.query().prevSibling).getOr(element);\n      if (universe.property().isText(candidate)) {\n        return point(candidate, toEnd(universe, candidate));\n      }\n      const children = universe.property().children(candidate);\n      return children.length > 0 ? freefallRtl$2(universe, children[children.length - 1]) : point(candidate, toEnd(universe, candidate));\n    };\n\n    const freefallRtl$1 = freefallRtl$2;\n\n    const universe$2 = DomUniverse();\n    const freefallRtl = element => {\n      return freefallRtl$1(universe$2, element);\n    };\n\n    const halve = (main, other) => {\n      if (!hasColspan(main)) {\n        const width = getGenericWidth(main);\n        width.each(w => {\n          const newWidth = w.value / 2;\n          setGenericWidth(main, newWidth, w.unit);\n          setGenericWidth(other, newWidth, w.unit);\n        });\n      }\n    };\n\n    const zero = array => map$1(array, constant(0));\n    const surround = (sizes, startIndex, endIndex, results, f) => f(sizes.slice(0, startIndex)).concat(results).concat(f(sizes.slice(endIndex)));\n    const clampDeltaHelper = predicate => (sizes, index, delta, minCellSize) => {\n      if (!predicate(delta)) {\n        return delta;\n      } else {\n        const newSize = Math.max(minCellSize, sizes[index] - Math.abs(delta));\n        const diff = Math.abs(newSize - sizes[index]);\n        return delta >= 0 ? diff : -diff;\n      }\n    };\n    const clampNegativeDelta = clampDeltaHelper(delta => delta < 0);\n    const clampDelta = clampDeltaHelper(always);\n    const resizeTable = () => {\n      const calcFixedDeltas = (sizes, index, next, delta, minCellSize) => {\n        const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          0\n        ], zero);\n      };\n      const calcRelativeDeltas = (sizes, index, delta, minCellSize) => {\n        const ratio = (100 + delta) / 100;\n        const newThis = Math.max(minCellSize, (sizes[index] + delta) / ratio);\n        return map$1(sizes, (size, idx) => {\n          const newSize = idx === index ? newThis : size / ratio;\n          return newSize - size;\n        });\n      };\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          return calcFixedDeltas(sizes, index, next, delta, minCellSize);\n        }\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize, isRelative) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize, isRelative);\n      const resizeTable = (resizer, delta) => resizer(delta);\n      const calcRightEdgeDeltas = (sizes, _prev, index, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n          return zero(sizes.slice(0, index)).concat([clampedDelta]);\n        }\n      };\n      const calcRedestributedWidths = (sizes, totalWidth, pixelDelta, isRelative) => {\n        if (isRelative) {\n          const tableWidth = totalWidth + pixelDelta;\n          const ratio = tableWidth / totalWidth;\n          const newSizes = map$1(sizes, size => size / ratio);\n          return {\n            delta: ratio * 100 - 100,\n            newSizes\n          };\n        } else {\n          return {\n            delta: pixelDelta,\n            newSizes: sizes\n          };\n        }\n      };\n      return {\n        resizeTable,\n        clampTableDelta: clampNegativeDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n    const preserveTable = () => {\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize) => {\n        const idx = delta >= 0 ? next : index;\n        const clampedDelta = clampDelta(sizes, idx, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          -clampedDelta\n        ], zero);\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize);\n      const resizeTable = (resizer, delta, isLastColumn) => {\n        if (isLastColumn) {\n          resizer(delta);\n        }\n      };\n      const calcRightEdgeDeltas = (sizes, _prev, _index, delta, _minCellSize, isRelative) => {\n        if (isRelative) {\n          return zero(sizes);\n        } else {\n          const diff = delta / sizes.length;\n          return map$1(sizes, constant(diff));\n        }\n      };\n      const clampTableDelta = (sizes, index, delta, minCellSize, isLastColumn) => {\n        if (isLastColumn) {\n          if (delta >= 0) {\n            return delta;\n          } else {\n            const maxDelta = foldl(sizes, (a, b) => a + b - minCellSize, 0);\n            return Math.max(-maxDelta, delta);\n          }\n        } else {\n          return clampNegativeDelta(sizes, index, delta, minCellSize);\n        }\n      };\n      const calcRedestributedWidths = (sizes, _totalWidth, _pixelDelta, _isRelative) => ({\n        delta: 0,\n        newSizes: sizes\n      });\n      return {\n        resizeTable,\n        clampTableDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n\n    const getGridSize = table => {\n      const warehouse = Warehouse.fromTable(table);\n      return warehouse.grid;\n    };\n\n    const isHeaderCell = isTag('th');\n    const isHeaderCells = cells => forall(cells, cell => isHeaderCell(cell.element));\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter$2(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map$1(rows, row => getRowType(row).type);\n      const hasHeader = contains$2(rowTypes, 'header');\n      const hasFooter = contains$2(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains$2(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const findTableRowHeaderType = warehouse => findMap(warehouse.all, row => {\n      const rowType = getRowType(row);\n      return rowType.type === 'header' ? Optional.from(rowType.subType) : Optional.none();\n    });\n\n    const transformCell = (cell, comparator, substitution) => elementnew(substitution(cell.element, comparator), true, cell.isLocked);\n    const transformRow = (row, section) => row.section !== section ? rowcells(row.element, row.cells, section, row.isNew) : row;\n    const section = () => ({\n      transformRow,\n      transformCell: (cell, comparator, substitution) => {\n        const newCell = substitution(cell.element, comparator);\n        const fixedCell = name(newCell) !== 'td' ? mutate$1(newCell, 'td') : newCell;\n        return elementnew(fixedCell, cell.isNew, cell.isLocked);\n      }\n    });\n    const sectionCells = () => ({\n      transformRow,\n      transformCell\n    });\n    const cells = () => ({\n      transformRow: (row, section) => {\n        const newSection = section === 'thead' ? 'tbody' : section;\n        return transformRow(row, newSection);\n      },\n      transformCell\n    });\n    const fallback = () => ({\n      transformRow: identity,\n      transformCell\n    });\n    const getTableSectionType = (table, fallback) => {\n      const warehouse = Warehouse.fromTable(table);\n      const type = findTableRowHeaderType(warehouse).getOr(fallback);\n      switch (type) {\n      case 'section':\n        return section();\n      case 'sectionCells':\n        return sectionCells();\n      case 'cells':\n        return cells();\n      }\n    };\n    const TableSection = {\n      getTableSectionType,\n      section,\n      sectionCells,\n      cells,\n      fallback\n    };\n\n    const setIfNot = (element, property, value, ignore) => {\n      if (value === ignore) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, value);\n      }\n    };\n    const insert$1 = (table, selector, element) => {\n      last$2(children(table, selector)).fold(() => prepend(table, element), child => after$5(child, element));\n    };\n    const generateSection = (table, sectionName) => {\n      const section = child(table, sectionName).getOrThunk(() => {\n        const newSection = SugarElement.fromTag(sectionName, owner(table).dom);\n        if (sectionName === 'thead') {\n          insert$1(table, 'caption,colgroup', newSection);\n        } else if (sectionName === 'colgroup') {\n          insert$1(table, 'caption', newSection);\n        } else {\n          append$1(table, newSection);\n        }\n        return newSection;\n      });\n      empty(section);\n      return section;\n    };\n    const render$1 = (table, grid) => {\n      const newRows = [];\n      const newCells = [];\n      const syncRows = gridSection => map$1(gridSection, row => {\n        if (row.isNew) {\n          newRows.push(row.element);\n        }\n        const tr = row.element;\n        empty(tr);\n        each$2(row.cells, cell => {\n          if (cell.isNew) {\n            newCells.push(cell.element);\n          }\n          setIfNot(cell.element, 'colspan', cell.colspan, 1);\n          setIfNot(cell.element, 'rowspan', cell.rowspan, 1);\n          append$1(tr, cell.element);\n        });\n        return tr;\n      });\n      const syncColGroup = gridSection => bind$2(gridSection, colGroup => map$1(colGroup.cells, col => {\n        setIfNot(col.element, 'span', col.colspan, 1);\n        return col.element;\n      }));\n      const renderSection = (gridSection, sectionName) => {\n        const section = generateSection(table, sectionName);\n        const sync = sectionName === 'colgroup' ? syncColGroup : syncRows;\n        const sectionElems = sync(gridSection);\n        append(section, sectionElems);\n      };\n      const removeSection = sectionName => {\n        child(table, sectionName).each(remove$6);\n      };\n      const renderOrRemoveSection = (gridSection, sectionName) => {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      const headSection = [];\n      const bodySection = [];\n      const footSection = [];\n      const columnGroupsSection = [];\n      each$2(grid, row => {\n        switch (row.section) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        case 'colgroup':\n          columnGroupsSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(columnGroupsSection, 'colgroup');\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows,\n        newCells\n      };\n    };\n    const copy = grid => map$1(grid, row => {\n      const tr = shallow(row.element);\n      each$2(row.cells, cell => {\n        const clonedCell = deep(cell.element);\n        setIfNot(clonedCell, 'colspan', cell.colspan, 1);\n        setIfNot(clonedCell, 'rowspan', cell.rowspan, 1);\n        append$1(tr, clonedCell);\n      });\n      return tr;\n    });\n\n    const getColumn = (grid, index) => {\n      return map$1(grid, row => {\n        return getCell(row, index);\n      });\n    };\n    const getRow = (grid, index) => {\n      return grid[index];\n    };\n    const findDiff = (xs, comp) => {\n      if (xs.length === 0) {\n        return 0;\n      }\n      const first = xs[0];\n      const index = findIndex(xs, x => {\n        return !comp(first.element, x.element);\n      });\n      return index.getOr(xs.length);\n    };\n    const subgrid = (grid, row, column, comparator) => {\n      const gridRow = getRow(grid, row);\n      const isColRow = gridRow.section === 'colgroup';\n      const colspan = findDiff(gridRow.cells.slice(column), comparator);\n      const rowspan = isColRow ? 1 : findDiff(getColumn(grid.slice(row), column), comparator);\n      return {\n        colspan,\n        rowspan\n      };\n    };\n\n    const toDetails = (grid, comparator) => {\n      const seen = map$1(grid, row => map$1(row.cells, never));\n      const updateSeen = (rowIndex, columnIndex, rowspan, colspan) => {\n        for (let row = rowIndex; row < rowIndex + rowspan; row++) {\n          for (let column = columnIndex; column < columnIndex + colspan; column++) {\n            seen[row][column] = true;\n          }\n        }\n      };\n      return map$1(grid, (row, rowIndex) => {\n        const details = bind$2(row.cells, (cell, columnIndex) => {\n          if (seen[rowIndex][columnIndex] === false) {\n            const result = subgrid(grid, rowIndex, columnIndex, comparator);\n            updateSeen(rowIndex, columnIndex, result.rowspan, result.colspan);\n            return [detailnew(cell.element, result.rowspan, result.colspan, cell.isNew)];\n          } else {\n            return [];\n          }\n        });\n        return rowdetailnew(row.element, details, row.section, row.isNew);\n      });\n    };\n    const toGrid = (warehouse, generators, isNew) => {\n      const grid = [];\n      each$2(warehouse.colgroups, colgroup => {\n        const colgroupCols = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getColumnAt(warehouse, columnIndex).map(column => elementnew(column.element, isNew, false)).getOrThunk(() => elementnew(generators.colGap(), true, false));\n          colgroupCols.push(element);\n        }\n        grid.push(rowcells(colgroup.element, colgroupCols, 'colgroup', isNew));\n      });\n      for (let rowIndex = 0; rowIndex < warehouse.grid.rows; rowIndex++) {\n        const rowCells = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getAt(warehouse, rowIndex, columnIndex).map(item => elementnew(item.element, isNew, item.isLocked)).getOrThunk(() => elementnew(generators.gap(), true, false));\n          rowCells.push(element);\n        }\n        const rowDetail = warehouse.all[rowIndex];\n        const row = rowcells(rowDetail.element, rowCells, rowDetail.section, isNew);\n        grid.push(row);\n      }\n      return grid;\n    };\n\n    const fromWarehouse = (warehouse, generators) => toGrid(warehouse, generators, false);\n    const toDetailList = grid => toDetails(grid, eq$1);\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find$1(r.cells, e => eq$1(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map$1(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const run = (operation, extract, adjustment, postAction, genWrappers) => (table, target, generators, behaviours) => {\n      const warehouse = Warehouse.fromTable(table);\n      const tableSection = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.section).getOrThunk(TableSection.fallback);\n      const output = extract(warehouse, target).map(info => {\n        const model = fromWarehouse(warehouse, generators);\n        const result = operation(model, info, eq$1, genWrappers(generators), tableSection);\n        const lockedColumns = getLockedColumnsFromGrid(result.grid);\n        const grid = toDetailList(result.grid);\n        return {\n          info,\n          grid,\n          cursor: result.cursor,\n          lockedColumns\n        };\n      });\n      return output.bind(out => {\n        const newElements = render$1(table, out.grid);\n        const tableSizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.sizing).getOrThunk(() => TableSize.getTableSize(table));\n        const resizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.resize).getOrThunk(preserveTable);\n        adjustment(table, out.grid, out.info, {\n          sizing: tableSizing,\n          resize: resizing,\n          section: tableSection\n        });\n        postAction(table);\n        remove$7(table, LOCKED_COL_ATTR);\n        if (out.lockedColumns.length > 0) {\n          set$2(table, LOCKED_COL_ATTR, out.lockedColumns.join(','));\n        }\n        return Optional.some({\n          cursor: out.cursor,\n          newRows: newElements.newRows,\n          newCells: newElements.newCells\n        });\n      });\n    };\n    const onPaste = (warehouse, target) => cell(target.element).bind(cell => findInWarehouse(warehouse, cell).map(details => {\n      const value = {\n        ...details,\n        generators: target.generators,\n        clipboard: target.clipboard\n      };\n      return value;\n    }));\n    const onPasteByEditor = (warehouse, target) => extractCells(warehouse, target, always).map(cells => ({\n      cells,\n      generators: target.generators,\n      clipboard: target.clipboard\n    }));\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const onUnlockedCells = (warehouse, target) => extractCells(warehouse, target, detail => !detail.isLocked);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const merge$2 = (grid, bounds, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (rows.length === 0) {\n        return grid;\n      }\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          const row = rows[i];\n          const isLocked = getCell(row, j).isLocked;\n          mutateCell(row, j, elementnew(substitution(), false, isLocked));\n        }\n      }\n      return grid;\n    };\n    const unmerge = (grid, target, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      let first = true;\n      for (let i = 0; i < rows.length; i++) {\n        for (let j = 0; j < cellLength(rows[0]); j++) {\n          const row = rows[i];\n          const currentCell = getCell(row, j);\n          const currentCellElm = currentCell.element;\n          const isToReplace = comparator(currentCellElm, target);\n          if (isToReplace && !first) {\n            mutateCell(row, j, elementnew(substitution(), true, currentCell.isLocked));\n          } else if (isToReplace) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    const uniqueCells = (row, comparator) => {\n      return foldl(row, (rest, cell) => {\n        return exists(rest, currentCell => {\n          return comparator(currentCell.element, cell.element);\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    const splitCols = (grid, index, comparator, substitution) => {\n      if (index > 0 && index < grid[0].cells.length) {\n        each$2(grid, row => {\n          const prevCell = row.cells[index - 1];\n          let offset = 0;\n          const substitute = substitution();\n          while (row.cells.length > index + offset && comparator(prevCell.element, row.cells[index + offset].element)) {\n            mutateCell(row, index + offset, elementnew(substitute, true, row.cells[index + offset].isLocked));\n            offset++;\n          }\n        });\n      }\n      return grid;\n    };\n    const splitRows = (grid, index, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (index > 0 && index < rows.length) {\n        const rowPrevCells = rows[index - 1].cells;\n        const cells = uniqueCells(rowPrevCells, comparator);\n        each$2(cells, cell => {\n          let replacement = Optional.none();\n          for (let i = index; i < rows.length; i++) {\n            for (let j = 0; j < cellLength(rows[0]); j++) {\n              const row = rows[i];\n              const current = getCell(row, j);\n              const isToReplace = comparator(current.element, cell.element);\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Optional.some(substitution());\n                }\n                replacement.each(sub => {\n                  mutateCell(row, j, elementnew(sub, true, current.isLocked));\n                });\n              }\n            }\n          }\n        });\n      }\n      return grid;\n    };\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const measure = (startAddress, gridA, gridB) => {\n      if (startAddress.row >= gridA.length || startAddress.column > cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row + ', column: ' + startAddress.column);\n      }\n      const rowRemainder = gridA.slice(startAddress.row);\n      const colRemainder = rowRemainder[0].cells.slice(startAddress.column);\n      const colRequired = cellLength(gridB[0]);\n      const rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: rowRemainder.length - rowRequired,\n        colDelta: colRemainder.length - colRequired\n      });\n    };\n    const measureWidth = (gridA, gridB) => {\n      const colLengthA = cellLength(gridA[0]);\n      const colLengthB = cellLength(gridB[0]);\n      return {\n        rowDelta: 0,\n        colDelta: colLengthA - colLengthB\n      };\n    };\n    const measureHeight = (gridA, gridB) => {\n      const rowLengthA = gridA.length;\n      const rowLengthB = gridB.length;\n      return {\n        rowDelta: rowLengthA - rowLengthB,\n        colDelta: 0\n      };\n    };\n    const generateElements = (amount, row, generators, isLocked) => {\n      const generator = row.section === 'colgroup' ? generators.col : generators.cell;\n      return range$1(amount, idx => elementnew(generator(), true, isLocked(idx)));\n    };\n    const rowFill = (grid, amount, generators, lockedColumns) => {\n      const exampleRow = grid[grid.length - 1];\n      return grid.concat(range$1(amount, () => {\n        const generator = exampleRow.section === 'colgroup' ? generators.colgroup : generators.row;\n        const row = clone(exampleRow, generator, identity);\n        const elements = generateElements(row.cells.length, row, generators, idx => has$1(lockedColumns, idx.toString()));\n        return setCells(row, elements);\n      }));\n    };\n    const colFill = (grid, amount, generators, startIndex) => map$1(grid, row => {\n      const newChildren = generateElements(amount, row, generators, never);\n      return addCells(row, startIndex, newChildren);\n    });\n    const lockedColFill = (grid, generators, lockedColumns) => map$1(grid, row => {\n      return foldl(lockedColumns, (acc, colNum) => {\n        const newChild = generateElements(1, row, generators, always)[0];\n        return addCell(acc, colNum, newChild);\n      }, row);\n    });\n    const tailor = (gridA, delta, generators) => {\n      const fillCols = delta.colDelta < 0 ? colFill : identity;\n      const fillRows = delta.rowDelta < 0 ? rowFill : identity;\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const gridWidth = cellLength(gridA[0]);\n      const isLastColLocked = exists(lockedColumns, locked => locked === gridWidth - 1);\n      const modifiedCols = fillCols(gridA, Math.abs(delta.colDelta), generators, isLastColLocked ? gridWidth - 1 : gridWidth);\n      const newLockedColumns = getLockedColumnsFromGrid(modifiedCols);\n      return fillRows(modifiedCols, Math.abs(delta.rowDelta), generators, mapToObject(newLockedColumns, always));\n    };\n\n    const isSpanning = (grid, row, col, comparator) => {\n      const candidate = getCell(grid[row], col);\n      const matching = curry(comparator, candidate.element);\n      const currentRow = grid[row];\n      return grid.length > 1 && cellLength(currentRow) > 1 && (col > 0 && matching(getCellElement(currentRow, col - 1)) || col < currentRow.cells.length - 1 && matching(getCellElement(currentRow, col + 1)) || row > 0 && matching(getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(getCellElement(grid[row + 1], col)));\n    };\n    const mergeTables = (startAddress, gridA, gridBRows, generator, comparator, lockedColumns) => {\n      const startRow = startAddress.row;\n      const startCol = startAddress.column;\n      const mergeHeight = gridBRows.length;\n      const mergeWidth = cellLength(gridBRows[0]);\n      const endRow = startRow + mergeHeight;\n      const endCol = startCol + mergeWidth + lockedColumns.length;\n      const lockedColumnObj = mapToObject(lockedColumns, always);\n      for (let r = startRow; r < endRow; r++) {\n        let skippedCol = 0;\n        for (let c = startCol; c < endCol; c++) {\n          if (lockedColumnObj[c]) {\n            skippedCol++;\n            continue;\n          }\n          if (isSpanning(gridA, r, c, comparator)) {\n            unmerge(gridA, getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          const gridBColIndex = c - startCol - skippedCol;\n          const newCell = getCell(gridBRows[r - startRow], gridBColIndex);\n          const newCellElm = newCell.element;\n          const replacement = generator.replace(newCellElm);\n          mutateCell(gridA[r], c, elementnew(replacement, true, newCell.isLocked));\n        }\n      }\n      return gridA;\n    };\n    const getValidStartAddress = (currentStartAddress, grid, lockedColumns) => {\n      const gridColLength = cellLength(grid[0]);\n      const adjustedRowAddress = extractGridDetails(grid).cols.length + currentStartAddress.row;\n      const possibleColAddresses = range$1(gridColLength - currentStartAddress.column, num => num + currentStartAddress.column);\n      const validColAddress = find$1(possibleColAddresses, num => forall(lockedColumns, col => col !== num)).getOr(gridColLength - 1);\n      return {\n        row: adjustedRowAddress,\n        column: validColAddress\n      };\n    };\n    const getLockedColumnsWithinBounds = (startAddress, rows, lockedColumns) => filter$2(lockedColumns, colNum => colNum >= startAddress.column && colNum <= cellLength(rows[0]) + startAddress.column);\n    const merge$1 = (startAddress, gridA, gridB, generator, comparator) => {\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const validStartAddress = getValidStartAddress(startAddress, gridA, lockedColumns);\n      const gridBRows = extractGridDetails(gridB).rows;\n      const lockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, lockedColumns);\n      const result = measure(validStartAddress, gridA, gridBRows);\n      return result.map(diff => {\n        const delta = {\n          ...diff,\n          colDelta: diff.colDelta - lockedColumnsWithinBounds.length\n        };\n        const fittedGrid = tailor(gridA, delta, generator);\n        const newLockedColumns = getLockedColumnsFromGrid(fittedGrid);\n        const newLockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, newLockedColumns);\n        return mergeTables(validStartAddress, fittedGrid, gridBRows, generator, comparator, newLockedColumnsWithinBounds);\n      });\n    };\n    const insertCols = (index, gridA, gridB, generator, comparator) => {\n      splitCols(gridA, index, comparator, generator.cell);\n      const delta = measureHeight(gridB, gridA);\n      const fittedNewGrid = tailor(gridB, delta, generator);\n      const secondDelta = measureHeight(gridA, fittedNewGrid);\n      const fittedOldGrid = tailor(gridA, secondDelta, generator);\n      return map$1(fittedOldGrid, (gridRow, i) => {\n        return addCells(gridRow, index, fittedNewGrid[i].cells);\n      });\n    };\n    const insertRows = (index, gridA, gridB, generator, comparator) => {\n      splitRows(gridA, index, comparator, generator.cell);\n      const locked = getLockedColumnsFromGrid(gridA);\n      const diff = measureWidth(gridA, gridB);\n      const delta = {\n        ...diff,\n        colDelta: diff.colDelta - locked.length\n      };\n      const fittedOldGrid = tailor(gridA, delta, generator);\n      const {\n        cols: oldCols,\n        rows: oldRows\n      } = extractGridDetails(fittedOldGrid);\n      const newLocked = getLockedColumnsFromGrid(fittedOldGrid);\n      const secondDiff = measureWidth(gridB, gridA);\n      const secondDelta = {\n        ...secondDiff,\n        colDelta: secondDiff.colDelta + newLocked.length\n      };\n      const fittedGridB = lockedColFill(gridB, generator, newLocked);\n      const fittedNewGrid = tailor(fittedGridB, secondDelta, generator);\n      return [\n        ...oldCols,\n        ...oldRows.slice(0, index),\n        ...fittedNewGrid,\n        ...oldRows.slice(index, oldRows.length)\n      ];\n    };\n\n    const cloneRow = (row, cloneCell, comparator, substitution) => clone(row, elem => substitution(elem, comparator), cloneCell);\n    const insertRowAt = (grid, index, example, comparator, substitution) => {\n      const {rows, cols} = extractGridDetails(grid);\n      const before = rows.slice(0, index);\n      const after = rows.slice(index);\n      const newRow = cloneRow(rows[example], (ex, c) => {\n        const withinSpan = index > 0 && index < rows.length && comparator(getCellElement(rows[index - 1], c), getCellElement(rows[index], c));\n        const ret = withinSpan ? getCell(rows[index], c) : elementnew(substitution(ex.element, comparator), true, ex.isLocked);\n        return ret;\n      }, comparator, substitution);\n      return [\n        ...cols,\n        ...before,\n        newRow,\n        ...after\n      ];\n    };\n    const getElementFor = (row, column, section, withinSpan, example, comparator, substitution) => {\n      if (section === 'colgroup' || !withinSpan) {\n        const cell = getCell(row, example);\n        return elementnew(substitution(cell.element, comparator), true, false);\n      } else {\n        return getCell(row, column);\n      }\n    };\n    const insertColumnAt = (grid, index, example, comparator, substitution) => map$1(grid, row => {\n      const withinSpan = index > 0 && index < cellLength(row) && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n      const sub = getElementFor(row, index, row.section, withinSpan, example, comparator, substitution);\n      return addCell(row, index, sub);\n    });\n    const deleteColumnsAt = (grid, columns) => bind$2(grid, row => {\n      const existingCells = row.cells;\n      const cells = foldr(columns, (acc, column) => column >= 0 && column < acc.length ? acc.slice(0, column).concat(acc.slice(column + 1)) : acc, existingCells);\n      return cells.length > 0 ? [rowcells(row.element, cells, row.section, row.isNew)] : [];\n    });\n    const deleteRowsAt = (grid, start, finish) => {\n      const {rows, cols} = extractGridDetails(grid);\n      return [\n        ...cols,\n        ...rows.slice(0, start),\n        ...rows.slice(finish + 1)\n      ];\n    };\n\n    const notInStartRow = (grid, rowIndex, colIndex, comparator) => getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(getCellElement(grid[rowIndex - 1], colIndex), getCellElement(grid[rowIndex], colIndex)));\n    const notInStartColumn = (row, index, comparator) => index > 0 && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n    const isDuplicatedCell = (grid, rowIndex, colIndex, comparator) => notInStartRow(grid, rowIndex, colIndex, comparator) || notInStartColumn(grid[rowIndex], colIndex, comparator);\n    const rowReplacerPredicate = (targetRow, columnHeaders) => {\n      const entireTableIsHeader = forall(columnHeaders, identity) && isHeaderCells(targetRow.cells);\n      return entireTableIsHeader ? always : (cell, _rowIndex, colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && columnHeaders[colIndex]);\n      };\n    };\n    const columnReplacePredicate = (targetColumn, rowHeaders) => {\n      const entireTableIsHeader = forall(rowHeaders, identity) && isHeaderCells(targetColumn);\n      return entireTableIsHeader ? always : (cell, rowIndex, _colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && rowHeaders[rowIndex]);\n      };\n    };\n    const determineScope = (applyScope, cell, newScope, isInHeader) => {\n      const hasSpan = scope => scope === 'row' ? hasRowspan(cell) : hasColspan(cell);\n      const getScope = scope => hasSpan(scope) ? `${ scope }group` : scope;\n      if (applyScope) {\n        return isHeaderCell(cell) ? getScope(newScope) : null;\n      } else if (isInHeader && isHeaderCell(cell)) {\n        const oppositeScope = newScope === 'row' ? 'col' : 'row';\n        return getScope(oppositeScope);\n      } else {\n        return null;\n      }\n    };\n    const rowScopeGenerator = (applyScope, columnHeaders) => (cell, rowIndex, columnIndex) => Optional.some(determineScope(applyScope, cell.element, 'col', columnHeaders[columnIndex]));\n    const columnScopeGenerator = (applyScope, rowHeaders) => (cell, rowIndex) => Optional.some(determineScope(applyScope, cell.element, 'row', rowHeaders[rowIndex]));\n    const replace = (cell, comparator, substitute) => elementnew(substitute(cell.element, comparator), true, cell.isLocked);\n    const replaceIn = (grid, targets, comparator, substitute, replacer, genScope, shouldReplace) => {\n      const isTarget = cell => {\n        return exists(targets, target => {\n          return comparator(cell.element, target.element);\n        });\n      };\n      return map$1(grid, (row, rowIndex) => {\n        return mapCells(row, (cell, colIndex) => {\n          if (isTarget(cell)) {\n            const newCell = shouldReplace(cell, rowIndex, colIndex) ? replacer(cell, comparator, substitute) : cell;\n            genScope(newCell, rowIndex, colIndex).each(scope => {\n              setOptions(newCell.element, { scope: Optional.from(scope) });\n            });\n            return newCell;\n          } else {\n            return cell;\n          }\n        });\n      });\n    };\n    const getColumnCells = (rows, columnIndex, comparator) => bind$2(rows, (row, i) => {\n      return isDuplicatedCell(rows, i, columnIndex, comparator) ? [] : [getCell(row, columnIndex)];\n    });\n    const getRowCells = (rows, rowIndex, comparator) => {\n      const targetRow = rows[rowIndex];\n      return bind$2(targetRow.cells, (item, i) => {\n        return isDuplicatedCell(rows, rowIndex, i, comparator) ? [] : [item];\n      });\n    };\n    const replaceColumns = (grid, indexes, applyScope, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targets = bind$2(indexes, index => getColumnCells(rows, index, comparator));\n      const rowHeaders = map$1(rows, row => isHeaderCells(row.cells));\n      const shouldReplaceCell = columnReplacePredicate(targets, rowHeaders);\n      const scopeGenerator = columnScopeGenerator(applyScope, rowHeaders);\n      return replaceIn(grid, targets, comparator, substitution, replace, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceRows = (grid, indexes, section, applyScope, comparator, substitution, tableSection) => {\n      const {cols, rows} = extractGridDetails(grid);\n      const targetRow = rows[indexes[0]];\n      const targets = bind$2(indexes, index => getRowCells(rows, index, comparator));\n      const columnHeaders = map$1(targetRow.cells, (_cell, index) => isHeaderCells(getColumnCells(rows, index, comparator)));\n      const newRows = [...rows];\n      each$2(indexes, index => {\n        newRows[index] = tableSection.transformRow(rows[index], section);\n      });\n      const newGrid = [\n        ...cols,\n        ...newRows\n      ];\n      const shouldReplaceCell = rowReplacerPredicate(targetRow, columnHeaders);\n      const scopeGenerator = rowScopeGenerator(applyScope, columnHeaders);\n      return replaceIn(newGrid, targets, comparator, substitution, tableSection.transformCell, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceCells = (grid, details, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targetCells = map$1(details, detail => getCell(rows[detail.row], detail.column));\n      return replaceIn(grid, targetCells, comparator, substitution, replace, Optional.none, always);\n    };\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$2(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt$6 = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    const ColumnContext = { ...adt$6 };\n\n    const neighbours = (input, index) => {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    const determine = (input, column, step, tableSize, resize) => {\n      const result = input.slice(0);\n      const context = neighbours(input, column);\n      const onNone = constant(map$1(result, constant(0)));\n      const onOnly = index => tableSize.singleColumnWidth(result[index], step);\n      const onLeft = (index, next) => resize.calcLeftEdgeDeltas(result, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onMiddle = (prev, index, next) => resize.calcMiddleDeltas(result, prev, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onRight = (prev, index) => resize.calcRightEdgeDeltas(result, prev, index, step, tableSize.minCellWidth(), tableSize.isRelative);\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n\n    const total = (start, end, measures) => {\n      let r = 0;\n      for (let i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    const recalculateWidthForCells = (warehouse, widths) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const width = total(cell.column, cell.column + cell.colspan, widths);\n        return {\n          element: cell.element,\n          width,\n          colspan: cell.colspan\n        };\n      });\n    };\n    const recalculateWidthForColumns = (warehouse, widths) => {\n      const groups = Warehouse.justColumns(warehouse);\n      return map$1(groups, (column, index) => ({\n        element: column.element,\n        width: widths[index],\n        colspan: column.colspan\n      }));\n    };\n    const matchRowHeight = (warehouse, heights) => {\n      return map$1(warehouse.all, (row, i) => {\n        return {\n          element: row.element,\n          height: heights[i]\n        };\n      });\n    };\n\n    const sumUp = newSize => foldr(newSize, (b, a) => b + a, 0);\n    const recalculate = (warehouse, widths) => {\n      if (Warehouse.hasColumns(warehouse)) {\n        return recalculateWidthForColumns(warehouse, widths);\n      } else {\n        return recalculateWidthForCells(warehouse, widths);\n      }\n    };\n    const recalculateAndApply = (warehouse, widths, tableSize) => {\n      const newSizes = recalculate(warehouse, widths);\n      each$2(newSizes, cell => {\n        tableSize.setElementWidth(cell.element, cell.width);\n      });\n    };\n    const adjustWidth = (table, delta, index, resizing, tableSize) => {\n      const warehouse = Warehouse.fromTable(table);\n      const step = tableSize.getCellDelta(delta);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      const isLastColumn = index === warehouse.grid.columns - 1;\n      const clampedStep = resizing.clampTableDelta(widths, index, step, tableSize.minCellWidth(), isLastColumn);\n      const deltas = determine(widths, index, clampedStep, tableSize, resizing);\n      const newWidths = map$1(deltas, (dx, i) => dx + widths[i]);\n      recalculateAndApply(warehouse, newWidths, tableSize);\n      resizing.resizeTable(tableSize.adjustTableWidth, clampedStep, isLastColumn);\n    };\n    const adjustHeight = (table, delta, index) => {\n      const warehouse = Warehouse.fromTable(table);\n      const heights = getPixelHeights(warehouse, table);\n      const newHeights = map$1(heights, (dy, i) => index === i ? Math.max(delta + dy, minHeight()) : dy);\n      const newRowSizes = matchRowHeight(warehouse, newHeights);\n      each$2(newRowSizes, row => {\n        setHeight(row.element, row.height);\n      });\n      each$2(Warehouse.justCells(warehouse), cell => {\n        removeHeight(cell.element);\n      });\n      const total = sumUp(newHeights);\n      setHeight(table, total);\n    };\n    const adjustAndRedistributeWidths$1 = (_table, list, details, tableSize, resizeBehaviour) => {\n      const warehouse = Warehouse.generate(list);\n      const sizes = tableSize.getWidths(warehouse, tableSize);\n      const tablePixelWidth = tableSize.pixelWidth();\n      const {newSizes, delta} = resizeBehaviour.calcRedestributedWidths(sizes, tablePixelWidth, details.pixelDelta, tableSize.isRelative);\n      recalculateAndApply(warehouse, newSizes, tableSize);\n      tableSize.adjustTableWidth(delta);\n    };\n    const adjustWidthTo = (_table, list, _info, tableSize) => {\n      const warehouse = Warehouse.generate(list);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      recalculateAndApply(warehouse, widths, tableSize);\n    };\n\n    const uniqueColumns = details => {\n      const uniqueCheck = (rest, detail) => {\n        const columnExists = exists(rest, currentDetail => currentDetail.column === detail.column);\n        return columnExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, uniqueCheck, []).sort((detailA, detailB) => detailA.column - detailB.column);\n    };\n\n    const isCol = isTag('col');\n    const isColgroup = isTag('colgroup');\n    const isRow$1 = element => name(element) === 'tr' || isColgroup(element);\n    const elementToData = element => {\n      const colspan = getAttrValue(element, 'colspan', 1);\n      const rowspan = getAttrValue(element, 'rowspan', 1);\n      return {\n        element,\n        colspan,\n        rowspan\n      };\n    };\n    const modification = (generators, toData = elementToData) => {\n      const nuCell = data => isCol(data.element) ? generators.col(data) : generators.cell(data);\n      const nuRow = data => isColgroup(data.element) ? generators.colgroup(data) : generators.row(data);\n      const add = element => {\n        if (isRow$1(element)) {\n          return nuRow({ element });\n        } else {\n          const cell = element;\n          const replacement = nuCell(toData(cell));\n          recent = Optional.some({\n            item: cell,\n            replacement\n          });\n          return replacement;\n        }\n      };\n      let recent = Optional.none();\n      const getOrInit = (element, comparator) => {\n        return recent.fold(() => {\n          return add(element);\n        }, p => {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return { getOrInit };\n    };\n    const transform$1 = tag => {\n      return generators => {\n        const list = [];\n        const find = (element, comparator) => {\n          return find$1(list, x => {\n            return comparator(x.item, element);\n          });\n        };\n        const makeNew = element => {\n          const attrs = tag === 'td' ? { scope: null } : {};\n          const cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          return cell;\n        };\n        const replaceOrInit = (element, comparator) => {\n          if (isRow$1(element) || isCol(element)) {\n            return element;\n          } else {\n            const cell = element;\n            return find(cell, comparator).fold(() => {\n              return makeNew(cell);\n            }, p => {\n              return comparator(element, p.item) ? p.sub : makeNew(cell);\n            });\n          }\n        };\n        return { replaceOrInit };\n      };\n    };\n    const getScopeAttribute = cell => getOpt(cell, 'scope').map(attribute => attribute.substr(0, 3));\n    const merging = generators => {\n      const unmerge = cell => {\n        const scope = getScopeAttribute(cell);\n        scope.each(attribute => set$2(cell, 'scope', attribute));\n        return () => {\n          const raw = generators.cell({\n            element: cell,\n            colspan: 1,\n            rowspan: 1\n          });\n          remove$5(raw, 'width');\n          remove$5(cell, 'width');\n          scope.each(attribute => set$2(raw, 'scope', attribute));\n          return raw;\n        };\n      };\n      const merge = cells => {\n        const getScopeProperty = () => {\n          const stringAttributes = cat(map$1(cells, getScopeAttribute));\n          if (stringAttributes.length === 0) {\n            return Optional.none();\n          } else {\n            const baseScope = stringAttributes[0];\n            const scopes = [\n              'row',\n              'col'\n            ];\n            const isMixed = exists(stringAttributes, attribute => {\n              return attribute !== baseScope && contains$2(scopes, attribute);\n            });\n            return isMixed ? Optional.none() : Optional.from(baseScope);\n          }\n        };\n        remove$5(cells[0], 'width');\n        getScopeProperty().fold(() => remove$7(cells[0], 'scope'), attribute => set$2(cells[0], 'scope', attribute + 'group'));\n        return constant(cells[0]);\n      };\n      return {\n        unmerge,\n        merge\n      };\n    };\n    const Generators = {\n      modification,\n      transform: transform$1,\n      merging\n    };\n\n    const blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    const isList$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    const isBlock$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2(blockList, tagName);\n    };\n    const isEmptyTag$1 = (universe, item) => {\n      return contains$2([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n\n    const universe$1 = DomUniverse();\n    const isBlock = element => {\n      return isBlock$1(universe$1, element);\n    };\n    const isList = element => {\n      return isList$1(universe$1, element);\n    };\n    const isEmptyTag = element => {\n      return isEmptyTag$1(universe$1, element);\n    };\n\n    const merge = cells => {\n      const isBr = isTag('br');\n      const advancedBr = children => {\n        return forall(children, c => {\n          return isBr(c) || isText(c) && get$6(c).trim().length === 0;\n        });\n      };\n      const isListItem = el => {\n        return name(el) === 'li' || ancestor$2(el, isList).isSome();\n      };\n      const siblingIsBlock = el => {\n        return nextSibling(el).map(rightSibling => {\n          if (isBlock(rightSibling)) {\n            return true;\n          }\n          if (isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      const markCell = cell => {\n        return last$1(cell).bind(rightEdge => {\n          const rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(parent => {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || isBlock(parent) && !eq$1(cell, parent) ? [] : [SugarElement.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      const markContent = () => {\n        const content = bind$2(cells, cell => {\n          const children = children$2(cell);\n          return advancedBr(children) ? [] : children.concat(markCell(cell));\n        });\n        return content.length === 0 ? [SugarElement.fromTag('br')] : content;\n      };\n      const contents = markContent();\n      empty(cells[0]);\n      append(cells[0], contents);\n    };\n\n    const isEditable = elem => isEditable$1(elem, true);\n    const prune = table => {\n      const cells = cells$1(table);\n      if (cells.length === 0) {\n        remove$6(table);\n      }\n    };\n    const outcome = (grid, cursor) => ({\n      grid,\n      cursor\n    });\n    const findEditableCursorPosition = rows => findMap(rows, row => findMap(row.cells, cell => {\n      const elem = cell.element;\n      return someIf(isEditable(elem), elem);\n    }));\n    const elementFromGrid = (grid, row, column) => {\n      var _a, _b;\n      const rows = extractGridDetails(grid).rows;\n      return Optional.from((_b = (_a = rows[row]) === null || _a === void 0 ? void 0 : _a.cells[column]) === null || _b === void 0 ? void 0 : _b.element).filter(isEditable).orThunk(() => findEditableCursorPosition(rows));\n    };\n    const bundle = (grid, row, column) => {\n      const cursorElement = elementFromGrid(grid, row, column);\n      return outcome(grid, cursorElement);\n    };\n    const uniqueRows = details => {\n      const rowCompilation = (rest, detail) => {\n        const rowExists = exists(rest, currentDetail => currentDetail.row === detail.row);\n        return rowExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, rowCompilation, []).sort((detailA, detailB) => detailA.row - detailB.row);\n    };\n    const opInsertRowsBefore = (grid, details, comparator, genWrappers) => {\n      const targetIndex = details[0].row;\n      const rows = uniqueRows(details);\n      const newGrid = foldr(rows, (acc, row) => {\n        const newG = insertRowAt(acc.grid, targetIndex, row.row + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertRowsAfter = (grid, details, comparator, genWrappers) => {\n      const rows = uniqueRows(details);\n      const target = rows[rows.length - 1];\n      const targetIndex = target.row + target.rowspan;\n      const newGrid = foldr(rows, (newG, row) => {\n        return insertRowAt(newG, targetIndex, row.row, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertColumnsBefore = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const columns = uniqueColumns(details);\n      const targetIndex = columns[0].column;\n      const newGrid = foldr(columns, (acc, col) => {\n        const newG = insertColumnAt(acc.grid, targetIndex, col.column + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opInsertColumnsAfter = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const target = details[details.length - 1];\n      const targetIndex = target.column + target.colspan;\n      const columns = uniqueColumns(details);\n      const newGrid = foldr(columns, (newG, col) => {\n        return insertColumnAt(newG, targetIndex, col.column, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opMakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, true, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, false, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const makeRowsSection = (section, applyScope) => (initialGrid, details, comparator, genWrappers, tableSection) => {\n      const rows = uniqueRows(details);\n      const rowIndexes = map$1(rows, detail => detail.row);\n      const newGrid = replaceRows(initialGrid, rowIndexes, section, applyScope, comparator, genWrappers.replaceOrInit, tableSection);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeRowsHeader = makeRowsSection('thead', true);\n    const opMakeRowsBody = makeRowsSection('tbody', false);\n    const opMakeRowsFooter = makeRowsSection('tfoot', false);\n    const opEraseColumns = (grid, extractDetail, _comparator, _genWrappers) => {\n      const columns = uniqueColumns(extractDetail.details);\n      const newGrid = deleteColumnsAt(grid, map$1(columns, column => column.column));\n      const maxColIndex = newGrid.length > 0 ? newGrid[0].cells.length - 1 : 0;\n      return bundle(newGrid, columns[0].row, Math.min(columns[0].column, maxColIndex));\n    };\n    const opEraseRows = (grid, details, _comparator, _genWrappers) => {\n      const rows = uniqueRows(details);\n      const newGrid = deleteRowsAt(grid, rows[0].row, rows[rows.length - 1].row);\n      const maxRowIndex = Math.max(extractGridDetails(newGrid).rows.length - 1, 0);\n      return bundle(newGrid, Math.min(details[0].row, maxRowIndex), details[0].column);\n    };\n    const opMergeCells = (grid, mergable, comparator, genWrappers) => {\n      const cells = mergable.cells;\n      merge(cells);\n      const newGrid = merge$2(grid, mergable.bounds, comparator, genWrappers.merge(cells));\n      return outcome(newGrid, Optional.from(cells[0]));\n    };\n    const opUnmergeCells = (grid, unmergable, comparator, genWrappers) => {\n      const unmerge$1 = (b, cell) => unmerge(b, cell, comparator, genWrappers.unmerge(cell));\n      const newGrid = foldr(unmergable, unmerge$1, grid);\n      return outcome(newGrid, Optional.from(unmergable[0]));\n    };\n    const opPasteCells = (grid, pasteDetails, comparator, _genWrappers) => {\n      const gridify = (table, generators) => {\n        const wh = Warehouse.fromTable(table);\n        return toGrid(wh, generators, true);\n      };\n      const gridB = gridify(pasteDetails.clipboard, pasteDetails.generators);\n      const startAddress = address(pasteDetails.row, pasteDetails.column);\n      const mergedGrid = merge$1(startAddress, grid, gridB, pasteDetails.generators, comparator);\n      return mergedGrid.fold(() => outcome(grid, Optional.some(pasteDetails.element)), newGrid => {\n        return bundle(newGrid, pasteDetails.row, pasteDetails.column);\n      });\n    };\n    const gridifyRows = (rows, generators, context) => {\n      const pasteDetails = fromPastedRows(rows, context.section);\n      const wh = Warehouse.generate(pasteDetails);\n      return toGrid(wh, generators, true);\n    };\n    const opPasteColsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].column;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteColsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].column + pasteDetails.cells[pasteDetails.cells.length - 1].colspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, index);\n    };\n    const opPasteRowsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].row;\n      const context = rows[index];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].row + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, index, pasteDetails.cells[0].column);\n    };\n    const opGetColumnsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const selectedColumnCells = flatten(map$1(house.all, row => filter$2(row.cells, cell => cell.column >= minColRange && cell.column < maxColRange)));\n        return findCommonCellType(selectedColumnCells);\n      }).getOr('');\n    };\n    const opGetCellsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(findCommonCellType).getOr('');\n    };\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const resize = (table, list, details, behaviours) => adjustWidthTo(table, list, details, behaviours.sizing);\n    const adjustAndRedistributeWidths = (table, list, details, behaviours) => adjustAndRedistributeWidths$1(table, list, details, behaviours.sizing, behaviours.resize);\n    const firstColumnIsLocked = (_warehouse, details) => exists(details, detail => detail.column === 0 && detail.isLocked);\n    const lastColumnIsLocked = (warehouse, details) => exists(details, detail => detail.column + detail.colspan >= warehouse.grid.columns && detail.isLocked);\n    const getColumnsWidth = (warehouse, details) => {\n      const columns$1 = columns(warehouse);\n      const uniqueCols = uniqueColumns(details);\n      return foldl(uniqueCols, (acc, detail) => {\n        const column = columns$1[detail.column];\n        const colWidth = column.map(getOuter$2).getOr(0);\n        return acc + colWidth;\n      }, 0);\n    };\n    const insertColumnsExtractor = before => (warehouse, target) => onCells(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details);\n    }).map(details => ({\n      details,\n      pixelDelta: getColumnsWidth(warehouse, details)\n    }));\n    const eraseColumnsExtractor = (warehouse, target) => onUnlockedCells(warehouse, target).map(details => ({\n      details,\n      pixelDelta: -getColumnsWidth(warehouse, details)\n    }));\n    const pasteColumnsExtractor = before => (warehouse, target) => onPasteByEditor(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details.cells);\n    });\n    const headerCellGenerator = Generators.transform('th');\n    const bodyCellGenerator = Generators.transform('td');\n    const insertRowsBefore = run(opInsertRowsBefore, onCells, noop, noop, Generators.modification);\n    const insertRowsAfter = run(opInsertRowsAfter, onCells, noop, noop, Generators.modification);\n    const insertColumnsBefore = run(opInsertColumnsBefore, insertColumnsExtractor(true), adjustAndRedistributeWidths, noop, Generators.modification);\n    const insertColumnsAfter = run(opInsertColumnsAfter, insertColumnsExtractor(false), adjustAndRedistributeWidths, noop, Generators.modification);\n    const eraseColumns = run(opEraseColumns, eraseColumnsExtractor, adjustAndRedistributeWidths, prune, Generators.modification);\n    const eraseRows = run(opEraseRows, onCells, noop, prune, Generators.modification);\n    const makeColumnsHeader = run(opMakeColumnsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeColumnsHeader = run(opUnmakeColumnsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsHeader = run(opMakeRowsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const makeRowsBody = run(opMakeRowsBody, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsFooter = run(opMakeRowsFooter, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeCellsHeader = run(opMakeCellsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeCellsHeader = run(opUnmakeCellsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const mergeCells = run(opMergeCells, onUnlockedMergable, resize, noop, Generators.merging);\n    const unmergeCells = run(opUnmergeCells, onUnlockedUnmergable, resize, noop, Generators.merging);\n    const pasteCells = run(opPasteCells, onPaste, resize, noop, Generators.modification);\n    const pasteColsBefore = run(opPasteColsBefore, pasteColumnsExtractor(true), noop, noop, Generators.modification);\n    const pasteColsAfter = run(opPasteColsAfter, pasteColumnsExtractor(false), noop, noop, Generators.modification);\n    const pasteRowsBefore = run(opPasteRowsBefore, onPasteByEditor, noop, noop, Generators.modification);\n    const pasteRowsAfter = run(opPasteRowsAfter, onPasteByEditor, noop, noop, Generators.modification);\n    const getColumnsType = opGetColumnsType;\n    const getCellsType = opGetCellsType;\n    const getRowsType = opGetRowsType;\n\n    const fireNewRow = (editor, row) => editor.dispatch('NewRow', { node: row });\n    const fireNewCell = (editor, cell) => editor.dispatch('NewCell', { node: cell });\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n    const fireTableSelectionChange = (editor, cells, start, finish, otherCells) => {\n      editor.dispatch('TableSelectionChange', {\n        cells,\n        start,\n        finish,\n        otherCells\n      });\n    };\n    const fireTableSelectionClear = editor => {\n      editor.dispatch('TableSelectionClear');\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const styleModified = {\n      structure: false,\n      style: true\n    };\n    const structureModified = {\n      structure: true,\n      style: false\n    };\n    const styleAndStructureModified = {\n      structure: true,\n      style: true\n    };\n\n    const get$5 = (editor, table) => {\n      if (isTablePercentagesForced(editor)) {\n        return TableSize.percentageSize(table);\n      } else if (isTablePixelsForced(editor)) {\n        return TableSize.pixelSize(table);\n      } else {\n        return TableSize.getTableSize(table);\n      }\n    };\n\n    const TableActions = (editor, resizeHandler, cellSelectionHandler) => {\n      const isTableBody = editor => name(getBody(editor)) === 'table';\n      const lastRowGuard = table => !isTableBody(editor) || getGridSize(table).rows > 1;\n      const lastColumnGuard = table => !isTableBody(editor) || getGridSize(table).columns > 1;\n      const cloneFormats = getTableCloneElements(editor);\n      const colMutationOp = isResizeTableColumnResizing(editor) ? noop : halve;\n      const getTableSectionType = table => {\n        switch (getTableHeaderType(editor)) {\n        case 'section':\n          return TableSection.section();\n        case 'sectionCells':\n          return TableSection.sectionCells();\n        case 'cells':\n          return TableSection.cells();\n        default:\n          return TableSection.getTableSectionType(table, 'section');\n        }\n      };\n      const setSelectionFromAction = (table, result) => result.cursor.fold(() => {\n        const cells = cells$1(table);\n        return head(cells).filter(inBody).map(firstCell => {\n          cellSelectionHandler.clearSelectedCells(table.dom);\n          const rng = editor.dom.createRng();\n          rng.selectNode(firstCell.dom);\n          editor.selection.setRng(rng);\n          set$2(firstCell, 'data-mce-selected', '1');\n          return rng;\n        });\n      }, cell => {\n        const des = freefallRtl(cell);\n        const rng = editor.dom.createRng();\n        rng.setStart(des.element.dom, des.offset);\n        rng.setEnd(des.element.dom, des.offset);\n        editor.selection.setRng(rng);\n        cellSelectionHandler.clearSelectedCells(table.dom);\n        return Optional.some(rng);\n      });\n      const execute = (operation, guard, mutate, effect) => (table, target, noEvents = false) => {\n        removeDataStyle(table);\n        const doc = SugarElement.fromDom(editor.getDoc());\n        const generators = cellOperations(mutate, doc, cloneFormats);\n        const behaviours = {\n          sizing: get$5(editor, table),\n          resize: isResizeTableColumnResizing(editor) ? resizeTable() : preserveTable(),\n          section: getTableSectionType(table)\n        };\n        return guard(table) ? operation(table, target, generators, behaviours).bind(result => {\n          resizeHandler.refresh(table.dom);\n          each$2(result.newRows, row => {\n            fireNewRow(editor, row.dom);\n          });\n          each$2(result.newCells, cell => {\n            fireNewCell(editor, cell.dom);\n          });\n          const range = setSelectionFromAction(table, result);\n          if (inBody(table)) {\n            removeDataStyle(table);\n            if (!noEvents) {\n              fireTableModified(editor, table.dom, effect);\n            }\n          }\n          return range.map(rng => ({\n            rng,\n            effect\n          }));\n        }) : Optional.none();\n      };\n      const deleteRow = execute(eraseRows, lastRowGuard, noop, structureModified);\n      const deleteColumn = execute(eraseColumns, lastColumnGuard, noop, structureModified);\n      const insertRowsBefore$1 = execute(insertRowsBefore, always, noop, structureModified);\n      const insertRowsAfter$1 = execute(insertRowsAfter, always, noop, structureModified);\n      const insertColumnsBefore$1 = execute(insertColumnsBefore, always, colMutationOp, structureModified);\n      const insertColumnsAfter$1 = execute(insertColumnsAfter, always, colMutationOp, structureModified);\n      const mergeCells$1 = execute(mergeCells, always, noop, structureModified);\n      const unmergeCells$1 = execute(unmergeCells, always, noop, structureModified);\n      const pasteColsBefore$1 = execute(pasteColsBefore, always, noop, structureModified);\n      const pasteColsAfter$1 = execute(pasteColsAfter, always, noop, structureModified);\n      const pasteRowsBefore$1 = execute(pasteRowsBefore, always, noop, structureModified);\n      const pasteRowsAfter$1 = execute(pasteRowsAfter, always, noop, structureModified);\n      const pasteCells$1 = execute(pasteCells, always, noop, styleAndStructureModified);\n      const makeCellsHeader$1 = execute(makeCellsHeader, always, noop, structureModified);\n      const unmakeCellsHeader$1 = execute(unmakeCellsHeader, always, noop, structureModified);\n      const makeColumnsHeader$1 = execute(makeColumnsHeader, always, noop, structureModified);\n      const unmakeColumnsHeader$1 = execute(unmakeColumnsHeader, always, noop, structureModified);\n      const makeRowsHeader$1 = execute(makeRowsHeader, always, noop, structureModified);\n      const makeRowsBody$1 = execute(makeRowsBody, always, noop, structureModified);\n      const makeRowsFooter$1 = execute(makeRowsFooter, always, noop, structureModified);\n      const getTableCellType = getCellsType;\n      const getTableColType = getColumnsType;\n      const getTableRowType = getRowsType;\n      return {\n        deleteRow,\n        deleteColumn,\n        insertRowsBefore: insertRowsBefore$1,\n        insertRowsAfter: insertRowsAfter$1,\n        insertColumnsBefore: insertColumnsBefore$1,\n        insertColumnsAfter: insertColumnsAfter$1,\n        mergeCells: mergeCells$1,\n        unmergeCells: unmergeCells$1,\n        pasteColsBefore: pasteColsBefore$1,\n        pasteColsAfter: pasteColsAfter$1,\n        pasteRowsBefore: pasteRowsBefore$1,\n        pasteRowsAfter: pasteRowsAfter$1,\n        pasteCells: pasteCells$1,\n        makeCellsHeader: makeCellsHeader$1,\n        unmakeCellsHeader: unmakeCellsHeader$1,\n        makeColumnsHeader: makeColumnsHeader$1,\n        unmakeColumnsHeader: unmakeColumnsHeader$1,\n        makeRowsHeader: makeRowsHeader$1,\n        makeRowsBody: makeRowsBody$1,\n        makeRowsFooter: makeRowsFooter$1,\n        getTableRowType,\n        getTableCellType,\n        getTableColType\n      };\n    };\n\n    const constrainSpan = (element, property, value) => {\n      const currentColspan = getAttrValue(element, property, 1);\n      if (value === 1 || currentColspan <= 1) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, Math.min(value, currentColspan));\n      }\n    };\n    const isColInRange = (minColRange, maxColRange) => cell => {\n      const endCol = cell.column + cell.colspan - 1;\n      const startCol = cell.column;\n      return endCol >= minColRange && startCol < maxColRange;\n    };\n    const generateColGroup = (house, minColRange, maxColRange) => {\n      if (Warehouse.hasColumns(house)) {\n        const colsToCopy = filter$2(Warehouse.justColumns(house), isColInRange(minColRange, maxColRange));\n        const copiedCols = map$1(colsToCopy, c => {\n          const clonedCol = deep(c.element);\n          constrainSpan(clonedCol, 'span', maxColRange - minColRange);\n          return clonedCol;\n        });\n        const fakeColgroup = SugarElement.fromTag('colgroup');\n        append(fakeColgroup, copiedCols);\n        return [fakeColgroup];\n      } else {\n        return [];\n      }\n    };\n    const generateRows = (house, minColRange, maxColRange) => map$1(house.all, row => {\n      const cellsToCopy = filter$2(row.cells, isColInRange(minColRange, maxColRange));\n      const copiedCells = map$1(cellsToCopy, cell => {\n        const clonedCell = deep(cell.element);\n        constrainSpan(clonedCell, 'colspan', maxColRange - minColRange);\n        return clonedCell;\n      });\n      const fakeTR = SugarElement.fromTag('tr');\n      append(fakeTR, copiedCells);\n      return fakeTR;\n    });\n    const copyCols = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onUnlockedCells(house, target);\n      return details.map(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const fakeColGroups = generateColGroup(house, minColRange, maxColRange);\n        const fakeRows = generateRows(house, minColRange, maxColRange);\n        return [\n          ...fakeColGroups,\n          ...fakeRows\n        ];\n      });\n    };\n\n    const copyRows = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.bind(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const rows = extractGridDetails(grid).rows;\n        const slicedGrid = rows.slice(selectedCells[0].row, selectedCells[selectedCells.length - 1].row + selectedCells[selectedCells.length - 1].rowspan);\n        const filteredGrid = bind$2(slicedGrid, row => {\n          const newCells = filter$2(row.cells, cell => !cell.isLocked);\n          return newCells.length > 0 ? [{\n              ...row,\n              cells: newCells\n            }] : [];\n        });\n        const slicedDetails = toDetailList(filteredGrid);\n        return someIf(slicedDetails.length > 0, slicedDetails);\n      }).map(slicedDetails => copy(slicedDetails));\n    };\n\n    const adt$5 = Adt.generate([\n      { invalid: ['raw'] },\n      { pixels: ['value'] },\n      { percent: ['value'] }\n    ]);\n    const validateFor = (suffix, type, value) => {\n      const rawAmount = value.substring(0, value.length - suffix.length);\n      const amount = parseFloat(rawAmount);\n      return rawAmount === amount.toString() ? type(amount) : adt$5.invalid(value);\n    };\n    const from = value => {\n      if (endsWith(value, '%')) {\n        return validateFor('%', adt$5.percent, value);\n      }\n      if (endsWith(value, 'px')) {\n        return validateFor('px', adt$5.pixels, value);\n      }\n      return adt$5.invalid(value);\n    };\n    const Size = {\n      ...adt$5,\n      from\n    };\n\n    const redistributeToPercent = (widths, totalWidth) => {\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          const ratio = px / totalWidth * 100;\n          return ratio + '%';\n        }, pc => {\n          return pc + '%';\n        });\n      });\n    };\n    const redistributeToPx = (widths, totalWidth, newTotalWidth) => {\n      const scale = newTotalWidth / totalWidth;\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          return px * scale + 'px';\n        }, pc => {\n          return pc / 100 * newTotalWidth + 'px';\n        });\n      });\n    };\n    const redistributeEmpty = (newWidthType, columns) => {\n      const f = newWidthType.fold(() => constant(''), pixels => {\n        const num = pixels / columns;\n        return constant(num + 'px');\n      }, () => {\n        const num = 100 / columns;\n        return constant(num + '%');\n      });\n      return range$1(columns, f);\n    };\n    const redistributeValues = (newWidthType, widths, totalWidth) => {\n      return newWidthType.fold(() => {\n        return widths;\n      }, px => {\n        return redistributeToPx(widths, totalWidth, px);\n      }, _pc => {\n        return redistributeToPercent(widths, totalWidth);\n      });\n    };\n    const redistribute$1 = (widths, totalWidth, newWidth) => {\n      const newType = Size.from(newWidth);\n      const floats = forall(widths, s => {\n        return s === '0px';\n      }) ? redistributeEmpty(newType, widths.length) : redistributeValues(newType, widths, totalWidth);\n      return normalize(floats);\n    };\n    const sum = (values, fallback) => {\n      if (values.length === 0) {\n        return fallback;\n      }\n      return foldr(values, (rest, v) => {\n        return Size.from(v).fold(constant(0), identity, identity) + rest;\n      }, 0);\n    };\n    const roundDown = (num, unit) => {\n      const floored = Math.floor(num);\n      return {\n        value: floored + unit,\n        remainder: num - floored\n      };\n    };\n    const add$3 = (value, amount) => {\n      return Size.from(value).fold(constant(value), px => {\n        return px + amount + 'px';\n      }, pc => {\n        return pc + amount + '%';\n      });\n    };\n    const normalize = values => {\n      if (values.length === 0) {\n        return values;\n      }\n      const scan = foldr(values, (rest, value) => {\n        const info = Size.from(value).fold(() => ({\n          value,\n          remainder: 0\n        }), num => roundDown(num, 'px'), num => ({\n          value: num + '%',\n          remainder: 0\n        }));\n        return {\n          output: [info.value].concat(rest.output),\n          remainder: rest.remainder + info.remainder\n        };\n      }, {\n        output: [],\n        remainder: 0\n      });\n      const r = scan.output;\n      return r.slice(0, r.length - 1).concat([add$3(r[r.length - 1], Math.round(scan.remainder))]);\n    };\n    const validate = Size.from;\n\n    const redistributeToW = (newWidths, cells, unit) => {\n      each$2(cells, cell => {\n        const widths = newWidths.slice(cell.column, cell.colspan + cell.column);\n        const w = sum(widths, minWidth());\n        set$1(cell.element, 'width', w + unit);\n      });\n    };\n    const redistributeToColumns = (newWidths, columns, unit) => {\n      each$2(columns, (column, index) => {\n        const width = sum([newWidths[index]], minWidth());\n        set$1(column.element, 'width', width + unit);\n      });\n    };\n    const redistributeToH = (newHeights, rows, cells) => {\n      each$2(cells, cell => {\n        remove$5(cell.element, 'height');\n      });\n      each$2(rows, (row, i) => {\n        set$1(row.element, 'height', newHeights[i]);\n      });\n    };\n    const getUnit = newSize => {\n      return validate(newSize).fold(constant('px'), constant('px'), constant('%'));\n    };\n    const redistribute = (table, optWidth, optHeight) => {\n      const warehouse = Warehouse.fromTable(table);\n      const rows = warehouse.all;\n      const cells = Warehouse.justCells(warehouse);\n      const columns = Warehouse.justColumns(warehouse);\n      optWidth.each(newWidth => {\n        const widthUnit = getUnit(newWidth);\n        const totalWidth = get$9(table);\n        const oldWidths = getRawWidths(warehouse, table);\n        const nuWidths = redistribute$1(oldWidths, totalWidth, newWidth);\n        if (Warehouse.hasColumns(warehouse)) {\n          redistributeToColumns(nuWidths, columns, widthUnit);\n        } else {\n          redistributeToW(nuWidths, cells, widthUnit);\n        }\n        set$1(table, 'width', newWidth);\n      });\n      optHeight.each(newHeight => {\n        const totalHeight = get$8(table);\n        const oldHeights = getRawHeights(warehouse, table);\n        const nuHeights = redistribute$1(oldHeights, totalHeight, newHeight);\n        redistributeToH(nuHeights, rows, cells);\n        set$1(table, 'height', newHeight);\n      });\n    };\n    const isPercentSizing = isPercentSizing$1;\n    const isPixelSizing = isPixelSizing$1;\n    const isNoneSizing = isNoneSizing$1;\n\n    const cleanupLegacyAttributes = element => {\n      remove$7(element, 'width');\n      remove$7(element, 'height');\n    };\n    const convertToPercentSizeWidth = table => {\n      const newWidth = getPercentTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSizeWidth = table => {\n      const newWidth = getPixelTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSizeHeight = table => {\n      const newHeight = getPixelTableHeight(table);\n      redistribute(table, Optional.none(), Optional.some(newHeight));\n      cleanupLegacyAttributes(table);\n    };\n    const convertToNoneSizeWidth = table => {\n      remove$5(table, 'width');\n      const columns = columns$1(table);\n      const rowElements = columns.length > 0 ? columns : cells$1(table);\n      each$2(rowElements, cell => {\n        remove$5(cell, 'width');\n        cleanupLegacyAttributes(cell);\n      });\n      cleanupLegacyAttributes(table);\n    };\n\n    const DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      colGroups: false\n    };\n    const tableHeaderCell = () => SugarElement.fromTag('th');\n    const tableCell = () => SugarElement.fromTag('td');\n    const tableColumn = () => SugarElement.fromTag('col');\n    const createRow = (columns, rowHeaders, columnHeaders, rowIndex) => {\n      const tr = SugarElement.fromTag('tr');\n      for (let j = 0; j < columns; j++) {\n        const td = rowIndex < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n        if (j < columnHeaders) {\n          set$2(td, 'scope', 'row');\n        }\n        if (rowIndex < rowHeaders) {\n          set$2(td, 'scope', 'col');\n        }\n        append$1(td, SugarElement.fromTag('br'));\n        append$1(tr, td);\n      }\n      return tr;\n    };\n    const createGroupRow = columns => {\n      const columnGroup = SugarElement.fromTag('colgroup');\n      range$1(columns, () => append$1(columnGroup, tableColumn()));\n      return columnGroup;\n    };\n    const createRows = (rows, columns, rowHeaders, columnHeaders) => range$1(rows, r => createRow(columns, rowHeaders, columnHeaders, r));\n    const render = (rows, columns, rowHeaders, columnHeaders, headerType, renderOpts = DefaultRenderOptions) => {\n      const table = SugarElement.fromTag('table');\n      const rowHeadersGoInThead = headerType !== 'cells';\n      setAll(table, renderOpts.styles);\n      setAll$1(table, renderOpts.attributes);\n      if (renderOpts.colGroups) {\n        append$1(table, createGroupRow(columns));\n      }\n      const actualRowHeaders = Math.min(rows, rowHeaders);\n      if (rowHeadersGoInThead && rowHeaders > 0) {\n        const thead = SugarElement.fromTag('thead');\n        append$1(table, thead);\n        const theadRowHeaders = headerType === 'sectionCells' ? actualRowHeaders : 0;\n        const theadRows = createRows(rowHeaders, columns, theadRowHeaders, columnHeaders);\n        append(thead, theadRows);\n      }\n      const tbody = SugarElement.fromTag('tbody');\n      append$1(table, tbody);\n      const numRows = rowHeadersGoInThead ? rows - actualRowHeaders : rows;\n      const numRowHeaders = rowHeadersGoInThead ? 0 : rowHeaders;\n      const tbodyRows = createRows(numRows, columns, numRowHeaders, columnHeaders);\n      append(tbody, tbodyRows);\n      return table;\n    };\n\n    const get$4 = element => element.dom.innerHTML;\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$4(container);\n    };\n\n    const placeCaretInCell = (editor, cell) => {\n      editor.selection.select(cell.dom, true);\n      editor.selection.collapse(true);\n    };\n    const selectFirstCellInTable = (editor, tableElm) => {\n      descendant(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    const fireEvents = (editor, table) => {\n      each$2(descendants(table, 'tr'), row => {\n        fireNewRow(editor, row.dom);\n        each$2(descendants(row, 'th,td'), cell => {\n          fireNewCell(editor, cell.dom);\n        });\n      });\n    };\n    const isPercentage = width => isString(width) && width.indexOf('%') !== -1;\n    const insert = (editor, columns, rows, colHeaders, rowHeaders) => {\n      const defaultStyles = getTableDefaultStyles(editor);\n      const options = {\n        styles: defaultStyles,\n        attributes: getTableDefaultAttributes(editor),\n        colGroups: tableUseColumnGroup(editor)\n      };\n      editor.undoManager.ignore(() => {\n        const table = render(rows, columns, rowHeaders, colHeaders, getTableHeaderType(editor), options);\n        set$2(table, 'data-mce-id', '__mce');\n        const html = getOuter(table);\n        editor.insertContent(html);\n        editor.addVisual();\n      });\n      return descendant(getBody(editor), 'table[data-mce-id=\"__mce\"]').map(table => {\n        if (isTablePixelsForced(editor)) {\n          convertToPixelSizeWidth(table);\n        } else if (isTableResponsiveForced(editor)) {\n          convertToNoneSizeWidth(table);\n        } else if (isTablePercentagesForced(editor) || isPercentage(defaultStyles.width)) {\n          convertToPercentSizeWidth(table);\n        }\n        removeDataStyle(table);\n        remove$7(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom;\n      }).getOrNull();\n    };\n    const insertTable = (editor, rows, columns, options = {}) => {\n      const checkInput = val => isNumber(val) && val > 0;\n      if (checkInput(rows) && checkInput(columns)) {\n        const headerRows = options.headerRows || 0;\n        const headerColumns = options.headerColumns || 0;\n        return insert(editor, columns, rows, headerColumns, headerRows);\n      } else {\n        console.error('Invalid values for mceInsertTable - rows and columns values are required to insert a table.');\n        return null;\n      }\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const setData = items => {\n      const fakeClipboardItem = global.FakeClipboardItem(items);\n      global.write([fakeClipboardItem]);\n    };\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const clearData = type => {\n      if (getData(type).isSome()) {\n        global.clear();\n      }\n    };\n    const setRows = rowsOpt => {\n      rowsOpt.fold(clearRows, rows => setData({ [tableTypeRow]: rows }));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const clearRows = () => clearData(tableTypeRow);\n    const setColumns = columnsOpt => {\n      columnsOpt.fold(clearColumns, columns => setData({ [tableTypeColumn]: columns }));\n    };\n    const getColumns = () => getData(tableTypeColumn);\n    const clearColumns = () => clearData(tableTypeColumn);\n\n    const getSelectionStartCellOrCaption = editor => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const getSelectionStartCell = editor => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).filter(isInEditableContext$1);\n    const registerCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const eraseTable = () => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        table(cellOrCaption, isRoot).filter(not(isRoot)).each(table => {\n          const cursor = SugarElement.fromText('');\n          after$5(table, cursor);\n          remove$6(table);\n          if (editor.dom.isEmpty(editor.getBody())) {\n            editor.setContent('');\n            editor.selection.setCursorLocation();\n          } else {\n            const rng = editor.dom.createRng();\n            rng.setStart(cursor.dom, 0);\n            rng.setEnd(cursor.dom, 0);\n            editor.selection.setRng(rng);\n            editor.nodeChanged();\n          }\n        });\n      });\n      const setSizingMode = sizing => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        const isForcedSizing = isTableResponsiveForced(editor) || isTablePixelsForced(editor) || isTablePercentagesForced(editor);\n        if (!isForcedSizing) {\n          table(cellOrCaption, isRoot).each(table => {\n            if (sizing === 'relative' && !isPercentSizing(table)) {\n              convertToPercentSizeWidth(table);\n            } else if (sizing === 'fixed' && !isPixelSizing(table)) {\n              convertToPixelSizeWidth(table);\n            } else if (sizing === 'responsive' && !isNoneSizing(table)) {\n              convertToNoneSizeWidth(table);\n            }\n            removeDataStyle(table);\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        }\n      });\n      const getTableFromCell = cell => table(cell, isRoot);\n      const performActionOnSelection = action => getSelectionStartCell(editor).bind(cell => getTableFromCell(cell).map(table => action(table, cell)));\n      const toggleTableClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          editor.formatter.toggle('tableclass', { value: clazz }, table.dom);\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleTableCellClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          const selectedCells = getCellsFromSelection(editor);\n          const allHaveClass = forall(selectedCells, cell => editor.formatter.match('tablecellclass', { value: clazz }, cell.dom));\n          const formatterAction = allHaveClass ? editor.formatter.remove : editor.formatter.apply;\n          each$2(selectedCells, cell => formatterAction('tablecellclass', { value: clazz }, cell.dom));\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleCaption = () => {\n        getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n          table(cellOrCaption, isRoot).each(table => {\n            child(table, 'caption').fold(() => {\n              const caption = SugarElement.fromTag('caption');\n              append$1(caption, SugarElement.fromText('Caption'));\n              appendAt(table, caption, 0);\n              editor.selection.setCursorLocation(caption.dom, 0);\n            }, caption => {\n              if (isTag('caption')(cellOrCaption)) {\n                one('td', table).each(td => editor.selection.setCursorLocation(td.dom, 0));\n              }\n              remove$6(caption);\n            });\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        });\n      };\n      const postExecute = _data => {\n        editor.focus();\n      };\n      const actOnSelection = (execute, noEvents = false) => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        execute(table, targets, noEvents).each(postExecute);\n      });\n      const copyRowSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), Optional.none());\n        return copyRows(table, targets, generators);\n      });\n      const copyColSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        return copyCols(table, targets);\n      });\n      const pasteOnSelection = (execute, getRows) => getRows().each(rows => {\n        const clonedRows = map$1(rows, row => deep(row));\n        performActionOnSelection((table, startCell) => {\n          const generators = paste$1(SugarElement.fromDom(editor.getDoc()));\n          const targets = pasteRows(getCellsFromSelection(editor), startCell, clonedRows, generators);\n          execute(table, targets).each(postExecute);\n        });\n      });\n      const actOnType = getAction => (_ui, args) => get$c(args, 'type').each(type => {\n        actOnSelection(getAction(type), args.no_events);\n      });\n      each$1({\n        mceTableSplitCells: () => actOnSelection(actions.unmergeCells),\n        mceTableMergeCells: () => actOnSelection(actions.mergeCells),\n        mceTableInsertRowBefore: () => actOnSelection(actions.insertRowsBefore),\n        mceTableInsertRowAfter: () => actOnSelection(actions.insertRowsAfter),\n        mceTableInsertColBefore: () => actOnSelection(actions.insertColumnsBefore),\n        mceTableInsertColAfter: () => actOnSelection(actions.insertColumnsAfter),\n        mceTableDeleteCol: () => actOnSelection(actions.deleteColumn),\n        mceTableDeleteRow: () => actOnSelection(actions.deleteRow),\n        mceTableCutCol: () => copyColSelection().each(selection => {\n          setColumns(selection);\n          actOnSelection(actions.deleteColumn);\n        }),\n        mceTableCutRow: () => copyRowSelection().each(selection => {\n          setRows(selection);\n          actOnSelection(actions.deleteRow);\n        }),\n        mceTableCopyCol: () => copyColSelection().each(selection => setColumns(selection)),\n        mceTableCopyRow: () => copyRowSelection().each(selection => setRows(selection)),\n        mceTablePasteColBefore: () => pasteOnSelection(actions.pasteColsBefore, getColumns),\n        mceTablePasteColAfter: () => pasteOnSelection(actions.pasteColsAfter, getColumns),\n        mceTablePasteRowBefore: () => pasteOnSelection(actions.pasteRowsBefore, getRows),\n        mceTablePasteRowAfter: () => pasteOnSelection(actions.pasteRowsAfter, getRows),\n        mceTableDelete: eraseTable,\n        mceTableCellToggleClass: toggleTableCellClass,\n        mceTableToggleClass: toggleTableClass,\n        mceTableToggleCaption: toggleCaption,\n        mceTableSizingMode: (_ui, sizing) => setSizingMode(sizing),\n        mceTableCellType: actOnType(type => type === 'th' ? actions.makeCellsHeader : actions.unmakeCellsHeader),\n        mceTableColType: actOnType(type => type === 'th' ? actions.makeColumnsHeader : actions.unmakeColumnsHeader),\n        mceTableRowType: actOnType(type => {\n          switch (type) {\n          case 'header':\n            return actions.makeRowsHeader;\n          case 'footer':\n            return actions.makeRowsFooter;\n          default:\n            return actions.makeRowsBody;\n          }\n        })\n      }, (func, name) => editor.addCommand(name, func));\n      editor.addCommand('mceInsertTable', (_ui, args) => {\n        insertTable(editor, args.rows, args.columns, args.options);\n      });\n      editor.addCommand('mceTableApplyCellStyle', (_ui, args) => {\n        const getFormatName = style => 'tablecell' + style.toLowerCase().replace('-', '');\n        if (!isObject(args)) {\n          return;\n        }\n        const cells = filter$2(getCellsFromSelection(editor), isInEditableContext$1);\n        if (cells.length === 0) {\n          return;\n        }\n        const validArgs = filter$1(args, (value, style) => editor.formatter.has(getFormatName(style)) && isString(value));\n        if (isEmpty(validArgs)) {\n          return;\n        }\n        each$1(validArgs, (value, style) => {\n          const formatName = getFormatName(style);\n          each$2(cells, cell => {\n            if (value === '') {\n              editor.formatter.remove(formatName, { value: null }, cell.dom, true);\n            } else {\n              editor.formatter.apply(formatName, { value }, cell.dom);\n            }\n          });\n        });\n        getTableFromCell(cells[0]).each(table => fireTableModified(editor, table.dom, styleModified));\n      });\n    };\n\n    const registerQueryCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const lookupOnSelection = action => getSelectionCell(getSelectionStart(editor)).bind(cell => table(cell, isRoot).map(table => {\n        const targets = forMenu(getCellsFromSelection(editor), table, cell);\n        return action(table, targets);\n      })).getOr('');\n      each$1({\n        mceTableRowType: () => lookupOnSelection(actions.getTableRowType),\n        mceTableCellType: () => lookupOnSelection(actions.getTableCellType),\n        mceTableColType: () => lookupOnSelection(actions.getTableColType)\n      }, (func, name) => editor.addQueryValueHandler(name, func));\n    };\n\n    const adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata$1 = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before$2 = adt$4.before;\n    const on = adt$4.on;\n    const after$3 = adt$4.after;\n    const Situ = {\n      before: before$2,\n      on,\n      after: after$3,\n      cata: cata$1,\n      getStart: getStart$1\n    };\n\n    const create$4 = (selection, kill) => ({\n      selection,\n      kill\n    });\n    const Response = { create: create$4 };\n\n    const selectNode = (win, element) => {\n      const rng = win.document.createRange();\n      rng.selectNode(element.dom);\n      return rng;\n    };\n    const selectNodeContents = (win, element) => {\n      const rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    const selectNodeContentsUsing = (rng, element) => rng.selectNodeContents(element.dom);\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const create$2 = (start, soffset, finish, foffset) => {\n      return {\n        start: Situ.on(start, soffset),\n        finish: Situ.on(finish, foffset)\n      };\n    };\n    const Situs = { create: create$2 };\n\n    const convertToRange = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n    };\n    const makeSitus = Situs.create;\n\n    const sync = (container, isRoot, start, soffset, finish, foffset, selectRange) => {\n      if (!(eq$1(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(s => {\n          return closest$1(finish, 'td,th', isRoot).bind(f => {\n            return detect(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const detect = (container, isRoot, start, finish, selectRange) => {\n      if (!eq$1(start, finish)) {\n        return identify(start, finish, isRoot).bind(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          if (boxes.length > 1) {\n            selectRange(container, boxes, cellSel.start, cellSel.finish);\n            return Optional.some(Response.create(Optional.some(makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Optional.none();\n          }\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const update = (rows, columns, container, selected, annotations) => {\n      const updateSelection = newSels => {\n        annotations.clearBeforeUpdate(container);\n        annotations.selectRange(container, newSels.boxes, newSels.start, newSels.finish);\n        return newSels.boxes;\n      };\n      return shiftSelection(selected, rows, columns, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(updateSelection);\n    };\n\n    const traverse = (item, mode) => ({\n      item,\n      mode\n    });\n    const backtrack = (universe, item, _direction, transition = sidestep) => {\n      return universe.property().parent(item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const sidestep = (universe, item, direction, transition = advance) => {\n      return direction.sibling(universe, item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const advance = (universe, item, direction, transition = advance) => {\n      const children = universe.property().children(item);\n      const result = direction.first(children);\n      return result.map(r => {\n        return traverse(r, transition);\n      });\n    };\n    const successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Optional.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Optional.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Optional.some(sidestep)\n      }\n    ];\n    const go = (universe, item, mode, direction, rules = successors) => {\n      const ruleOpt = find$1(rules, succ => {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(rule => {\n        return rule.current(universe, item, direction, rule.next).orThunk(() => {\n          return rule.fallback.bind(fb => {\n            return go(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    const left$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().prevSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[children.length - 1]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const right$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().nextSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[0]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const Walkers = {\n      left: left$1,\n      right: right$1\n    };\n\n    const hone = (universe, item, predicate, mode, direction, isRoot) => {\n      const next = go(universe, item, mode, direction);\n      return next.bind(n => {\n        if (isRoot(n.item)) {\n          return Optional.none();\n        } else {\n          return predicate(n.item) ? Optional.some(n.item) : hone(universe, n.item, predicate, n.mode, direction, isRoot);\n        }\n      });\n    };\n    const left = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    const right = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    const isLeaf = universe => element => universe.property().children(element).length === 0;\n    const before$1 = (universe, item, isRoot) => {\n      return seekLeft$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const after$2 = (universe, item, isRoot) => {\n      return seekRight$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const seekLeft$1 = left;\n    const seekRight$1 = right;\n\n    const universe = DomUniverse();\n    const before = (element, isRoot) => {\n      return before$1(universe, element, isRoot);\n    };\n    const after$1 = (element, isRoot) => {\n      return after$2(universe, element, isRoot);\n    };\n    const seekLeft = (element, predicate, isRoot) => {\n      return seekLeft$1(universe, element, predicate, isRoot);\n    };\n    const seekRight = (element, predicate, isRoot) => {\n      return seekRight$1(universe, element, predicate, isRoot);\n    };\n\n    const ancestor = (scope, predicate, isRoot) => ancestor$2(scope, predicate, isRoot).isSome();\n\n    const adt$2 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    const isOverlapping = (bridge, before, after) => {\n      const beforeBounds = bridge.getRect(before);\n      const afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    const isRow = elem => {\n      return closest$1(elem, 'tr');\n    };\n    const verify = (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) => {\n      return closest$1(after, 'td,th', isRoot).bind(afterCell => {\n        return closest$1(before, 'td,th', isRoot).map(beforeCell => {\n          if (!eq$1(afterCell, beforeCell)) {\n            return sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(() => {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$2.success() : failure(beforeCell);\n            }, _sharedRow => {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq$1(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$2.none('in same cell');\n          }\n        });\n      }).getOr(adt$2.none('default'));\n    };\n    const cata = (subject, onNone, onSuccess, onFailedUp, onFailedDown) => {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    const BeforeAfter = {\n      ...adt$2,\n      verify,\n      cata\n    };\n\n    const inParent = (parent, children, element, index) => ({\n      parent,\n      children,\n      element,\n      index\n    });\n    const indexInParent = element => parent(element).bind(parent => {\n      const children = children$2(parent);\n      return indexOf(children, element).map(index => inParent(parent, children, element, index));\n    });\n    const indexOf = (elements, element) => findIndex(elements, curry(eq$1, element));\n\n    const isBr = isTag('br');\n    const gatherer = (cand, gather, isRoot) => {\n      return gather(cand, isRoot).bind(target => {\n        return isText(target) && get$6(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Optional.some(target);\n      });\n    };\n    const handleBr = (isRoot, element, direction) => {\n      return direction.traverse(element).orThunk(() => {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    const findBr = (element, offset) => {\n      return child$2(element, offset).filter(isBr).orThunk(() => {\n        return child$2(element, offset - 1).filter(isBr);\n      });\n    };\n    const handleParent = (isRoot, element, offset, direction) => {\n      return findBr(element, offset).bind(br => {\n        return direction.traverse(br).fold(() => {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, adjacent => {\n          return indexInParent(adjacent).map(info => {\n            return Situ.on(info.parent, info.index);\n          });\n        });\n      });\n    };\n    const tryBr = (isRoot, element, offset, direction) => {\n      const target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(tgt => {\n        return {\n          start: tgt,\n          finish: tgt\n        };\n      });\n    };\n    const process = analysis => {\n      return BeforeAfter.cata(analysis, _message => {\n        return Optional.none();\n      }, () => {\n        return Optional.none();\n      }, cell => {\n        return Optional.some(point(cell, 0));\n      }, cell => {\n        return Optional.some(point(cell, getEnd(cell)));\n      });\n    };\n\n    const moveDown = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top + amount,\n        right: caret.right,\n        bottom: caret.bottom + amount\n      };\n    };\n    const moveUp = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top - amount,\n        right: caret.right,\n        bottom: caret.bottom - amount\n      };\n    };\n    const translate = (caret, xDelta, yDelta) => {\n      return {\n        left: caret.left + xDelta,\n        top: caret.top + yDelta,\n        right: caret.right + xDelta,\n        bottom: caret.bottom + yDelta\n      };\n    };\n    const getTop = caret => {\n      return caret.top;\n    };\n    const getBottom = caret => {\n      return caret.bottom;\n    };\n\n    const getPartialBox = (bridge, element, offset) => {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Optional.none();\n    };\n    const toCaret = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom\n    });\n    const getElemBox = (bridge, element) => {\n      return Optional.some(bridge.getRect(element));\n    };\n    const getBoxAt = (bridge, element, offset) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n    const getEntireBox = (bridge, element) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const JUMP_SIZE = 5;\n    const NUM_RETRIES = 100;\n    const adt$1 = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    const isOutside = (caret, box) => {\n      return caret.left < box.left || Math.abs(box.right - caret.left) < 1 || caret.left > box.right;\n    };\n    const inOutsideBlock = (bridge, element, caret) => {\n      return closest$2(element, isBlock).fold(never, cell => {\n        return getEntireBox(bridge, cell).exists(box => {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    const adjustDown = (bridge, element, guessBox, original, caret) => {\n      const lowerCaret = moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom - original.bottom) < 1) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top > caret.bottom) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top === caret.bottom) {\n        return adt$1.retry(moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(lowerCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const adjustUp = (bridge, element, guessBox, original, caret) => {\n      const higherCaret = moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top - original.top) < 1) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom < caret.top) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom === caret.top) {\n        return adt$1.retry(moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(higherCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const upMovement = {\n      point: getTop,\n      adjuster: adjustUp,\n      move: moveUp,\n      gather: before\n    };\n    const downMovement = {\n      point: getBottom,\n      adjuster: adjustDown,\n      move: moveDown,\n      gather: after$1\n    };\n    const isAtTable = (bridge, x, y) => {\n      return bridge.elementFromPoint(x, y).filter(elm => {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    const adjustForTable = (bridge, movement, original, caret, numRetries) => {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    const adjustTil = (bridge, movement, original, caret, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.some(caret);\n      }\n      if (isAtTable(bridge, caret.left, movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left, movement.point(caret)).bind(guess => {\n        return guess.start.fold(Optional.none, element => {\n          return getEntireBox(bridge, element).bind(guessBox => {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Optional.none, newCaret => {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(() => {\n            return Optional.some(caret);\n          });\n        }, Optional.none);\n      });\n    };\n    const checkScroll = (movement, adjusted, bridge) => {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Optional.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Optional.some(-movement.point(adjusted));\n      } else {\n        return Optional.none();\n      }\n    };\n    const retry = (movement, bridge, caret) => {\n      const moved = movement.move(caret, JUMP_SIZE);\n      const adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(() => {\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted));\n      }, delta => {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted) - delta);\n      });\n    };\n    const Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    const MAX_RETRIES = 20;\n    const findSpot = (bridge, isRoot, direction) => {\n      return bridge.getSelection().bind(sel => {\n        return tryBr(isRoot, sel.finish, sel.foffset, direction).fold(() => {\n          return Optional.some(point(sel.finish, sel.foffset));\n        }, brNeighbour => {\n          const range = bridge.fromSitus(brNeighbour);\n          const analysis = BeforeAfter.verify(bridge, sel.finish, sel.foffset, range.finish, range.foffset, direction.failure, isRoot);\n          return process(analysis);\n        });\n      });\n    };\n    const scan = (bridge, isRoot, element, offset, direction, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(situs => {\n        const range = bridge.fromSitus(situs);\n        const analysis = BeforeAfter.verify(bridge, element, offset, range.finish, range.foffset, direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, () => {\n          return Optional.none();\n        }, () => {\n          return Optional.some(situs);\n        }, cell => {\n          if (eq$1(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, cell => {\n          if (eq$1(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    const tryAgain = (bridge, element, offset, move, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    const tryAt = (bridge, direction, box) => {\n      const browser = detect$2().browser;\n      if (browser.isChromium() || browser.isSafari() || browser.isFirefox()) {\n        return direction.retry(bridge, box);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryCursor = (bridge, isRoot, element, offset, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    const handle$1 = (bridge, isRoot, direction) => {\n      return findSpot(bridge, isRoot, direction).bind(spot => {\n        return scan(bridge, isRoot, spot.element, spot.offset, direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n\n    const inSameTable = (elem, table) => {\n      return ancestor(elem, e => {\n        return parent(e).exists(p => {\n          return eq$1(p, table);\n        });\n      });\n    };\n    const simulate = (bridge, isRoot, direction, initial, anchor) => {\n      return closest$1(initial, 'td,th', isRoot).bind(start => {\n        return closest$1(start, 'table', isRoot).bind(table => {\n          if (!inSameTable(anchor, table)) {\n            return Optional.none();\n          }\n          return handle$1(bridge, isRoot, direction).bind(range => {\n            return closest$1(range.finish, 'td,th', isRoot).map(finish => {\n              return {\n                start,\n                finish,\n                range\n              };\n            });\n          });\n        });\n      });\n    };\n    const navigate = (bridge, isRoot, direction, initial, anchor, precheck) => {\n      return precheck(initial, isRoot).orThunk(() => {\n        return simulate(bridge, isRoot, direction, initial, anchor).map(info => {\n          const range = info.range;\n          return Response.create(Optional.some(makeSitus(range.start, range.soffset, range.finish, range.foffset)), true);\n        });\n      });\n    };\n    const firstUpCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[0])) {\n            return seekLeft(table, element => {\n              return last$1(element).isSome();\n            }, isRoot).map(last => {\n              const lastOffset = getEnd(last);\n              return Response.create(Optional.some(makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const lastDownCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[rows.length - 1])) {\n            return seekRight(table, element => {\n              return first(element).isSome();\n            }, isRoot).map(first => {\n              return Response.create(Optional.some(makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const select = (bridge, container, isRoot, direction, initial, anchor, selectRange) => {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(info => {\n        return detect(container, isRoot, info.start, info.finish, selectRange);\n      });\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const findCell = (target, isRoot) => closest$1(target, 'td,th', isRoot);\n    const isInEditableContext = cell => parentElement(cell).exists(isEditable$1);\n    const MouseSelection = (bridge, container, isRoot, annotations) => {\n      const cursor = value();\n      const clearstate = cursor.clear;\n      const applySelection = event => {\n        cursor.on(start => {\n          annotations.clearBeforeUpdate(container);\n          findCell(event.target, isRoot).each(finish => {\n            identify(start, finish, isRoot).each(cellSel => {\n              const boxes = cellSel.boxes.getOr([]);\n              if (boxes.length === 1) {\n                const singleCell = boxes[0];\n                const isNonEditableCell = getRaw(singleCell) === 'false';\n                const isCellClosestContentEditable = is(closest(event.target), singleCell, eq$1);\n                if (isNonEditableCell && isCellClosestContentEditable) {\n                  annotations.selectRange(container, boxes, singleCell, singleCell);\n                  bridge.selectContents(singleCell);\n                }\n              } else if (boxes.length > 1) {\n                annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      const mousedown = event => {\n        annotations.clear(container);\n        findCell(event.target, isRoot).filter(isInEditableContext).each(cursor.set);\n      };\n      const mouseover = event => {\n        applySelection(event);\n      };\n      const mouseup = event => {\n        applySelection(event);\n        clearstate();\n      };\n      return {\n        clearstate,\n        mousedown,\n        mouseover,\n        mouseup\n      };\n    };\n\n    const down = {\n      traverse: nextSibling,\n      gather: after$1,\n      relative: Situ.before,\n      retry: Retries.tryDown,\n      failure: BeforeAfter.failedDown\n    };\n    const up = {\n      traverse: prevSibling,\n      gather: before,\n      relative: Situ.before,\n      retry: Retries.tryUp,\n      failure: BeforeAfter.failedUp\n    };\n\n    const isKey = key => {\n      return keycode => {\n        return keycode === key;\n      };\n    };\n    const isUp = isKey(38);\n    const isDown = isKey(40);\n    const isNavigation = keycode => {\n      return keycode >= 37 && keycode <= 40;\n    };\n    const ltr = {\n      isBackward: isKey(37),\n      isForward: isKey(39)\n    };\n    const rtl = {\n      isBackward: isKey(39),\n      isForward: isKey(37)\n    };\n\n    const get$3 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const by = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollBy(x, y);\n      }\n    };\n\n    const adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt.domRange;\n    const relative = adt.relative;\n    const exact = adt.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq$1(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const doSetNativeRange = (win, rng) => {\n      getNativeSelection(win).each(selection => {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    const doSetRange = (win, start, soffset, finish, foffset) => {\n      const rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    const setLegacyRtlRange = (win, selection, start, soffset, finish, foffset) => {\n      selection.collapse(start.dom, soffset);\n      selection.extend(finish.dom, foffset);\n    };\n    const setRangeFromRelative = (win, relative) => diagnose(win, relative).match({\n      ltr: (start, soffset, finish, foffset) => {\n        doSetRange(win, start, soffset, finish, foffset);\n      },\n      rtl: (start, soffset, finish, foffset) => {\n        getNativeSelection(win).each(selection => {\n          if (selection.setBaseAndExtent) {\n            selection.setBaseAndExtent(start.dom, soffset, finish.dom, foffset);\n          } else if (selection.extend) {\n            try {\n              setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n            } catch (e) {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          } else {\n            doSetRange(win, finish, foffset, start, soffset);\n          }\n        });\n      }\n    });\n    const setExact = (win, start, soffset, finish, foffset) => {\n      const relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    const setRelative = (win, startSitu, finishSitu) => {\n      const relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const setToElement = (win, element, selectNodeContents$1 = true) => {\n      const rngGetter = selectNodeContents$1 ? selectNodeContents : selectNode;\n      const rng = rngGetter(win, element);\n      doSetNativeRange(win, rng);\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const get$2 = win => getExact(win).map(range => SimSelection.exact(range.start, range.soffset, range.finish, range.foffset));\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getAtPoint = (win, x, y) => fromPoint(win, x, y);\n    const clear = win => {\n      getNativeSelection(win).each(selection => selection.removeAllRanges());\n    };\n\n    const WindowBridge = win => {\n      const elementFromPoint = (x, y) => {\n        return SugarElement.fromPoint(SugarElement.fromDom(win.document), x, y);\n      };\n      const getRect = element => {\n        return element.dom.getBoundingClientRect();\n      };\n      const getRangedRect = (start, soffset, finish, foffset) => {\n        const sel = SimSelection.exact(start, soffset, finish, foffset);\n        return getFirstRect(win, sel);\n      };\n      const getSelection = () => {\n        return get$2(win).map(exactAdt => {\n          return convertToRange(win, exactAdt);\n        });\n      };\n      const fromSitus = situs => {\n        const relative = SimSelection.relative(situs.start, situs.finish);\n        return convertToRange(win, relative);\n      };\n      const situsFromPoint = (x, y) => {\n        return getAtPoint(win, x, y).map(exact => {\n          return Situs.create(exact.start, exact.soffset, exact.finish, exact.foffset);\n        });\n      };\n      const clearSelection = () => {\n        clear(win);\n      };\n      const collapseSelection = (toStart = false) => {\n        get$2(win).each(sel => sel.fold(rng => rng.collapse(toStart), (startSitu, finishSitu) => {\n          const situ = toStart ? startSitu : finishSitu;\n          setRelative(win, situ, situ);\n        }, (start, soffset, finish, foffset) => {\n          const node = toStart ? start : finish;\n          const offset = toStart ? soffset : foffset;\n          setExact(win, node, offset, node, offset);\n        }));\n      };\n      const selectNode = element => {\n        setToElement(win, element, false);\n      };\n      const selectContents = element => {\n        setToElement(win, element);\n      };\n      const setSelection = sel => {\n        setExact(win, sel.start, sel.soffset, sel.finish, sel.foffset);\n      };\n      const setRelativeSelection = (start, finish) => {\n        setRelative(win, start, finish);\n      };\n      const getInnerHeight = () => {\n        return win.innerHeight;\n      };\n      const getScrollY = () => {\n        const pos = get$3(SugarElement.fromDom(win.document));\n        return pos.top;\n      };\n      const scrollBy = (x, y) => {\n        by(x, y, SugarElement.fromDom(win.document));\n      };\n      return {\n        elementFromPoint,\n        getRect,\n        getRangedRect,\n        getSelection,\n        fromSitus,\n        situsFromPoint,\n        clearSelection,\n        collapseSelection,\n        setSelection,\n        setRelativeSelection,\n        selectNode,\n        selectContents,\n        getInnerHeight,\n        getScrollY,\n        scrollBy\n      };\n    };\n\n    const rc = (rows, cols) => ({\n      rows,\n      cols\n    });\n    const mouse = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        clearstate: handlers.clearstate,\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    const isEditableNode = node => closest$2(node, isHTMLElement).exists(isEditable$1);\n    const isEditableSelection = (start, finish) => isEditableNode(start) || isEditableNode(finish);\n    const keyboard = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const clearToNavigate = () => {\n        annotations.clear(container);\n        return Optional.none();\n      };\n      const keydown = (event, start, soffset, finish, foffset, direction) => {\n        const realEvent = event.raw;\n        const keycode = realEvent.which;\n        const shiftKey = realEvent.shiftKey === true;\n        const handler = retrieve$1(container, annotations.selectedSelector).fold(() => {\n          if (isNavigation(keycode) && !shiftKey) {\n            annotations.clearBeforeUpdate(container);\n          }\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, down, finish, start, annotations.selectRange);\n          } else if (isUp(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, up, finish, start, annotations.selectRange);\n          } else if (isDown(keycode)) {\n            return curry(navigate, bridge, isRoot, down, finish, start, lastDownCheck);\n          } else if (isUp(keycode)) {\n            return curry(navigate, bridge, isRoot, up, finish, start, firstUpCheck);\n          } else {\n            return Optional.none;\n          }\n        }, selected => {\n          const update$1 = attempts => {\n            return () => {\n              const navigation = findMap(attempts, delta => {\n                return update(delta.rows, delta.cols, container, selected, annotations);\n              });\n              return navigation.fold(() => {\n                return getEdges(container, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(edges => {\n                  const relative = isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first, 0), relative(edges.table));\n                  annotations.clear(container);\n                  return Response.create(Optional.none(), true);\n                });\n              }, _ => {\n                return Optional.some(Response.create(Optional.none(), true));\n              });\n            };\n          };\n          if (isNavigation(keycode) && shiftKey && !isEditableSelection(start, finish)) {\n            return Optional.none;\n          } else if (isDown(keycode) && shiftKey) {\n            return update$1([rc(+1, 0)]);\n          } else if (isUp(keycode) && shiftKey) {\n            return update$1([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (isNavigation(keycode) && !shiftKey) {\n            return clearToNavigate;\n          } else {\n            return Optional.none;\n          }\n        });\n        return handler();\n      };\n      const keyup = (event, start, soffset, finish, foffset) => {\n        return retrieve$1(container, annotations.selectedSelector).fold(() => {\n          const realEvent = event.raw;\n          const keycode = realEvent.which;\n          const shiftKey = realEvent.shiftKey === true;\n          if (!shiftKey) {\n            return Optional.none();\n          }\n          if (isNavigation(keycode) && isEditableSelection(start, finish)) {\n            return sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Optional.none();\n          }\n        }, Optional.none);\n      };\n      return {\n        keydown,\n        keyup\n      };\n    };\n    const external = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      return (start, finish) => {\n        annotations.clearBeforeUpdate(container);\n        identify(start, finish, isRoot).each(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n          bridge.selectContents(finish);\n          bridge.collapseSelection();\n        });\n      };\n    };\n\n    const read = (element, attr) => {\n      const value = get$b(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$2 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$1 = element => read(element, 'class');\n    const add$1 = (element, clazz) => add$2(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$1(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const remove$1 = (element, classes) => {\n      each$2(classes, x => {\n        remove$2(element, x);\n      });\n    };\n\n    const addClass = clazz => element => {\n      add(element, clazz);\n    };\n    const removeClasses = classes => element => {\n      remove$1(element, classes);\n    };\n\n    const byClass = ephemera => {\n      const addSelectionClass = addClass(ephemera.selected);\n      const removeSelectionClasses = removeClasses([\n        ephemera.selected,\n        ephemera.lastSelected,\n        ephemera.firstSelected\n      ]);\n      const clear = container => {\n        const sels = descendants(container, ephemera.selectedSelector);\n        each$2(sels, removeSelectionClasses);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionClass);\n        add(start, ephemera.firstSelected);\n        add(finish, ephemera.lastSelected);\n      };\n      return {\n        clearBeforeUpdate: clear,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const byAttr = (ephemera, onSelection, onClear) => {\n      const removeSelectionAttributes = element => {\n        remove$7(element, ephemera.selected);\n        remove$7(element, ephemera.firstSelected);\n        remove$7(element, ephemera.lastSelected);\n      };\n      const addSelectionAttribute = element => {\n        set$2(element, ephemera.selected, '1');\n      };\n      const clear = container => {\n        clearBeforeUpdate(container);\n        onClear();\n      };\n      const clearBeforeUpdate = container => {\n        const sels = descendants(container, `${ ephemera.selectedSelector },${ ephemera.firstSelectedSelector },${ ephemera.lastSelectedSelector }`);\n        each$2(sels, removeSelectionAttributes);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionAttribute);\n        set$2(start, ephemera.firstSelected, '1');\n        set$2(finish, ephemera.lastSelected, '1');\n        onSelection(cells, start, finish);\n      };\n      return {\n        clearBeforeUpdate,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const SelectionAnnotation = {\n      byClass,\n      byAttr\n    };\n\n    const fold = (subject, onNone, onMultiple, onSingle) => {\n      switch (subject.tag) {\n      case 'none':\n        return onNone();\n      case 'single':\n        return onSingle(subject.element);\n      case 'multiple':\n        return onMultiple(subject.elements);\n      }\n    };\n    const none = () => ({ tag: 'none' });\n    const multiple = elements => ({\n      tag: 'multiple',\n      elements\n    });\n    const single = element => ({\n      tag: 'single',\n      element\n    });\n\n    const Selections = (lazyRoot, getStart, selectedSelector) => {\n      const get = () => retrieve(lazyRoot(), selectedSelector).fold(() => getStart().fold(none, single), multiple);\n      return { get };\n    };\n\n    const getUpOrLeftCells = (grid, selectedCells) => {\n      const upGrid = grid.slice(0, selectedCells[selectedCells.length - 1].row + 1);\n      const upDetails = toDetailList(upGrid);\n      return bind$2(upDetails, detail => {\n        const slicedCells = detail.cells.slice(0, selectedCells[selectedCells.length - 1].column + 1);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getDownOrRightCells = (grid, selectedCells) => {\n      const downGrid = grid.slice(selectedCells[0].row + selectedCells[0].rowspan - 1, grid.length);\n      const downDetails = toDetailList(downGrid);\n      return bind$2(downDetails, detail => {\n        const slicedCells = detail.cells.slice(selectedCells[0].column + selectedCells[0].colspan - 1, detail.cells.length);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getOtherCells = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.map(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const {rows} = extractGridDetails(grid);\n        const upOrLeftCells = getUpOrLeftCells(rows, selectedCells);\n        const downOrRightCells = getDownOrRightCells(rows, selectedCells);\n        return {\n          upOrLeftCells,\n          downOrRightCells\n        };\n      });\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$1 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const hasInternalTarget = e => !has(SugarElement.fromDom(e.target), 'ephox-snooker-resizer-bar');\n    const TableCellSelectionHandler = (editor, resizeHandler) => {\n      const cellSelection = Selections(() => SugarElement.fromDom(editor.getBody()), () => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)), ephemera.selectedSelector);\n      const onSelection = (cells, start, finish) => {\n        const tableOpt = table(start);\n        tableOpt.each(table => {\n          const cellsDom = map$1(cells, cell => cell.dom);\n          const cloneFormats = getTableCloneElements(editor);\n          const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), cloneFormats);\n          const selectedCells = getCellsFromSelection(editor);\n          const otherCellsDom = getOtherCells(table, { selection: selectedCells }, generators).map(otherCells => map(otherCells, cellArr => map$1(cellArr, cell => cell.dom))).getOrUndefined();\n          fireTableSelectionChange(editor, cellsDom, start.dom, finish.dom, otherCellsDom);\n        });\n      };\n      const onClear = () => fireTableSelectionClear(editor);\n      const annotations = SelectionAnnotation.byAttr(ephemera, onSelection, onClear);\n      editor.on('init', _e => {\n        const win = editor.getWin();\n        const body = getBody(editor);\n        const isRoot = getIsRoot(editor);\n        const syncSelection = () => {\n          const sel = editor.selection;\n          const start = SugarElement.fromDom(sel.getStart());\n          const end = SugarElement.fromDom(sel.getEnd());\n          const shared = sharedOne(table, [\n            start,\n            end\n          ]);\n          shared.fold(() => annotations.clear(body), noop);\n        };\n        const mouseHandlers = mouse(win, body, isRoot, annotations);\n        const keyHandlers = keyboard(win, body, isRoot, annotations);\n        const external$1 = external(win, body, isRoot, annotations);\n        const hasShiftKey = event => event.raw.shiftKey === true;\n        editor.on('TableSelectorChange', e => external$1(e.start, e.finish));\n        const handleResponse = (event, response) => {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill) {\n            event.kill();\n          }\n          response.selection.each(ns => {\n            const relative = SimSelection.relative(ns.start, ns.finish);\n            const rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        const keyup = event => {\n          const wrappedEvent = fromRawEvent(event);\n          if (wrappedEvent.raw.shiftKey && isNavigation(wrappedEvent.raw.which)) {\n            const rng = editor.selection.getRng();\n            const start = SugarElement.fromDom(rng.startContainer);\n            const end = SugarElement.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(response => {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        const keydown = event => {\n          const wrappedEvent = fromRawEvent(event);\n          resizeHandler.hide();\n          const rng = editor.selection.getRng();\n          const start = SugarElement.fromDom(rng.startContainer);\n          const end = SugarElement.fromDom(rng.endContainer);\n          const direction = onDirection(ltr, rtl)(SugarElement.fromDom(editor.selection.getStart()));\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(response => {\n            handleResponse(wrappedEvent, response);\n          });\n          resizeHandler.show();\n        };\n        const isLeftMouse = raw => raw.button === 0;\n        const isLeftButtonPressed = raw => {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        const dragStart = _e => {\n          mouseHandlers.clearstate();\n        };\n        const mouseDown = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(fromRawEvent(e));\n          }\n        };\n        const mouseOver = e => {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(fromRawEvent(e));\n          }\n        };\n        const mouseUp = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(fromRawEvent(e));\n          }\n        };\n        const getDoubleTap = () => {\n          const lastTarget = Cell(SugarElement.fromDom(body));\n          const lastTimeStamp = Cell(0);\n          const touchEnd = t => {\n            const target = SugarElement.fromDom(t.target);\n            if (isTag('td')(target) || isTag('th')(target)) {\n              const lT = lastTarget.get();\n              const lTS = lastTimeStamp.get();\n              if (eq$1(lT, target) && t.timeStamp - lTS < 300) {\n                t.preventDefault();\n                external$1(target, target);\n              }\n            }\n            lastTarget.set(target);\n            lastTimeStamp.set(t.timeStamp);\n          };\n          return { touchEnd };\n        };\n        const doubleTap = getDoubleTap();\n        editor.on('dragstart', dragStart);\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('touchend', doubleTap.touchEnd);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('NodeChange', syncSelection);\n      });\n      editor.on('PreInit', () => {\n        editor.serializer.addTempAttr(ephemera.firstSelected);\n        editor.serializer.addTempAttr(ephemera.lastSelected);\n      });\n      const clearSelectedCells = container => annotations.clear(SugarElement.fromDom(container));\n      const getSelectedCells = () => fold(cellSelection.get(), constant([]), cells => {\n        return map$1(cells, cell => cell.dom);\n      }, cell => [cell.dom]);\n      return {\n        getSelectedCells,\n        clearSelectedCells\n      };\n    };\n\n    const Event = fields => {\n      let handlers = [];\n      const bind = handler => {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      const unbind = handler => {\n        handlers = filter$2(handlers, h => {\n          return h !== handler;\n        });\n      };\n      const trigger = (...args) => {\n        const event = {};\n        each$2(fields, (name, i) => {\n          event[name] = args[i];\n        });\n        each$2(handlers, handler => {\n          handler(event);\n        });\n      };\n      return {\n        bind,\n        unbind,\n        trigger\n      };\n    };\n\n    const create$1 = typeDefs => {\n      const registry = map(typeDefs, event => {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      const trigger = map(typeDefs, event => {\n        return event.trigger;\n      });\n      return {\n        registry,\n        trigger\n      };\n    };\n\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const sort = arr => {\n      return arr.slice(0).sort();\n    };\n    const reqMessage = (required, keys) => {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    const unsuppMessage = unsupported => {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    const validateStrArr = (label, array) => {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each$2(array, a => {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    const invalidTypeMessage = (incorrect, type) => {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    const checkDupes = everything => {\n      const sorted = sort(everything);\n      const dupe = find$1(sorted, (s, i) => {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(d => {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    const base = (handleUnsupported, required) => {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    const baseWith = (handleUnsupported, required, pred) => {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return obj => {\n        const keys$1 = keys(obj);\n        const allReqd = forall(required, req => {\n          return contains$2(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        const invalidKeys = filter$2(required, key => {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    const handleExact = (required, keys) => {\n      const unsupported = filter$2(keys, key => {\n        return !contains$2(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    const exactly = required => base(handleExact, required);\n\n    const DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    const DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    const DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    const InDrag = () => {\n      let previous = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n      };\n      const update = (mode, nu) => {\n        const result = previous.map(old => {\n          return mode.compare(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      const onEvent = (event, mode) => {\n        const dataOption = mode.extract(event);\n        dataOption.each(data => {\n          const offset = update(mode, data);\n          offset.each(d => {\n            events.trigger.move(d);\n          });\n        });\n      };\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent,\n        reset,\n        events: events.registry\n      };\n    };\n\n    const NoDrag = () => {\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent: noop,\n        reset: noop,\n        events: events.registry\n      };\n    };\n\n    const Movement = () => {\n      const noDragState = NoDrag();\n      const inDragState = InDrag();\n      let dragState = noDragState;\n      const on = () => {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      const off = () => {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      const onEvent = (event, mode) => {\n        dragState.onEvent(event, mode);\n      };\n      const isOn = () => {\n        return dragState === inDragState;\n      };\n      return {\n        on,\n        off,\n        isOn,\n        onEvent,\n        events: inDragState.events\n      };\n    };\n\n    const setup = (mutation, mode, settings) => {\n      let active = false;\n      const events = create$1({\n        start: Event([]),\n        stop: Event([])\n      });\n      const movement = Movement();\n      const drop = () => {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      const throttledDrop = last(drop, 200);\n      const go = parent => {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      const mousemove = event => {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(event => {\n        mode.mutate(mutation, event.info);\n      });\n      const on = () => {\n        active = true;\n      };\n      const off = () => {\n        active = false;\n      };\n      const isActive = () => active;\n      const runIfActive = f => {\n        return (...args) => {\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      const sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      const destroy = () => {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go,\n        on,\n        off,\n        isActive,\n        destroy,\n        events: events.registry\n      };\n    };\n\n    const css = namespace => {\n      const dashNamespace = namespace.replace(/\\./g, '-');\n      const resolve = str => {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve };\n    };\n\n    const styles$1 = css('ephox-dragster');\n    const resolve$1 = styles$1.resolve;\n\n    const Blocker = options => {\n      const settings = {\n        layerClass: resolve$1('blocker'),\n        ...options\n      };\n      const div = SugarElement.fromTag('div');\n      set$2(div, 'role', 'presentation');\n      setAll(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add(div, resolve$1('blocker'));\n      add(div, settings.layerClass);\n      const element = constant(div);\n      const destroy = () => {\n        remove$6(div);\n      };\n      return {\n        element,\n        destroy\n      };\n    };\n\n    const compare = (old, nu) => {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n    const extract = event => {\n      return Optional.some(SugarPosition(event.x, event.y));\n    };\n    const mutate = (mutation, info) => {\n      mutation.mutate(info.left, info.top);\n    };\n    const sink = (dragApi, settings) => {\n      const blocker = Blocker(settings);\n      const mdown = bind(blocker.element(), 'mousedown', dragApi.forceDrop);\n      const mup = bind(blocker.element(), 'mouseup', dragApi.drop);\n      const mmove = bind(blocker.element(), 'mousemove', dragApi.move);\n      const mout = bind(blocker.element(), 'mouseout', dragApi.delayDrop);\n      const destroy = () => {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      const start = parent => {\n        append$1(parent, blocker.element());\n      };\n      const stop = () => {\n        remove$6(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start,\n        stop,\n        destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare,\n      extract,\n      sink,\n      mutate\n    });\n\n    const transform = (mutation, settings = {}) => {\n      var _a;\n      const mode = (_a = settings.mode) !== null && _a !== void 0 ? _a : MouseDrag;\n      return setup(mutation, mode, settings);\n    };\n\n    const styles = css('ephox-snooker');\n    const resolve = styles.resolve;\n\n    const Mutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      const mutate = (x, y) => {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate,\n        events: events.registry\n      };\n    };\n\n    const BarMutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      let target = Optional.none();\n      const delegate = Mutation();\n      delegate.events.drag.bind(event => {\n        target.each(t => {\n          events.trigger.drag(event.xDelta, event.yDelta, t);\n        });\n      });\n      const assign = t => {\n        target = Optional.some(t);\n      };\n      const get = () => {\n        return target;\n      };\n      return {\n        assign,\n        get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    const col = (column, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n    const row = (r, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n\n    const resizeBar = resolve('resizer-bar');\n    const resizeRowBar = resolve('resizer-rows');\n    const resizeColBar = resolve('resizer-cols');\n    const BAR_THICKNESS = 7;\n    const resizableRows = (warehouse, isResizable) => bind$2(warehouse.all, (row, i) => isResizable(row.element) ? [i] : []);\n    const resizableColumns = (warehouse, isResizable) => {\n      const resizableCols = [];\n      range$1(warehouse.grid.columns, index => {\n        const colElmOpt = Warehouse.getColumnAt(warehouse, index).map(col => col.element);\n        if (colElmOpt.forall(isResizable)) {\n          resizableCols.push(index);\n        }\n      });\n      return filter$2(resizableCols, colIndex => {\n        const columnCells = Warehouse.filterItems(warehouse, cell => cell.column === colIndex);\n        return forall(columnCells, cell => isResizable(cell.element));\n      });\n    };\n    const destroy = wire => {\n      const previous = descendants(wire.parent(), '.' + resizeBar);\n      each$2(previous, remove$6);\n    };\n    const drawBar = (wire, positions, create) => {\n      const origin = wire.origin();\n      each$2(positions, cpOption => {\n        cpOption.each(cp => {\n          const bar = create(origin, cp);\n          add(bar, resizeBar);\n          append$1(wire.parent(), bar);\n        });\n      });\n    };\n    const refreshCol = (wire, colPositions, position, tableHeight) => {\n      drawBar(wire, colPositions, (origin, cp) => {\n        const colBar = col(cp.col, cp.x - origin.left, position.top - origin.top, BAR_THICKNESS, tableHeight);\n        add(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    const refreshRow = (wire, rowPositions, position, tableWidth) => {\n      drawBar(wire, rowPositions, (origin, cp) => {\n        const rowBar = row(cp.row, position.left - origin.left, cp.y - origin.top, tableWidth, BAR_THICKNESS);\n        add(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    const refreshGrid = (warhouse, wire, table, rows, cols) => {\n      const position = absolute(table);\n      const isResizable = wire.isResizable;\n      const rowPositions = rows.length > 0 ? height.positions(rows, table) : [];\n      const resizableRowBars = rowPositions.length > 0 ? resizableRows(warhouse, isResizable) : [];\n      const resizableRowPositions = filter$2(rowPositions, (_pos, i) => exists(resizableRowBars, barIndex => i === barIndex));\n      refreshRow(wire, resizableRowPositions, position, getOuter$2(table));\n      const colPositions = cols.length > 0 ? width.positions(cols, table) : [];\n      const resizableColBars = colPositions.length > 0 ? resizableColumns(warhouse, isResizable) : [];\n      const resizableColPositions = filter$2(colPositions, (_pos, i) => exists(resizableColBars, barIndex => i === barIndex));\n      refreshCol(wire, resizableColPositions, position, getOuter$1(table));\n    };\n    const refresh = (wire, table) => {\n      destroy(wire);\n      if (wire.isResizable(table)) {\n        const warehouse = Warehouse.fromTable(table);\n        const rows$1 = rows(warehouse);\n        const cols = columns(warehouse);\n        refreshGrid(warehouse, wire, table, rows$1, cols);\n      }\n    };\n    const each = (wire, f) => {\n      const bars = descendants(wire.parent(), '.' + resizeBar);\n      each$2(bars, f);\n    };\n    const hide = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    const show = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    const isRowBar = element => {\n      return has(element, resizeRowBar);\n    };\n    const isColBar = element => {\n      return has(element, resizeColBar);\n    };\n\n    const resizeBarDragging = resolve('resizer-bar-dragging');\n    const BarManager = wire => {\n      const mutation = BarMutation();\n      const resizing = transform(mutation, {});\n      let hoverTable = Optional.none();\n      const getResizer = (element, type) => {\n        return Optional.from(get$b(element, type));\n      };\n      mutation.events.drag.bind(event => {\n        getResizer(event.target, 'data-row').each(_dataRow => {\n          const currentRow = getCssValue(event.target, 'top');\n          set$1(event.target, 'top', currentRow + event.yDelta + 'px');\n        });\n        getResizer(event.target, 'data-column').each(_dataCol => {\n          const currentCol = getCssValue(event.target, 'left');\n          set$1(event.target, 'left', currentCol + event.xDelta + 'px');\n        });\n      });\n      const getDelta = (target, dir) => {\n        const newX = getCssValue(target, dir);\n        const oldX = getAttrValue(target, 'data-initial-' + dir, 0);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(() => {\n        mutation.get().each(target => {\n          hoverTable.each(table => {\n            getResizer(target, 'data-row').each(row => {\n              const delta = getDelta(target, 'top');\n              remove$7(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(column => {\n              const delta = getDelta(target, 'left');\n              remove$7(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            refresh(wire, table);\n          });\n        });\n      });\n      const handler = (target, dir) => {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set$2(target, 'data-initial-' + dir, getCssValue(target, dir));\n        add(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      const mousedown = bind(wire.parent(), 'mousedown', event => {\n        if (isRowBar(event.target)) {\n          handler(event.target, 'top');\n        }\n        if (isColBar(event.target)) {\n          handler(event.target, 'left');\n        }\n      });\n      const isRoot = e => {\n        return eq$1(e, wire.view());\n      };\n      const findClosestEditableTable = target => closest$1(target, 'table', isRoot).filter(isEditable$1);\n      const mouseover = bind(wire.view(), 'mouseover', event => {\n        findClosestEditableTable(event.target).fold(() => {\n          if (inBody(event.target)) {\n            destroy(wire);\n          }\n        }, table => {\n          if (resizing.isActive()) {\n            hoverTable = Optional.some(table);\n            refresh(wire, table);\n          }\n        });\n      });\n      const destroy$1 = () => {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        destroy(wire);\n      };\n      const refresh$1 = tbl => {\n        refresh(wire, tbl);\n      };\n      const events = create$1({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy$1,\n        refresh: refresh$1,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(hide, wire),\n        showBars: curry(show, wire),\n        events: events.registry\n      };\n    };\n\n    const create = (wire, resizing, lazySizing) => {\n      const hdirection = height;\n      const vdirection = width;\n      const manager = BarManager(wire);\n      const events = create$1({\n        beforeResize: Event([\n          'table',\n          'type'\n        ]),\n        afterResize: Event([\n          'table',\n          'type'\n        ]),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'row');\n        const delta = hdirection.delta(event.delta, table);\n        adjustHeight(table, delta, event.row);\n        events.trigger.afterResize(table, 'row');\n      });\n      manager.events.startAdjust.bind(_event => {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'col');\n        const delta = vdirection.delta(event.delta, table);\n        const tableSize = lazySizing(table);\n        adjustWidth(table, delta, event.column, resizing, tableSize);\n        events.trigger.afterResize(table, 'col');\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        refreshBars: manager.refresh,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    const TableResize = { create };\n\n    const only = (element, isResizable) => {\n      const parent = isDocument(element) ? documentElement(element) : element;\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const detached = (editable, chrome, isResizable) => {\n      const origin = () => absolute(chrome);\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin,\n        isResizable\n      };\n    };\n    const body = (editable, chrome, isResizable) => {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const ResizeWire = {\n      only,\n      detached,\n      body\n    };\n\n    const createContainer = () => {\n      const container = SugarElement.fromTag('div');\n      setAll(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append$1(body$1(), container);\n      return container;\n    };\n    const get = (editor, isResizable) => {\n      return editor.inline ? ResizeWire.body(SugarElement.fromDom(editor.getBody()), createContainer(), isResizable) : ResizeWire.only(SugarElement.fromDom(editor.getDoc()), isResizable);\n    };\n    const remove = (editor, wire) => {\n      if (editor.inline) {\n        remove$6(wire.parent());\n      }\n    };\n\n    const isTable = node => isNonNullable(node) && node.nodeName === 'TABLE';\n    const barResizerPrefix = 'bar-';\n    const isResizable = elm => get$b(elm, 'data-mce-resize') !== 'false';\n    const syncTableCellPixels = table => {\n      const warehouse = Warehouse.fromTable(table);\n      if (!Warehouse.hasColumns(warehouse)) {\n        each$2(cells$1(table), cell => {\n          const computedWidth = get$a(cell, 'width');\n          set$1(cell, 'width', computedWidth);\n          remove$7(cell, 'width');\n        });\n      }\n    };\n    const isCornerResize = origin => startsWith(origin, 'corner-');\n    const getCornerLocation = origin => removeLeading(origin, 'corner-');\n    const TableResizeHandler = editor => {\n      const selectionRng = value();\n      const tableResize = value();\n      const resizeWire = value();\n      let startW;\n      let startRawW;\n      let startH;\n      let startRawH;\n      const lazySizing = table => get$5(editor, table);\n      const lazyResizingBehaviour = () => isPreserveTableColumnResizing(editor) ? preserveTable() : resizeTable();\n      const getNumColumns = table => getGridSize(table).columns;\n      const getNumRows = table => getGridSize(table).rows;\n      const afterCornerResize = (table, origin, width, height) => {\n        const location = getCornerLocation(origin);\n        const isRightEdgeResize = endsWith(location, 'e');\n        const isNorthEdgeResize = startsWith(location, 'n');\n        if (startRawW === '') {\n          convertToPercentSizeWidth(table);\n        }\n        if (startRawH === '') {\n          convertToPixelSizeHeight(table);\n        }\n        if (width !== startW && startRawW !== '') {\n          set$1(table, 'width', startRawW);\n          const resizing = lazyResizingBehaviour();\n          const tableSize = lazySizing(table);\n          const col = isPreserveTableColumnResizing(editor) || isRightEdgeResize ? getNumColumns(table) - 1 : 0;\n          adjustWidth(table, width - startW, col, resizing, tableSize);\n        } else if (isPercentage$1(startRawW)) {\n          const percentW = parseFloat(startRawW.replace('%', ''));\n          const targetPercentW = width * percentW / startW;\n          set$1(table, 'width', targetPercentW + '%');\n        }\n        if (isPixel(startRawW)) {\n          syncTableCellPixels(table);\n        }\n        if (height !== startH && startRawH !== '') {\n          set$1(table, 'height', startRawH);\n          const idx = isNorthEdgeResize ? 0 : getNumRows(table) - 1;\n          adjustHeight(table, height - startH, idx);\n        }\n      };\n      const destroy = () => {\n        tableResize.on(sz => {\n          sz.destroy();\n        });\n        resizeWire.on(w => {\n          remove(editor, w);\n        });\n      };\n      editor.on('init', () => {\n        const rawWire = get(editor, isResizable);\n        resizeWire.set(rawWire);\n        if (hasTableObjectResizing(editor) && hasTableResizeBars(editor)) {\n          const resizing = lazyResizingBehaviour();\n          const sz = TableResize.create(rawWire, resizing, lazySizing);\n          sz.on();\n          sz.events.startDrag.bind(_event => {\n            selectionRng.set(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(event => {\n            const rawTable = event.table.dom;\n            fireObjectResizeStart(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n          });\n          sz.events.afterResize.bind(event => {\n            const table = event.table;\n            const rawTable = table.dom;\n            removeDataStyle(table);\n            selectionRng.on(rng => {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n            editor.undoManager.add();\n          });\n          tableResize.set(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          each$2(editor.dom.select('.mce-clonedresizable'), clone => {\n            editor.dom.addClass(clone, 'mce-' + getTableColumnResizingBehaviour(editor) + '-columns');\n          });\n          if (!isPixelSizing(table) && isTablePixelsForced(editor)) {\n            convertToPixelSizeWidth(table);\n          } else if (!isPercentSizing(table) && isTablePercentagesForced(editor)) {\n            convertToPercentSizeWidth(table);\n          }\n          if (isNoneSizing(table) && startsWith(e.origin, barResizerPrefix)) {\n            convertToPercentSizeWidth(table);\n          }\n          startW = e.width;\n          startRawW = isTableResponsiveForced(editor) ? '' : getRawWidth(editor, targetElm).getOr('');\n          startH = e.height;\n          startRawH = getRawHeight(editor, targetElm).getOr('');\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          const origin = e.origin;\n          if (isCornerResize(origin)) {\n            afterCornerResize(table, origin, e.width, e.height);\n          }\n          removeDataStyle(table);\n          fireTableModified(editor, table.dom, styleModified);\n        }\n      });\n      editor.on('SwitchMode', () => {\n        tableResize.on(resize => {\n          if (editor.mode.isReadOnly()) {\n            resize.hideBars();\n          } else {\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('dragstart dragend', e => {\n        tableResize.on(resize => {\n          if (e.type === 'dragstart') {\n            resize.hideBars();\n            resize.off();\n          } else {\n            resize.on();\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('remove', () => {\n        destroy();\n      });\n      const refresh = table => {\n        tableResize.on(resize => resize.refreshBars(SugarElement.fromDom(table)));\n      };\n      const hide = () => {\n        tableResize.on(resize => resize.hideBars());\n      };\n      const show = () => {\n        tableResize.on(resize => resize.showBars());\n      };\n      return {\n        refresh,\n        hide,\n        show\n      };\n    };\n\n    const setupTable = editor => {\n      register(editor);\n      const resizeHandler = TableResizeHandler(editor);\n      const cellSelectionHandler = TableCellSelectionHandler(editor, resizeHandler);\n      const actions = TableActions(editor, resizeHandler, cellSelectionHandler);\n      registerCommands(editor, actions);\n      registerQueryCommands(editor, actions);\n      registerEvents(editor, actions);\n      return {\n        getSelectedCells: cellSelectionHandler.getSelectedCells,\n        clearSelectedCells: cellSelectionHandler.clearSelectedCells\n      };\n    };\n\n    const DomModel = editor => {\n      const table = setupTable(editor);\n      return { table };\n    };\n    var Model = () => {\n      global$1.add('dom', DomModel);\n    };\n\n    Model();\n\n})();\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativePush = Array.prototype.push;\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const get$1 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('audio_template_callback', { processor: 'function' });\n      registerOption('video_template_callback', { processor: 'function' });\n      registerOption('iframe_template_callback', { processor: 'function' });\n      registerOption('media_live_embeds', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_filter_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_url_resolver', { processor: 'function' });\n      registerOption('media_alt_source', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_poster', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getAudioTemplateCallback = option('audio_template_callback');\n    const getVideoTemplateCallback = option('video_template_callback');\n    const getIframeTemplateCallback = option('iframe_template_callback');\n    const hasLiveEmbeds = option('media_live_embeds');\n    const shouldFilterHtml = option('media_filter_html');\n    const getUrlResolver = option('media_url_resolver');\n    const hasAltSource = option('media_alt_source');\n    const hasPoster = option('media_poster');\n    const hasDimensions = option('media_dimensions');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    const DOM$1 = global$4.DOM;\n    const trimPx = value => value.replace(/px$/, '');\n    const getEphoxEmbedData = node => {\n      const style = node.attr('style');\n      const styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: node.attr('data-ephox-embed-iri'),\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    const htmlToData = (html, schema) => {\n      let data = {};\n      const parser = global$3({\n        validate: false,\n        forced_root_block: false\n      }, schema);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            data = getEphoxEmbedData(node);\n            break;\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = node.attr('movie');\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$5.extend(node.attributes.map, data);\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = node.attr('src');\n              } else if (!data.altsource) {\n                data.altsource = node.attr('src');\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = node.attr('src');\n            }\n          }\n        }\n      }\n      data.source = data.source || data.src || '';\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    const guess = url => {\n      var _a;\n      const mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      const fileEnd = (_a = url.toLowerCase().split('.').pop()) !== null && _a !== void 0 ? _a : '';\n      return get$1(mimes, fileEnd).getOr('');\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    const Parser = (schema, settings = {}) => global$3({\n      forced_root_block: false,\n      validate: false,\n      allow_conditional_comments: true,\n      ...settings\n    }, schema);\n\n    const DOM = global$4.DOM;\n    const addPx = value => /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    const updateEphoxEmbed = (data, node) => {\n      const style = node.attr('style');\n      const styleMap = style ? DOM.parseStyle(style) : {};\n      if (isNonNullable(data.width)) {\n        styleMap['max-width'] = addPx(data.width);\n      }\n      if (isNonNullable(data.height)) {\n        styleMap['max-height'] = addPx(data.height);\n      }\n      node.attr('style', DOM.serializeStyle(styleMap));\n    };\n    const sources = [\n      'source',\n      'altsource'\n    ];\n    const updateHtml = (html, data, updateAll, schema) => {\n      let numSources = 0;\n      let sourceCount = 0;\n      const parser = Parser(schema);\n      parser.addNodeFilter('source', nodes => numSources = nodes.length);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            updateEphoxEmbed(data, node);\n            break;\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                node.attr('width', data.width);\n                node.attr('height', data.height);\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                node.attr('poster', data.poster);\n                node.attr('src', null);\n                for (let index = numSources; index < 2; index++) {\n                  if (data[sources[index]]) {\n                    const source = new global$2('source', 1);\n                    source.attr('src', data[sources[index]]);\n                    source.attr('type', data[sources[index] + 'mime'] || null);\n                    node.append(source);\n                  }\n                }\n                break;\n              case 'iframe':\n                node.attr('src', data.source);\n                break;\n              case 'object':\n                const hasImage = node.getAll('img').length > 0;\n                if (data.poster && !hasImage) {\n                  node.attr('src', data.poster);\n                  const img = new global$2('img', 1);\n                  img.attr('src', data.poster);\n                  img.attr('width', data.width);\n                  img.attr('height', data.height);\n                  node.append(img);\n                }\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  node.attr('src', data[sources[sourceCount]]);\n                  node.attr('type', data[sources[sourceCount] + 'mime'] || null);\n                  if (!data[sources[sourceCount]]) {\n                    node.remove();\n                    continue;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  node.remove();\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n      return global$1({}, schema).serialize(rootNode);\n    };\n\n    const urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)\\?h=(\\w+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)\\?h=(\\w+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    const getProtocol = url => {\n      const protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    const getUrl = (pattern, url) => {\n      const protocol = getProtocol(url);\n      const match = pattern.regex.exec(url);\n      let newUrl = protocol + pattern.url;\n      if (isNonNullable(match)) {\n        for (let i = 0; i < match.length; i++) {\n          newUrl = newUrl.replace('$' + i, () => match[i] ? match[i] : '');\n        }\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    const matchPattern = url => {\n      const patterns = urlPatterns.filter(pattern => pattern.regex.test(url));\n      if (patterns.length > 0) {\n        return global$5.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    const getIframeHtml = (data, iframeTemplateCallback) => {\n      if (iframeTemplateCallback) {\n        return iframeTemplateCallback(data);\n      } else {\n        const allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n        return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n      }\n    };\n    const getFlashHtml = data => {\n      let html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    const getAudioHtml = (data, audioTemplateCallback) => {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    const getVideoHtml = (data, videoTemplateCallback) => {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    const dataToHtml = (editor, dataIn) => {\n      var _a;\n      const data = global$5.extend({}, dataIn);\n      if (!data.source) {\n        global$5.extend(data, htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      const pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true, editor.schema);\n      } else {\n        const audioTemplateCallback = getAudioTemplateCallback(editor);\n        const videoTemplateCallback = getVideoTemplateCallback(editor);\n        const iframeTemplateCallback = getIframeTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$5.each(data, (value, key) => {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data, iframeTemplateCallback);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    const isMediaElement = element => element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    const setup$2 = editor => {\n      editor.on('mousedown', e => {\n        const previewObj = editor.dom.getParent(e.target, '.mce-preview-object');\n        if (previewObj && editor.dom.getAttrib(previewObj, 'data-mce-selected') === '2') {\n          e.stopImmediatePropagation();\n        }\n      });\n      editor.on('click keyup touchend', () => {\n        const selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          let html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            }, false, editor.schema)));\n          }\n        }\n      });\n    };\n\n    const cache = {};\n    const embedPromise = (data, dataToHtml, handler) => {\n      return new Promise((res, rej) => {\n        const wrappedResolve = response => {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }).then(wrappedResolve).catch(rej);\n        }\n      });\n    };\n    const defaultPromise = (data, dataToHtml) => Promise.resolve({\n      html: dataToHtml(data),\n      url: data.source\n    });\n    const loadedData = editor => data => dataToHtml(editor, data);\n    const getEmbedHtml = (editor, data) => {\n      const embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    const isCached = url => has(cache, url);\n\n    const extractMeta = (sourceInput, data) => get$1(data, sourceInput).bind(mainData => get$1(mainData, 'meta'));\n    const getValue = (data, metaData, sourceInput) => prop => {\n      const getFromData = () => get$1(data, prop);\n      const getFromMetaData = () => get$1(metaData, prop);\n      const getNonEmptyValue = c => get$1(c, 'value').bind(v => v.length > 0 ? Optional.some(v) : Optional.none());\n      const getFromValueFirst = () => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(() => Optional.from(child)));\n      const getFromMetaFirst = () => getFromMetaData().orThunk(() => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child) : Optional.from(child)));\n      return { [prop]: (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr('') };\n    };\n    const getDimensions = (data, metaData) => {\n      const dimensions = {};\n      get$1(data, 'dimensions').each(dims => {\n        each$1([\n          'width',\n          'height'\n        ], prop => {\n          get$1(metaData, prop).orThunk(() => get$1(dims, prop)).each(value => dimensions[prop] = value);\n        });\n      });\n      return dimensions;\n    };\n    const unwrap = (data, sourceInput) => {\n      const metaData = sourceInput && sourceInput !== 'dimensions' ? extractMeta(sourceInput, data).getOr({}) : {};\n      const get = getValue(data, metaData, sourceInput);\n      return {\n        ...get('source'),\n        ...get('altsource'),\n        ...get('poster'),\n        ...get('embed'),\n        ...getDimensions(data, metaData)\n      };\n    };\n    const wrap = data => {\n      const wrapped = {\n        ...data,\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      };\n      each$1([\n        'width',\n        'height'\n      ], prop => {\n        get$1(data, prop).each(value => {\n          const dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    const handleError = editor => error => {\n      const errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n      editor.notificationManager.open({\n        type: 'error',\n        text: errorMessage\n      });\n    };\n    const getEditorData = editor => {\n      const element = editor.selection.getNode();\n      const snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      const data = htmlToData(snippet, editor.schema);\n      const getDimensionsOfElement = () => {\n        if (isEmbedIframe(data.source, data.type)) {\n          const rect = editor.dom.getRect(element);\n          return {\n            width: rect.w.toString().replace(/px$/, ''),\n            height: rect.h.toString().replace(/px$/, '')\n          };\n        } else {\n          return {};\n        }\n      };\n      const dimensions = getDimensionsOfElement();\n      return {\n        embed: snippet,\n        ...data,\n        ...dimensions\n      };\n    };\n    const addEmbedHtml = (api, editor) => response => {\n      if (isString(response.url) && response.url.trim().length > 0) {\n        const html = response.html;\n        const snippetData = htmlToData(html, editor.schema);\n        const nuData = {\n          ...snippetData,\n          source: response.url,\n          embed: html\n        };\n        api.setData(wrap(nuData));\n      }\n    };\n    const selectPlaceholder = (editor, beforeObjects) => {\n      const afterObjects = editor.dom.select('*[data-mce-object]');\n      for (let i = 0; i < beforeObjects.length; i++) {\n        for (let y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    const handleInsert = (editor, html) => {\n      const beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    const isEmbedIframe = (url, mediaDataType) => isNonNullable(mediaDataType) && mediaDataType === 'ephox-embed-iri' && isNonNullable(matchPattern(url));\n    const shouldInsertAsNewIframe = (prevData, newData) => {\n      const hasDimensionsChanged = (prevData, newData) => prevData.width !== newData.width || prevData.height !== newData.height;\n      return hasDimensionsChanged(prevData, newData) && isEmbedIframe(newData.source, prevData.type);\n    };\n    const submitForm = (prevData, newData, editor) => {\n      var _a;\n      newData.embed = shouldInsertAsNewIframe(prevData, newData) && hasDimensions(editor) ? dataToHtml(editor, {\n        ...newData,\n        embed: ''\n      }) : updateHtml((_a = newData.embed) !== null && _a !== void 0 ? _a : '', newData, false, editor.schema);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(response => {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    const showDialog = editor => {\n      const editorData = getEditorData(editor);\n      const currentData = Cell(editorData);\n      const initialData = wrap(editorData);\n      const handleSource = (prevData, api) => {\n        const serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      const handleEmbed = api => {\n        var _a;\n        const data = unwrap(api.getData());\n        const dataFromEmbed = htmlToData((_a = data.embed) !== null && _a !== void 0 ? _a : '', editor.schema);\n        api.setData(wrap(dataFromEmbed));\n      };\n      const handleUpdate = (api, sourceInput, prevData) => {\n        const dialogData = unwrap(api.getData(), sourceInput);\n        const data = shouldInsertAsNewIframe(prevData, dialogData) && hasDimensions(editor) ? {\n          ...dialogData,\n          embed: ''\n        } : dialogData;\n        const embed = dataToHtml(editor, data);\n        api.setData(wrap({\n          ...data,\n          embed\n        }));\n      };\n      const mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source',\n          picker_text: 'Browse files'\n        }];\n      const sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      const generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      const embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      const embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      const advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      const advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      const tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      const body = {\n        type: 'tabpanel',\n        tabs\n      };\n      const win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: (api, detail) => {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name, currentData.get());\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData\n      });\n    };\n\n    const get = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    const register$1 = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const isLiveEmbedNode = node => {\n      const name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    const getDimension = (node, styles, dimension, defaultValue = null) => {\n      const value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    const setDimensions = (node, previewNode, styles) => {\n      const useDefaults = previewNode.name === 'img' || node.name === 'video';\n      const defaultWidth = useDefaults ? '300' : null;\n      const fallbackHeight = node.name === 'audio' ? '30' : '150';\n      const defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    const appendNodeContent = (editor, nodeName, previewNode, html) => {\n      const newNode = Parser(editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    const createPlaceholderNode = (editor, node) => {\n      const name = node.name;\n      const placeHolder = new global$2('img', 1);\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    const createPreviewNode = (editor, node) => {\n      var _a;\n      const name = node.name;\n      const previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      const styles = editor.dom.parseStyle((_a = node.attr('style')) !== null && _a !== void 0 ? _a : '');\n      const previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0',\n          sandbox: node.attr('sandbox')\n        });\n      } else {\n        const attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, attrName => {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        const sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      const shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    const retainAttributesAndInnerHtml = (editor, sourceNode, targetNode) => {\n      var _a;\n      const attribs = (_a = sourceNode.attributes) !== null && _a !== void 0 ? _a : [];\n      let ai = attribs.length;\n      while (ai--) {\n        const attrName = attribs[ai].name;\n        let attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style' && !startsWith(attrName, 'data-mce-')) {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      const serializer = global$1({ inner: true }, editor.schema);\n      const tempNode = new global$2('div', 1);\n      each$1(sourceNode.children(), child => tempNode.append(child));\n      const innerHtml = serializer.serialize(tempNode);\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(innerHtml));\n        targetNode.empty();\n      }\n    };\n    const isPageEmbedWrapper = node => {\n      const nodeClass = node.attr('class');\n      return isString(nodeClass) && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    const isWithinEmbedWrapper = node => {\n      let tempNode = node;\n      while (tempNode = tempNode.parent) {\n        if (tempNode.attr('data-ephox-embed-iri') || isPageEmbedWrapper(tempNode)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const placeHolderConverter = editor => nodes => {\n      let i = nodes.length;\n      let node;\n      while (i--) {\n        node = nodes[i];\n        if (!node.parent) {\n          continue;\n        }\n        if (node.parent.attr('data-mce-object')) {\n          continue;\n        }\n        if (isLiveEmbedNode(node) && hasLiveEmbeds(editor)) {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPreviewNode(editor, node));\n          }\n        } else {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPlaceholderNode(editor, node));\n          }\n        }\n      }\n    };\n\n    const parseAndSanitize = (editor, context, html) => {\n      const getEditorOption = editor.options.get;\n      const sanitize = getEditorOption('xss_sanitization');\n      const validate = shouldFilterHtml(editor);\n      return Parser(editor.schema, {\n        sanitize,\n        validate\n      }).parse(html, { context });\n    };\n\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {schema, serializer, parser} = editor;\n        const boolAttrs = schema.getBoolAttrs();\n        each$1('webkitallowfullscreen mozallowfullscreen'.split(' '), name => {\n          boolAttrs[name] = {};\n        });\n        each({ embed: ['wmode'] }, (attrs, name) => {\n          const rule = schema.getElementRule(name);\n          if (rule) {\n            each$1(attrs, attr => {\n              rule.attributes[attr] = {};\n              rule.attributesOrder.push(attr);\n            });\n          }\n        });\n        parser.addNodeFilter('iframe,video,audio,object,embed', placeHolderConverter(editor));\n        serializer.addAttributeFilter('data-mce-object', (nodes, name) => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            const realElmName = node.attr(name);\n            const realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio') {\n              const className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1 && node.firstChild) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            const attribs = (_a = node.attributes) !== null && _a !== void 0 ? _a : [];\n            let ai = attribs.length;\n            while (ai--) {\n              const attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            const innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              const fragment = parseAndSanitize(editor, realElmName, unescape(innerHtml));\n              each$1(fragment.children(), child => realElm.append(child));\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', () => {\n        const dom = editor.dom;\n        each$1(dom.select('span.mce-preview-object'), elm => {\n          if (dom.select('span.mce-shim', elm).length === 0) {\n            dom.add(elm, 'span', { class: 'mce-shim' });\n          }\n        });\n      });\n    };\n\n    const setup = editor => {\n      editor.on('ResolveName', e => {\n        let name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    const onSetupEditable = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const register = editor => {\n      const onAction = () => editor.execCommand('mceMedia');\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction,\n        onSetup: buttonApi => {\n          const selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          const unbindSelectorChanged = selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n          const unbindEditable = onSetupEditable(editor)(buttonApi);\n          return () => {\n            unbindSelectorChanged();\n            unbindEditable();\n          };\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction,\n        onSetup: onSetupEditable(editor)\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('media', editor => {\n        register$2(editor);\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const is = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isPlainObject = value => is(value, Object);\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativePush = Array.prototype.push;\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const get = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get(xs, 0);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const remove = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isNotEmpty = s => s.length > 0;\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('image_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_advtab', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_uploadtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_prepend_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('image_class_list', { processor: 'object[]' });\n      registerOption('image_description', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_title', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_caption', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_list', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isObject) || isFunction(value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be false, a string, an array or a function.'\n          };\n        },\n        default: false\n      });\n    };\n    const hasDimensions = option('image_dimensions');\n    const hasAdvTab = option('image_advtab');\n    const hasUploadTab = option('image_uploadtab');\n    const getPrependUrl = option('image_prepend_url');\n    const getClassList = option('image_class_list');\n    const hasDescription = option('image_description');\n    const hasImageTitle = option('image_title');\n    const hasImageCaption = option('image_caption');\n    const getImageList = option('image_list');\n    const showAccessibilityOptions = option('a11y_advanced_options');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const hasUploadUrl = editor => isNotEmpty(editor.options.get('images_upload_url'));\n    const hasUploadHandler = editor => isNonNullable(editor.options.get('images_upload_handler'));\n\n    const parseIntAndGetMax = (val1, val2) => Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    const getImageSize = url => new Promise(callback => {\n      const img = document.createElement('img');\n      const done = dimensions => {\n        img.onload = img.onerror = null;\n        if (img.parentNode) {\n          img.parentNode.removeChild(img);\n        }\n        callback(dimensions);\n      };\n      img.onload = () => {\n        const width = parseIntAndGetMax(img.width, img.clientWidth);\n        const height = parseIntAndGetMax(img.height, img.clientHeight);\n        const dimensions = {\n          width,\n          height\n        };\n        done(Promise.resolve(dimensions));\n      };\n      img.onerror = () => {\n        done(Promise.reject(`Failed to get image dimensions for: ${ url }`));\n      };\n      const style = img.style;\n      style.visibility = 'hidden';\n      style.position = 'fixed';\n      style.bottom = style.left = '0px';\n      style.width = style.height = 'auto';\n      document.body.appendChild(img);\n      img.src = url;\n    });\n    const removePixelSuffix = value => {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    const addPixelSuffix = value => {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    const mergeMargins = css => {\n      if (css.margin) {\n        const splitMargin = String(css.margin).split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    const createImageList = (editor, callback) => {\n      const imageList = getImageList(editor);\n      if (isString(imageList)) {\n        fetch(imageList).then(res => {\n          if (res.ok) {\n            res.json().then(callback);\n          }\n        });\n      } else if (isFunction(imageList)) {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    const waitLoadImage = (editor, data, imgElm) => {\n      const selectImage = () => {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      };\n      imgElm.onload = () => {\n        if (!data.width && !data.height && hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: String(imgElm.clientWidth),\n            height: String(imgElm.clientHeight)\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    const blobToDataUri = blob => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = () => {\n        var _a;\n        reject((_a = reader.error) === null || _a === void 0 ? void 0 : _a.message);\n      };\n      reader.readAsDataURL(blob);\n    });\n    const isPlaceholderImage = imgElm => imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    const isSafeImageUrl = (editor, src) => {\n      const getOption = editor.options.get;\n      return global$2.isDomSafe(src, 'img', {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      });\n    };\n\n    const DOM = global$3.DOM;\n    const getHspace = image => {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    const getVspace = image => {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    const getBorder = image => {\n      if (image.style.borderWidth) {\n        return removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    const getAttrib = (image, name) => {\n      var _a;\n      if (image.hasAttribute(name)) {\n        return (_a = image.getAttribute(name)) !== null && _a !== void 0 ? _a : '';\n      } else {\n        return '';\n      }\n    };\n    const hasCaption = image => image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    const updateAttrib = (image, name, value) => {\n      if (value === '' || value === null) {\n        image.removeAttribute(name);\n      } else {\n        image.setAttribute(name, value);\n      }\n    };\n    const wrapInFigure = image => {\n      const figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    const removeFigure = image => {\n      const figureElm = image.parentNode;\n      if (isNonNullable(figureElm)) {\n        DOM.insertAfter(image, figureElm);\n        DOM.remove(figureElm);\n      }\n    };\n    const toggleCaption = image => {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    const normalizeStyle = (image, normalizeCss) => {\n      const attrValue = image.getAttribute('style');\n      const value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    const setSize = (name, normalizeCss) => (image, name, value) => {\n      const styles = image.style;\n      if (styles[name]) {\n        styles[name] = addPixelSuffix(value);\n        normalizeStyle(image, normalizeCss);\n      } else {\n        updateAttrib(image, name, value);\n      }\n    };\n    const getSize = (image, name) => {\n      if (image.style[name]) {\n        return removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    const setHspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    const setVspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    const setBorder = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    const setBorderStyle = (image, value) => {\n      image.style.borderStyle = value;\n    };\n    const getBorderStyle = image => {\n      var _a;\n      return (_a = image.style.borderStyle) !== null && _a !== void 0 ? _a : '';\n    };\n    const isFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE';\n    const isImage = elm => elm.nodeName === 'IMG';\n    const getIsDecorative = image => DOM.getAttrib(image, 'alt').length === 0 && DOM.getAttrib(image, 'role') === 'presentation';\n    const getAlt = image => {\n      if (getIsDecorative(image)) {\n        return '';\n      } else {\n        return getAttrib(image, 'alt');\n      }\n    };\n    const defaultData = () => ({\n      src: '',\n      alt: '',\n      title: '',\n      width: '',\n      height: '',\n      class: '',\n      style: '',\n      caption: false,\n      hspace: '',\n      vspace: '',\n      border: '',\n      borderStyle: '',\n      isDecorative: false\n    });\n    const getStyleValue = (normalizeCss, data) => {\n      var _a;\n      const image = document.createElement('img');\n      updateAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss((_a = image.getAttribute('style')) !== null && _a !== void 0 ? _a : '');\n    };\n    const create = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      write(normalizeCss, {\n        ...data,\n        caption: false\n      }, image);\n      setAlt(image, data.alt, data.isDecorative);\n      if (data.caption) {\n        const figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    const read = (normalizeCss, image) => ({\n      src: getAttrib(image, 'src'),\n      alt: getAlt(image),\n      title: getAttrib(image, 'title'),\n      width: getSize(image, 'width'),\n      height: getSize(image, 'height'),\n      class: getAttrib(image, 'class'),\n      style: normalizeCss(getAttrib(image, 'style')),\n      caption: hasCaption(image),\n      hspace: getHspace(image),\n      vspace: getVspace(image),\n      border: getBorder(image),\n      borderStyle: getBorderStyle(image),\n      isDecorative: getIsDecorative(image)\n    });\n    const updateProp = (image, oldData, newData, name, set) => {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, String(newData[name]));\n      }\n    };\n    const setAlt = (image, alt, isDecorative) => {\n      if (isDecorative) {\n        DOM.setAttrib(image, 'role', 'presentation');\n        const sugarImage = SugarElement.fromDom(image);\n        set(sugarImage, 'alt', '');\n      } else {\n        if (isNull(alt)) {\n          const sugarImage = SugarElement.fromDom(image);\n          remove(sugarImage, 'alt');\n        } else {\n          const sugarImage = SugarElement.fromDom(image);\n          set(sugarImage, 'alt', alt);\n        }\n        if (DOM.getAttrib(image, 'role') === 'presentation') {\n          DOM.setAttrib(image, 'role', '');\n        }\n      }\n    };\n    const updateAlt = (image, oldData, newData) => {\n      if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n        setAlt(image, newData.alt, newData.isDecorative);\n      }\n    };\n    const normalized = (set, normalizeCss) => (image, name, value) => {\n      set(image, value);\n      normalizeStyle(image, normalizeCss);\n    };\n    const write = (normalizeCss, newData, image) => {\n      const oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', (image, _name, _value) => toggleCaption(image));\n      updateProp(image, oldData, newData, 'src', updateAttrib);\n      updateProp(image, oldData, newData, 'title', updateAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', updateAttrib);\n      updateProp(image, oldData, newData, 'style', normalized((image, value) => updateAttrib(image, 'style', value), normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n      updateAlt(image, oldData, newData);\n    };\n\n    const normalizeCss$1 = (editor, cssText) => {\n      const css = editor.dom.styles.parse(cssText);\n      const mergedCss = mergeMargins(css);\n      const compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    const getSelectedImage = editor => {\n      const imgElm = editor.selection.getNode();\n      const figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n        return null;\n      }\n      return imgElm;\n    };\n    const splitTextBlock = (editor, figure) => {\n      var _a;\n      const dom = editor.dom;\n      const textBlockElements = filter(editor.schema.getTextBlockElements(), (_, parentElm) => !editor.schema.isValidChild(parentElm, 'figure'));\n      const textBlock = dom.getParent(figure.parentNode, node => hasNonNullableKey(textBlockElements, node.nodeName), editor.getBody());\n      if (textBlock) {\n        return (_a = dom.split(textBlock, figure)) !== null && _a !== void 0 ? _a : figure;\n      } else {\n        return figure;\n      }\n    };\n    const readImageDataFromSelection = editor => {\n      const image = getSelectedImage(editor);\n      return image ? read(css => normalizeCss$1(editor, css), image) : defaultData();\n    };\n    const insertImageAtCaret = (editor, data) => {\n      const elm = create(css => normalizeCss$1(editor, css), data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      const insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        const figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    const syncSrcAttr = (editor, image) => {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    const deleteImage = (editor, image) => {\n      if (image) {\n        const elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    const writeImageDataToSelection = (editor, data) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        write(css => normalizeCss$1(editor, css), data, image);\n        syncSrcAttr(editor, image);\n        if (isFigure(image.parentNode)) {\n          const figure = image.parentNode;\n          splitTextBlock(editor, figure);\n          editor.selection.select(image.parentNode);\n        } else {\n          editor.selection.select(image);\n          waitLoadImage(editor, data, image);\n        }\n      }\n    };\n    const sanitizeImageData = (editor, data) => {\n      const src = data.src;\n      return {\n        ...data,\n        src: isSafeImageUrl(editor, src) ? src : ''\n      };\n    };\n    const insertOrUpdateImage = (editor, partialData) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        const selectedImageData = read(css => normalizeCss$1(editor, css), image);\n        const data = {\n          ...selectedImageData,\n          ...partialData\n        };\n        const sanitizedData = sanitizeImageData(editor, data);\n        if (data.src) {\n          writeImageDataToSelection(editor, sanitizedData);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (partialData.src) {\n        insertImageAtCaret(editor, {\n          ...defaultData(),\n          ...partialData\n        });\n      }\n    };\n\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizer = (extractor = getValue) => list => {\n      if (list) {\n        return Optional.from(list).map(list => sanitizeList(list, extractor));\n      } else {\n        return Optional.none();\n      }\n    };\n    const sanitize = list => sanitizer(getValue)(list);\n    const isGroup = item => has(item, 'items');\n    const findEntryDelegate = (list, value) => findMap(list, item => {\n      if (isGroup(item)) {\n        return findEntryDelegate(item.items, value);\n      } else if (item.value === value) {\n        return Optional.some(item);\n      } else {\n        return Optional.none();\n      }\n    });\n    const findEntry = (optList, value) => optList.bind(list => findEntryDelegate(list, value));\n    const ListUtils = {\n      sanitizer,\n      sanitize,\n      findEntry\n    };\n\n    const makeTab$2 = _info => ({\n      title: 'Advanced',\n      name: 'advanced',\n      items: [{\n          type: 'grid',\n          columns: 2,\n          items: [\n            {\n              type: 'input',\n              label: 'Vertical space',\n              name: 'vspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Horizontal space',\n              name: 'hspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Border width',\n              name: 'border',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'listbox',\n              name: 'borderstyle',\n              label: 'Border style',\n              items: [\n                {\n                  text: 'Select...',\n                  value: ''\n                },\n                {\n                  text: 'Solid',\n                  value: 'solid'\n                },\n                {\n                  text: 'Dotted',\n                  value: 'dotted'\n                },\n                {\n                  text: 'Dashed',\n                  value: 'dashed'\n                },\n                {\n                  text: 'Double',\n                  value: 'double'\n                },\n                {\n                  text: 'Groove',\n                  value: 'groove'\n                },\n                {\n                  text: 'Ridge',\n                  value: 'ridge'\n                },\n                {\n                  text: 'Inset',\n                  value: 'inset'\n                },\n                {\n                  text: 'Outset',\n                  value: 'outset'\n                },\n                {\n                  text: 'None',\n                  value: 'none'\n                },\n                {\n                  text: 'Hidden',\n                  value: 'hidden'\n                }\n              ]\n            }\n          ]\n        }]\n    });\n    const AdvTab = { makeTab: makeTab$2 };\n\n    const collect = editor => {\n      const urlListSanitizer = ListUtils.sanitizer(item => editor.convertURL(item.value || item.url || '', 'src'));\n      const futureImageList = new Promise(completer => {\n        createImageList(editor, imageList => {\n          completer(urlListSanitizer(imageList).map(items => flatten([\n            [{\n                text: 'None',\n                value: ''\n              }],\n            items\n          ])));\n        });\n      });\n      const classList = ListUtils.sanitize(getClassList(editor));\n      const hasAdvTab$1 = hasAdvTab(editor);\n      const hasUploadTab$1 = hasUploadTab(editor);\n      const hasUploadUrl$1 = hasUploadUrl(editor);\n      const hasUploadHandler$1 = hasUploadHandler(editor);\n      const image = readImageDataFromSelection(editor);\n      const hasDescription$1 = hasDescription(editor);\n      const hasImageTitle$1 = hasImageTitle(editor);\n      const hasDimensions$1 = hasDimensions(editor);\n      const hasImageCaption$1 = hasImageCaption(editor);\n      const hasAccessibilityOptions = showAccessibilityOptions(editor);\n      const automaticUploads = isAutomaticUploadsEnabled(editor);\n      const prependURL = Optional.some(getPrependUrl(editor)).filter(preUrl => isString(preUrl) && preUrl.length > 0);\n      return futureImageList.then(imageList => ({\n        image,\n        imageList,\n        classList,\n        hasAdvTab: hasAdvTab$1,\n        hasUploadTab: hasUploadTab$1,\n        hasUploadUrl: hasUploadUrl$1,\n        hasUploadHandler: hasUploadHandler$1,\n        hasDescription: hasDescription$1,\n        hasImageTitle: hasImageTitle$1,\n        hasDimensions: hasDimensions$1,\n        hasImageCaption: hasImageCaption$1,\n        prependURL,\n        hasAccessibilityOptions,\n        automaticUploads\n      }));\n    };\n\n    const makeItems = info => {\n      const imageUrl = {\n        name: 'src',\n        type: 'urlinput',\n        filetype: 'image',\n        label: 'Source',\n        picker_text: 'Browse files'\n      };\n      const imageList = info.imageList.map(items => ({\n        name: 'images',\n        type: 'listbox',\n        label: 'Image list',\n        items\n      }));\n      const imageDescription = {\n        name: 'alt',\n        type: 'input',\n        label: 'Alternative description',\n        enabled: !(info.hasAccessibilityOptions && info.image.isDecorative)\n      };\n      const imageTitle = {\n        name: 'title',\n        type: 'input',\n        label: 'Image title'\n      };\n      const imageDimensions = {\n        name: 'dimensions',\n        type: 'sizeinput'\n      };\n      const isDecorative = {\n        type: 'label',\n        label: 'Accessibility',\n        items: [{\n            name: 'isDecorative',\n            type: 'checkbox',\n            label: 'Image is decorative'\n          }]\n      };\n      const classList = info.classList.map(items => ({\n        name: 'classes',\n        type: 'listbox',\n        label: 'Class',\n        items\n      }));\n      const caption = {\n        type: 'label',\n        label: 'Caption',\n        items: [{\n            type: 'checkbox',\n            name: 'caption',\n            label: 'Show caption'\n          }]\n      };\n      const getDialogContainerType = useColumns => useColumns ? {\n        type: 'grid',\n        columns: 2\n      } : { type: 'panel' };\n      return flatten([\n        [imageUrl],\n        imageList.toArray(),\n        info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n        info.hasDescription ? [imageDescription] : [],\n        info.hasImageTitle ? [imageTitle] : [],\n        info.hasDimensions ? [imageDimensions] : [],\n        [{\n            ...getDialogContainerType(info.classList.isSome() && info.hasImageCaption),\n            items: flatten([\n              classList.toArray(),\n              info.hasImageCaption ? [caption] : []\n            ])\n          }]\n      ]);\n    };\n    const makeTab$1 = info => ({\n      title: 'General',\n      name: 'general',\n      items: makeItems(info)\n    });\n    const MainTab = {\n      makeTab: makeTab$1,\n      makeItems\n    };\n\n    const makeTab = _info => {\n      const items = [{\n          type: 'dropzone',\n          name: 'fileinput'\n        }];\n      return {\n        title: 'Upload',\n        name: 'upload',\n        items\n      };\n    };\n    const UploadTab = { makeTab };\n\n    const createState = info => ({\n      prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n      prevAlt: info.image.alt,\n      open: true\n    });\n    const fromImageData = image => ({\n      src: {\n        value: image.src,\n        meta: {}\n      },\n      images: image.src,\n      alt: image.alt,\n      title: image.title,\n      dimensions: {\n        width: image.width,\n        height: image.height\n      },\n      classes: image.class,\n      caption: image.caption,\n      style: image.style,\n      vspace: image.vspace,\n      border: image.border,\n      hspace: image.hspace,\n      borderstyle: image.borderStyle,\n      fileinput: [],\n      isDecorative: image.isDecorative\n    });\n    const toImageData = (data, removeEmptyAlt) => ({\n      src: data.src.value,\n      alt: (data.alt === null || data.alt.length === 0) && removeEmptyAlt ? null : data.alt,\n      title: data.title,\n      width: data.dimensions.width,\n      height: data.dimensions.height,\n      class: data.classes,\n      style: data.style,\n      caption: data.caption,\n      hspace: data.hspace,\n      vspace: data.vspace,\n      border: data.border,\n      borderStyle: data.borderstyle,\n      isDecorative: data.isDecorative\n    });\n    const addPrependUrl2 = (info, srcURL) => {\n      if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n        return info.prependURL.bind(prependUrl => {\n          if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n            return Optional.some(prependUrl + srcURL);\n          }\n          return Optional.none();\n        });\n      }\n      return Optional.none();\n    };\n    const addPrependUrl = (info, api) => {\n      const data = api.getData();\n      addPrependUrl2(info, data.src.value).each(srcURL => {\n        api.setData({\n          src: {\n            value: srcURL,\n            meta: data.src.meta\n          }\n        });\n      });\n    };\n    const formFillFromMeta2 = (info, data, meta) => {\n      if (info.hasDescription && isString(meta.alt)) {\n        data.alt = meta.alt;\n      }\n      if (info.hasAccessibilityOptions) {\n        data.isDecorative = meta.isDecorative || data.isDecorative || false;\n      }\n      if (info.hasImageTitle && isString(meta.title)) {\n        data.title = meta.title;\n      }\n      if (info.hasDimensions) {\n        if (isString(meta.width)) {\n          data.dimensions.width = meta.width;\n        }\n        if (isString(meta.height)) {\n          data.dimensions.height = meta.height;\n        }\n      }\n      if (isString(meta.class)) {\n        ListUtils.findEntry(info.classList, meta.class).each(entry => {\n          data.classes = entry.value;\n        });\n      }\n      if (info.hasImageCaption) {\n        if (isBoolean(meta.caption)) {\n          data.caption = meta.caption;\n        }\n      }\n      if (info.hasAdvTab) {\n        if (isString(meta.style)) {\n          data.style = meta.style;\n        }\n        if (isString(meta.vspace)) {\n          data.vspace = meta.vspace;\n        }\n        if (isString(meta.border)) {\n          data.border = meta.border;\n        }\n        if (isString(meta.hspace)) {\n          data.hspace = meta.hspace;\n        }\n        if (isString(meta.borderstyle)) {\n          data.borderstyle = meta.borderstyle;\n        }\n      }\n    };\n    const formFillFromMeta = (info, api) => {\n      const data = api.getData();\n      const meta = data.src.meta;\n      if (meta !== undefined) {\n        const newData = deepMerge({}, data);\n        formFillFromMeta2(info, newData, meta);\n        api.setData(newData);\n      }\n    };\n    const calculateImageSize = (helpers, info, state, api) => {\n      const data = api.getData();\n      const url = data.src.value;\n      const meta = data.src.meta || {};\n      if (!meta.width && !meta.height && info.hasDimensions) {\n        if (isNotEmpty(url)) {\n          helpers.imageSize(url).then(size => {\n            if (state.open) {\n              api.setData({ dimensions: size });\n            }\n          }).catch(e => console.error(e));\n        } else {\n          api.setData({\n            dimensions: {\n              width: '',\n              height: ''\n            }\n          });\n        }\n      }\n    };\n    const updateImagesDropdown = (info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.src.value);\n      state.prevImage = image;\n      api.setData({ images: image.map(entry => entry.value).getOr('') });\n    };\n    const changeSrc = (helpers, info, state, api) => {\n      addPrependUrl(info, api);\n      formFillFromMeta(info, api);\n      calculateImageSize(helpers, info, state, api);\n      updateImagesDropdown(info, state, api);\n    };\n    const changeImages = (helpers, info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.images);\n      image.each(img => {\n        const updateAlt = data.alt === '' || state.prevImage.map(image => image.text === data.alt).getOr(false);\n        if (updateAlt) {\n          if (img.value === '') {\n            api.setData({\n              src: img,\n              alt: state.prevAlt\n            });\n          } else {\n            api.setData({\n              src: img,\n              alt: img.text\n            });\n          }\n        } else {\n          api.setData({ src: img });\n        }\n      });\n      state.prevImage = image;\n      changeSrc(helpers, info, state, api);\n    };\n    const changeFileInput = (helpers, info, state, api) => {\n      const data = api.getData();\n      api.block('Uploading image');\n      head(data.fileinput).fold(() => {\n        api.unblock();\n      }, file => {\n        const blobUri = URL.createObjectURL(file);\n        const finalize = () => {\n          api.unblock();\n          URL.revokeObjectURL(blobUri);\n        };\n        const updateSrcAndSwitchTab = url => {\n          api.setData({\n            src: {\n              value: url,\n              meta: {}\n            }\n          });\n          api.showTab('general');\n          changeSrc(helpers, info, state, api);\n        };\n        blobToDataUri(file).then(dataUrl => {\n          const blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n          if (info.automaticUploads) {\n            helpers.uploadImage(blobInfo).then(result => {\n              updateSrcAndSwitchTab(result.url);\n              finalize();\n            }).catch(err => {\n              finalize();\n              helpers.alertErr(err);\n            });\n          } else {\n            helpers.addToBlobCache(blobInfo);\n            updateSrcAndSwitchTab(blobInfo.blobUri());\n            api.unblock();\n          }\n        });\n      });\n    };\n    const changeHandler = (helpers, info, state) => (api, evt) => {\n      if (evt.name === 'src') {\n        changeSrc(helpers, info, state, api);\n      } else if (evt.name === 'images') {\n        changeImages(helpers, info, state, api);\n      } else if (evt.name === 'alt') {\n        state.prevAlt = api.getData().alt;\n      } else if (evt.name === 'fileinput') {\n        changeFileInput(helpers, info, state, api);\n      } else if (evt.name === 'isDecorative') {\n        api.setEnabled('alt', !api.getData().isDecorative);\n      }\n    };\n    const closeHandler = state => () => {\n      state.open = false;\n    };\n    const makeDialogBody = info => {\n      if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n        const tabPanel = {\n          type: 'tabpanel',\n          tabs: flatten([\n            [MainTab.makeTab(info)],\n            info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n            info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n          ])\n        };\n        return tabPanel;\n      } else {\n        const panel = {\n          type: 'panel',\n          items: MainTab.makeItems(info)\n        };\n        return panel;\n      }\n    };\n    const submitHandler = (editor, info, helpers) => api => {\n      const data = deepMerge(fromImageData(info.image), api.getData());\n      const finalData = {\n        ...data,\n        style: getStyleValue(helpers.normalizeCss, toImageData(data, false))\n      };\n      editor.execCommand('mceUpdateImage', false, toImageData(finalData, info.hasAccessibilityOptions));\n      editor.editorUpload.uploadImagesAuto();\n      api.close();\n    };\n    const imageSize = editor => url => {\n      if (!isSafeImageUrl(editor, url)) {\n        return Promise.resolve({\n          width: '',\n          height: ''\n        });\n      } else {\n        return getImageSize(editor.documentBaseURI.toAbsolute(url)).then(dimensions => ({\n          width: String(dimensions.width),\n          height: String(dimensions.height)\n        }));\n      }\n    };\n    const createBlobCache = editor => (file, blobUri, dataUrl) => {\n      var _a;\n      return editor.editorUpload.blobCache.create({\n        blob: file,\n        blobUri,\n        name: (_a = file.name) === null || _a === void 0 ? void 0 : _a.replace(/\\.[^\\.]+$/, ''),\n        filename: file.name,\n        base64: dataUrl.split(',')[1]\n      });\n    };\n    const addToBlobCache = editor => blobInfo => {\n      editor.editorUpload.blobCache.add(blobInfo);\n    };\n    const alertErr = editor => message => {\n      editor.windowManager.alert(message);\n    };\n    const normalizeCss = editor => cssText => normalizeCss$1(editor, cssText);\n    const parseStyle = editor => cssText => editor.dom.parseStyle(cssText);\n    const serializeStyle = editor => (stylesArg, name) => editor.dom.serializeStyle(stylesArg, name);\n    const uploadImage = editor => blobInfo => global$1(editor).upload([blobInfo], false).then(results => {\n      var _a;\n      if (results.length === 0) {\n        return Promise.reject('Failed to upload image');\n      } else if (results[0].status === false) {\n        return Promise.reject((_a = results[0].error) === null || _a === void 0 ? void 0 : _a.message);\n      } else {\n        return results[0];\n      }\n    });\n    const Dialog = editor => {\n      const helpers = {\n        imageSize: imageSize(editor),\n        addToBlobCache: addToBlobCache(editor),\n        createBlobCache: createBlobCache(editor),\n        alertErr: alertErr(editor),\n        normalizeCss: normalizeCss(editor),\n        parseStyle: parseStyle(editor),\n        serializeStyle: serializeStyle(editor),\n        uploadImage: uploadImage(editor)\n      };\n      const open = () => {\n        collect(editor).then(info => {\n          const state = createState(info);\n          return {\n            title: 'Insert/Edit Image',\n            size: 'normal',\n            body: makeDialogBody(info),\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            initialData: fromImageData(info.image),\n            onSubmit: submitHandler(editor, info, helpers),\n            onChange: changeHandler(helpers, info, state),\n            onClose: closeHandler(state)\n          };\n        }).then(editor.windowManager.open);\n      };\n      return { open };\n    };\n\n    const register$1 = editor => {\n      editor.addCommand('mceImage', Dialog(editor).open);\n      editor.addCommand('mceUpdateImage', (_ui, data) => {\n        editor.undoManager.transact(() => insertOrUpdateImage(editor, data));\n      });\n    };\n\n    const hasImageClass = node => {\n      const className = node.attr('class');\n      return isNonNullable(className) && /\\bimage\\b/.test(className);\n    };\n    const toggleContentEditableState = state => nodes => {\n      let i = nodes.length;\n      const toggleContentEditable = node => {\n        node.attr('contenteditable', state ? 'true' : null);\n      };\n      while (i--) {\n        const node = nodes[i];\n        if (hasImageClass(node)) {\n          node.attr('contenteditable', state ? 'false' : null);\n          global.each(node.getAll('figcaption'), toggleContentEditable);\n        }\n      }\n    };\n    const setup = editor => {\n      editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n\n    const onSetupEditable = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const register = editor => {\n      editor.ui.registry.addToggleButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onAction: Dialog(editor).open,\n        onSetup: buttonApi => {\n          buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n          const unbindSelectorChanged = editor.selection.selectorChangedWithUnbind('img:not([data-mce-object]):not([data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n          const unbindEditable = onSetupEditable(editor)(buttonApi);\n          return () => {\n            unbindSelectorChanged();\n            unbindEditable();\n          };\n        }\n      });\n      editor.ui.registry.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image...',\n        onAction: Dialog(editor).open,\n        onSetup: onSetupEditable(editor)\n      });\n      editor.ui.registry.addContextMenu('image', { update: element => editor.selection.isEditable() && (isFigure(element) || isImage(element) && !isPlaceholderImage(element)) ? ['image'] : [] });\n    };\n\n    var Plugin = () => {\n      global$4.add('image', editor => {\n        register$2(editor);\n        setup(editor);\n        register(editor);\n        register$1(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n    'use strict';\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('link_assume_external_targets', {\n        processor: value => {\n          const valid = isString(value) || isBoolean(value);\n          if (valid) {\n            if (value === true) {\n              return {\n                value: 1,\n                valid\n              };\n            } else if (value === 'http' || value === 'https') {\n              return {\n                value,\n                valid\n              };\n            } else {\n              return {\n                value: 0,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or a boolean.'\n            };\n          }\n        },\n        default: false\n      });\n      registerOption('link_context_toolbar', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_list', { processor: value => isString(value) || isFunction(value) || isArrayOf(value, isObject) });\n      registerOption('link_default_target', { processor: 'string' });\n      registerOption('link_default_protocol', {\n        processor: 'string',\n        default: 'https'\n      });\n      registerOption('link_target_list', {\n        processor: value => isBoolean(value) || isArrayOf(value, isObject),\n        default: true\n      });\n      registerOption('link_rel_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_title', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_quicklink', {\n        processor: 'boolean',\n        default: false\n      });\n    };\n    const assumeExternalTargets = option('link_assume_external_targets');\n    const hasContextToolbar = option('link_context_toolbar');\n    const getLinkList = option('link_list');\n    const getDefaultLinkTarget = option('link_default_target');\n    const getDefaultLinkProtocol = option('link_default_protocol');\n    const getTargetList = option('link_target_list');\n    const getRelList = option('link_rel_list');\n    const getLinkClassList = option('link_class_list');\n    const shouldShowLinkTitle = option('link_title');\n    const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n    const useQuickLink = option('link_quicklink');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global$4.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizeWith = (extracter = getValue) => list => Optional.from(list).map(list => sanitizeList(list, extracter));\n    const sanitize = list => sanitizeWith(getValue)(list);\n    const createUi = (name, label) => items => ({\n      name,\n      type: 'listbox',\n      label,\n      items\n    });\n    const ListOptions = {\n      sanitize,\n      sanitizeWith,\n      createUi,\n      getValue\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isAnchor = elm => isNonNullable(elm) && elm.nodeName.toLowerCase() === 'a';\n    const isLink = elm => isAnchor(elm) && !!getHref(elm);\n    const collectNodesInRange = (rng, predicate) => {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        const contents = rng.cloneContents();\n        const firstChild = contents.firstChild;\n        const walker = new global$3(firstChild, contents);\n        const elements = [];\n        let current = firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    const hasProtocol = url => /^\\w+:/i.test(url);\n    const getHref = elm => {\n      var _a, _b;\n      return (_b = (_a = elm.getAttribute('data-mce-href')) !== null && _a !== void 0 ? _a : elm.getAttribute('href')) !== null && _b !== void 0 ? _b : '';\n    };\n    const applyRelTargetRules = (rel, isUnsafe) => {\n      const rules = ['noopener'];\n      const rels = rel ? rel.split(/\\s+/) : [];\n      const toString = rels => global$4.trim(rels.sort().join(' '));\n      const addTargetRules = rels => {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      const removeTargetRules = rels => rels.filter(val => global$4.inArray(rules, val) === -1);\n      const newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    const trimCaretContainers = text => text.replace(/\\uFEFF/g, '');\n    const getAnchorElement = (editor, selectedElm) => {\n      selectedElm = selectedElm || getLinksInSelection(editor.selection.getRng())[0] || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return Optional.from(editor.dom.select('a[href]', selectedElm)[0]);\n      } else {\n        return Optional.from(editor.dom.getParent(selectedElm, 'a[href]'));\n      }\n    };\n    const isInAnchor = (editor, selectedElm) => getAnchorElement(editor, selectedElm).isSome();\n    const getAnchorText = (selection, anchorElm) => {\n      const text = anchorElm.fold(() => selection.getContent({ format: 'text' }), anchorElm => anchorElm.innerText || anchorElm.textContent || '');\n      return trimCaretContainers(text);\n    };\n    const getLinksInSelection = rng => collectNodesInRange(rng, isLink);\n    const getLinks$2 = elements => global$4.grep(elements, isLink);\n    const hasLinks = elements => getLinks$2(elements).length > 0;\n    const hasLinksInSelection = rng => getLinksInSelection(rng).length > 0;\n    const isOnlyTextSelected = editor => {\n      const inlineTextElements = editor.schema.getTextInlineElements();\n      const isElement = elm => elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      const isInBlockAnchor = getAnchorElement(editor).exists(anchor => anchor.hasAttribute('data-mce-block'));\n      if (isInBlockAnchor) {\n        return false;\n      }\n      const rng = editor.selection.getRng();\n      if (!rng.collapsed) {\n        const elements = collectNodesInRange(rng, isElement);\n        return elements.length === 0;\n      } else {\n        return true;\n      }\n    };\n    const isImageFigure = elm => isNonNullable(elm) && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    const getLinkAttrs = data => {\n      const attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, (acc, key) => {\n        data[key].each(value => {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    const handleExternalTargets = (href, assumeExternalTargets) => {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    const applyLinkOverrides = (editor, linkAttrs) => {\n      const newLinkAttrs = { ...linkAttrs };\n      if (getRelList(editor).length === 0 && !allowUnsafeLinkTarget(editor)) {\n        const newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    const updateLink = (editor, anchorElm, text, linkAttrs) => {\n      text.each(text => {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    const createLink = (editor, selectedElm, text, linkAttrs) => {\n      const dom = editor.dom;\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(dom, selectedElm, linkAttrs);\n      } else {\n        text.fold(() => {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, text => {\n          editor.insertContent(dom.createHTML('a', linkAttrs, dom.encode(text)));\n        });\n      }\n    };\n    const linkDomMutation = (editor, attachState, data) => {\n      const selectedElm = editor.selection.getNode();\n      const anchorElm = getAnchorElement(editor, selectedElm);\n      const linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(() => {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        anchorElm.fold(() => {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }, elm => {\n          editor.focus();\n          updateLink(editor, elm, data.text, linkAttrs);\n        });\n      });\n    };\n    const unlinkSelection = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const bookmark = selection.getBookmark();\n      const rng = selection.getRng().cloneRange();\n      const startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      const endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    const unlinkDomMutation = editor => {\n      editor.undoManager.transact(() => {\n        const node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    const unwrapOptions = data => {\n      const {\n        class: cls,\n        href,\n        rel,\n        target,\n        text,\n        title\n      } = data;\n      return filter({\n        class: cls.getOrNull(),\n        href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, (v, _k) => isNull(v) === false);\n    };\n    const sanitizeData = (editor, data) => {\n      const getOption = editor.options.get;\n      const uriOptions = {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      };\n      const href = data.href;\n      return {\n        ...data,\n        href: global$2.isDomSafe(href, 'a', uriOptions) ? href : ''\n      };\n    };\n    const link = (editor, attachState, data) => {\n      const sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    const unlink = editor => {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    const unlinkImageFigure = (editor, fig) => {\n      var _a;\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          (_a = a.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    const linkImageFigure = (dom, fig, attrs) => {\n      var _a;\n      const img = dom.select('img', fig)[0];\n      if (img) {\n        const a = dom.create('a', attrs);\n        (_a = img.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    const isListGroup = item => hasNonNullableKey(item, 'items');\n    const findTextByValue = (value, catalog) => findMap(catalog, item => {\n      if (isListGroup(item)) {\n        return findTextByValue(value, item.items);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const getDelta = (persistentText, fieldName, catalog, data) => {\n      const value = data[fieldName];\n      const hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(i => ({\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      })) : Optional.none();\n    };\n    const findCatalog = (catalogs, fieldName) => {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    const init = (initialData, linkCatalog) => {\n      const persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      const getTitleFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.title.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.title).getOr(''));\n      };\n      const getTextFromUrlChange = url => {\n        var _a;\n        return someIf(persistentData.text.length <= 0, Optional.from((_a = url.meta) === null || _a === void 0 ? void 0 : _a.text).getOr(url.value));\n      };\n      const onUrlChange = data => {\n        const text = getTextFromUrlChange(data.url);\n        const title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some({\n            ...text.map(text => ({ text })).getOr({}),\n            ...title.map(title => ({ title })).getOr({})\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const onCatalogChange = (data, change) => {\n        const catalog = findCatalog(linkCatalog, change).getOr([]);\n        return getDelta(persistentData.text, change, catalog, data);\n      };\n      const onChange = (getData, change) => {\n        const name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), name);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange };\n    };\n    const DialogChanges = {\n      init,\n      getDelta\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const delayedConfirm = (editor, message, callback) => {\n      const rng = editor.selection.getRng();\n      global$1.setEditorTimeout(editor, () => {\n        editor.windowManager.confirm(message, state => {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    const tryEmailTransform = data => {\n      const url = data.href;\n      const suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: oldData => ({\n          ...oldData,\n          href: 'mailto:' + url\n        })\n      }) : Optional.none();\n    };\n    const tryProtocolTransform = (assumeExternalTargets, defaultLinkProtocol) => data => {\n      const url = data.href;\n      const suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n      return suggestProtocol ? Optional.some({\n        message: `The URL you entered seems to be an external link. Do you want to add the required ${ defaultLinkProtocol }:// prefix?`,\n        preprocess: oldData => ({\n          ...oldData,\n          href: defaultLinkProtocol + '://' + url\n        })\n      }) : Optional.none();\n    };\n    const preprocess = (editor, data) => findMap([\n      tryEmailTransform,\n      tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n    ], f => f(data)).fold(() => Promise.resolve(data), transform => new Promise(callback => {\n      delayedConfirm(editor, transform.message, state => {\n        callback(state ? transform.preprocess(data) : data);\n      });\n    }));\n    const DialogConfirms = { preprocess };\n\n    const getAnchors = editor => {\n      const anchorNodes = editor.dom.select('a:not([href])');\n      const anchors = bind(anchorNodes, anchor => {\n        const id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    const AnchorListOptions = { getAnchors };\n\n    const getClasses = editor => {\n      const list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    const ClassListOptions = { getClasses };\n\n    const parseJson = text => {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const getLinks$1 = editor => {\n      const extractor = item => editor.convertURL(item.value || item.url || '', 'href');\n      const linkList = getLinkList(editor);\n      return new Promise(resolve => {\n        if (isString(linkList)) {\n          fetch(linkList).then(res => res.ok ? res.text().then(parseJson) : Promise.reject()).then(resolve, () => resolve(Optional.none()));\n        } else if (isFunction(linkList)) {\n          linkList(output => resolve(Optional.some(output)));\n        } else {\n          resolve(Optional.from(linkList));\n        }\n      }).then(optItems => optItems.bind(ListOptions.sanitizeWith(extractor)).map(items => {\n        if (items.length > 0) {\n          const noneItem = [{\n              text: 'None',\n              value: ''\n            }];\n          return noneItem.concat(items);\n        } else {\n          return items;\n        }\n      }));\n    };\n    const LinkListOptions = { getLinks: getLinks$1 };\n\n    const getRels = (editor, initialTarget) => {\n      const list = getRelList(editor);\n      if (list.length > 0) {\n        const isTargetBlank = is(initialTarget, '_blank');\n        const enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        const safeRelExtractor = item => applyRelTargetRules(ListOptions.getValue(item), isTargetBlank);\n        const sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    const RelOptions = { getRels };\n\n    const fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    const getTargets = editor => {\n      const list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(() => Optional.some(fallbacks));\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    const TargetOptions = { getTargets };\n\n    const nonEmptyAttr = (dom, elem, name) => {\n      const val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    const extractFromAnchor = (editor, anchor) => {\n      const dom = editor.dom;\n      const onlyText = isOnlyTextSelected(editor);\n      const text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      const url = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'href')));\n      const target = anchor.bind(anchorElm => Optional.from(dom.getAttrib(anchorElm, 'target')));\n      const rel = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'rel'));\n      const linkClass = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'class'));\n      const title = anchor.bind(anchorElm => nonEmptyAttr(dom, anchorElm, 'title'));\n      return {\n        url,\n        text,\n        title,\n        target,\n        rel,\n        linkClass\n      };\n    };\n    const collect = (editor, linkNode) => LinkListOptions.getLinks(editor).then(links => {\n      const anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: linkNode,\n        flags: { titleEnabled: shouldShowLinkTitle(editor) }\n      };\n    });\n    const DialogInfo = { collect };\n\n    const handleSubmit = (editor, info) => api => {\n      const data = api.getData();\n      if (!data.url.value) {\n        unlink(editor);\n        api.close();\n        return;\n      }\n      const getChangedValue = key => Optional.from(data[key]).filter(value => !is(info.anchor[key], value));\n      const changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      const attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n      };\n      DialogConfirms.preprocess(editor, changedData).then(pData => {\n        link(editor, attachState, pData);\n      });\n      api.close();\n    };\n    const collectData = editor => {\n      const anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    const getInitialData = (info, defaultTarget) => {\n      const anchor = info.anchor;\n      const url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    const makeDialog = (settings, onSubmit, editor) => {\n      const urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL',\n          picker_text: 'Browse links'\n        }];\n      const displayText = settings.anchor.text.map(() => ({\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      })).toArray();\n      const titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      const defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      const initialData = getInitialData(settings, defaultTarget);\n      const catalogs = settings.catalogs;\n      const dialogDelta = DialogChanges.init(initialData, catalogs);\n      const body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onChange: (api, {name}) => {\n          dialogDelta.onChange(api.getData, { name }).each(newData => {\n            api.setData(newData);\n          });\n        },\n        onSubmit\n      };\n    };\n    const open$1 = editor => {\n      const data = collectData(editor);\n      data.then(info => {\n        const onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(spec => {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    const register = editor => {\n      editor.addCommand('mceLink', (_ui, value) => {\n        if ((value === null || value === void 0 ? void 0 : value.dialog) === true || !useQuickLink(editor)) {\n          open$1(editor);\n        } else {\n          editor.dispatch('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        }\n      });\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const appendClickRemove = (link, evt) => {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    const open = url => {\n      const link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      const evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    const isSelectionOnImageWithEmbeddedLink = editor => {\n      const rng = editor.selection.getRng();\n      const node = rng.startContainer;\n      return isLink(node) && rng.startContainer === rng.endContainer && editor.dom.select('img', node).length === 1;\n    };\n    const getLinks = editor => editor.selection.isCollapsed() || isSelectionOnImageWithEmbeddedLink(editor) ? getLinks$2(editor.dom.getParents(editor.selection.getStart())) : getLinksInSelection(editor.selection.getRng());\n    const getSelectedLink = editor => getLinks(editor)[0];\n    const hasOnlyAltModifier = e => {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    const gotoLink = (editor, a) => {\n      if (a) {\n        const href = getHref(a);\n        if (/^#/.test(href)) {\n          const targetEl = editor.dom.select(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    const openDialog = editor => () => {\n      editor.execCommand('mceLink', false, { dialog: true });\n    };\n    const gotoSelectedLink = editor => () => {\n      gotoLink(editor, getSelectedLink(editor));\n    };\n    const setupGotoLinks = editor => {\n      editor.on('click', e => {\n        const links = getLinks$2(editor.dom.getParents(e.target));\n        if (links.length === 1 && global.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, links[0]);\n        }\n      });\n      editor.on('keydown', e => {\n        if (!e.isDefaultPrevented() && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          const link = getSelectedLink(editor);\n          if (link) {\n            e.preventDefault();\n            gotoLink(editor, link);\n          }\n        }\n      });\n    };\n    const toggleState = (editor, toggler) => {\n      editor.on('NodeChange', toggler);\n      return () => editor.off('NodeChange', toggler);\n    };\n    const toggleLinkState = editor => api => {\n      const updateState = () => {\n        api.setActive(!editor.mode.isReadOnly() && isInAnchor(editor, editor.selection.getNode()));\n        api.setEnabled(editor.selection.isEditable());\n      };\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleLinkMenuState = editor => api => {\n      const updateState = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const hasExactlyOneLinkInSelection = editor => getLinks(editor).length === 1;\n    const toggleGotoLinkState = editor => api => {\n      const updateState = () => api.setEnabled(hasExactlyOneLinkInSelection(editor));\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleUnlinkState = editor => api => {\n      const hasLinks$1 = parents => hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n      const parents = editor.dom.getParents(editor.selection.getStart());\n      const updateEnabled = parents => {\n        api.setEnabled(hasLinks$1(parents) && editor.selection.isEditable());\n      };\n      updateEnabled(parents);\n      return toggleState(editor, e => updateEnabled(e.parents));\n    };\n\n    const setup = editor => {\n      editor.addShortcut('Meta+K', '', () => {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    const setupButtons = editor => {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleLinkState(editor),\n        shortcut: 'Meta+K'\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleGotoLinkState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupMenuItems = editor => {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleGotoLinkState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onSetup: toggleLinkMenuState(editor),\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupContextMenu = editor => {\n      const inLink = 'link unlink openlink';\n      const noLink = 'link';\n      editor.ui.registry.addContextMenu('link', {\n        update: element => {\n          const isEditable = editor.dom.isEditable(element);\n          if (!isEditable) {\n            return '';\n          }\n          return hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink;\n        }\n      });\n    };\n    const setupContextToolbars = editor => {\n      const collapseSelectionToEnd = editor => {\n        editor.selection.collapse(false);\n      };\n      const onSetupLink = buttonApi => {\n        const node = editor.selection.getNode();\n        buttonApi.setEnabled(isInAnchor(editor, node));\n        return noop;\n      };\n      const getLinkText = value => {\n        const anchor = getAnchorElement(editor);\n        const onlyText = isOnlyTextSelected(editor);\n        if (anchor.isNone() && onlyText) {\n          const text = getAnchorText(editor.selection, anchor);\n          return someIf(text.length === 0, value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleLinkState(editor)\n        },\n        label: 'Link',\n        predicate: node => hasContextToolbar(editor) && isInAnchor(editor, node),\n        initValue: () => {\n          const elm = getAnchorElement(editor);\n          return elm.fold(constant(''), getHref);\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: buttonApi => {\n              const node = editor.selection.getNode();\n              buttonApi.setActive(isInAnchor(editor, node));\n              return toggleLinkState(editor)(buttonApi);\n            },\n            onAction: formApi => {\n              const value = formApi.getValue();\n              const text = getLinkText(value);\n              const attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.from(getDefaultLinkTarget(editor)),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    var Plugin = () => {\n      global$5.add('link', editor => {\n        register$1(editor);\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n    'use strict';\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const never = constant(false);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$1 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const filter$1 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const groupBy = (xs, f) => {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        let wasType = f(xs[0]);\n        const r = [];\n        let group = [];\n        for (let i = 0, len = xs.length; i < len; i++) {\n          const x = xs[i];\n          const type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const get$1 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$1(xs, 0);\n    const last = xs => get$1(xs, xs.length - 1);\n    const unique = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$1(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is = is$1;\n\n    const Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const path = (parts, scope) => {\n      let o = scope !== undefined && scope !== null ? scope : Global;\n      for (let i = 0; i < parts.length && o !== undefined && o !== null; ++i) {\n        o = o[parts[i]];\n      }\n      return o;\n    };\n    const resolve = (p, scope) => {\n      const parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    const unsafe = (name, scope) => {\n      return resolve(name, scope);\n    };\n    const getOrDie = (name, scope) => {\n      const actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) {\n        throw new Error(name + ' not available on this browser');\n      }\n      return actual;\n    };\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const sandHTMLElement = scope => {\n      return getOrDie('HTMLElement', scope);\n    };\n    const isPrototypeOf = x => {\n      const scope = resolve('ownerDocument.defaultView', x);\n      return isObject(x) && (sandHTMLElement(scope).prototype.isPrototypeOf(x) || /^HTML\\w*Element$/.test(getPrototypeOf(x).constructor.name));\n    };\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isHTMLElement = element => isElement$1(element) && isPrototypeOf(element.dom);\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name(e) === tag;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child(element, 0);\n    const lastChild = element => child(element, element.dom.childNodes.length - 1);\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$3 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$3, scope, predicate, isRoot);\n    };\n\n    const ancestor$2 = (scope, selector, isRoot) => ancestor$3(scope, e => is$1(e, selector), isRoot);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$1(element, selector);\n      return ClosestOrAncestor(is, ancestor$2, scope, selector, isRoot);\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n\n    const before = (marker, elements) => {\n      each$1(elements, x => {\n        before$1(marker, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$1(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove(rogue);\n      });\n    };\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const keys = Object.keys;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const deep = original => clone(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after(original, nu);\n      const children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const matchNodeName = name => node => isNonNullable(node) && node.nodeName.toLowerCase() === name;\n    const matchNodeNames = regex => node => isNonNullable(node) && regex.test(node.nodeName);\n    const isTextNode$1 = node => isNonNullable(node) && node.nodeType === 3;\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    const isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    const isOlNode = matchNodeName('ol');\n    const isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    const isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    const isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    const isBr = matchNodeName('br');\n    const isFirstChild = node => {\n      var _a;\n      return ((_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === node;\n    };\n    const isTextBlock = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getTextBlockElements();\n    const isBlock = (node, blockElements) => isNonNullable(node) && node.nodeName in blockElements;\n    const isVoid = (editor, node) => isNonNullable(node) && node.nodeName in editor.schema.getVoidElements();\n    const isBogusBr = (dom, node) => {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    const isEmpty$2 = (dom, elm, keepBookmarks) => {\n      const empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    const isChildOfBody = (dom, elm) => dom.isChildOf(elm, dom.getRoot());\n\n    const option = name => editor => editor.options.get(name);\n    const register$3 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('lists_indent_on_tab', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const shouldIndentOnTab = option('lists_indent_on_tab');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n\n    const createTextBlock = (editor, contentNode, attrs = {}) => {\n      const dom = editor.dom;\n      const blockElements = editor.schema.getBlockElements();\n      const fragment = dom.createFragment();\n      const blockName = getForcedRootBlock(editor);\n      const blockAttrs = getForcedRootBlockAttrs(editor);\n      let node;\n      let textBlock;\n      let hasContentNode = false;\n      textBlock = dom.create(blockName, {\n        ...blockAttrs,\n        ...attrs.style ? { style: attrs.style } : {}\n      });\n      if (!isBlock(contentNode.firstChild, blockElements)) {\n        fragment.appendChild(textBlock);\n      }\n      while (node = contentNode.firstChild) {\n        const nodeName = node.nodeName;\n        if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n          hasContentNode = true;\n        }\n        if (isBlock(node, blockElements)) {\n          fragment.appendChild(node);\n          textBlock = null;\n        } else {\n          if (!textBlock) {\n            textBlock = dom.create(blockName, blockAttrs);\n            fragment.appendChild(textBlock);\n          }\n          textBlock.appendChild(node);\n        }\n      }\n      if (!hasContentNode && textBlock) {\n        textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n      }\n      return fragment;\n    };\n\n    const DOM$2 = global$3.DOM;\n    const splitList = (editor, list, li) => {\n      const removeAndKeepBookmarks = targetNode => {\n        const parent = targetNode.parentNode;\n        if (parent) {\n          global$2.each(bookmarks, node => {\n            parent.insertBefore(node, li.parentNode);\n          });\n        }\n        DOM$2.remove(targetNode);\n      };\n      const bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      const newBlock = createTextBlock(editor, li);\n      const tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      const fragment = tmpRng.extractContents();\n      for (let node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      const parent = li.parentElement;\n      if (parent && isEmpty$2(editor.dom, parent)) {\n        removeAndKeepBookmarks(parent);\n      }\n      DOM$2.remove(li);\n      if (isEmpty$2(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    const isDescriptionDetail = isTag('dd');\n    const isDescriptionTerm = isTag('dt');\n    const outdentDlItem = (editor, item) => {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parentElement(item).each(dl => splitList(editor, dl.dom, item.dom));\n      }\n    };\n    const indentDlItem = item => {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    const dlIndentation = (editor, indentation, dlItems) => {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, item => outdentDlItem(editor, item));\n      }\n    };\n\n    const getNormalizedPoint = (container, offset) => {\n      if (isTextNode$1(container)) {\n        return {\n          container,\n          offset\n        };\n      }\n      const node = global$6.getNode(container, offset);\n      if (isTextNode$1(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode$1(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode$1(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container,\n        offset\n      };\n    };\n    const normalizeRange = rng => {\n      const outRng = rng.cloneRange();\n      const rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      const rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    const listNames = [\n      'OL',\n      'UL',\n      'DL'\n    ];\n    const listSelector = listNames.join(',');\n    const getParentList = (editor, node) => {\n      const selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, listSelector, getClosestListHost(editor, selectionStart));\n    };\n    const isParentListSelected = (parentList, selectedBlocks) => isNonNullable(parentList) && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    const findSubLists = parentList => filter$1(parentList.querySelectorAll(listSelector), isListNode);\n    const getSelectedSubLists = editor => {\n      const parentList = getParentList(editor);\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, elm => {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    const findParentListItemsNodes = (editor, elms) => {\n      const listItemsElms = global$2.map(elms, elm => {\n        const parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListHost(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return unique(listItemsElms);\n    };\n    const getSelectedListItems = editor => {\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    const getSelectedDlItems = editor => filter$1(getSelectedListItems(editor), isDlItemNode);\n    const getClosestEditingHost = (editor, elm) => {\n      const parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    const isListHost = (schema, node) => !isListNode(node) && !isListItemNode(node) && exists(listNames, listName => schema.isValidChild(node.nodeName, listName));\n    const getClosestListHost = (editor, elm) => {\n      const parentBlocks = editor.dom.getParents(elm, editor.dom.isBlock);\n      const isNotForcedRootBlock = elm => elm.nodeName.toLowerCase() !== getForcedRootBlock(editor);\n      const parentBlock = find(parentBlocks, elm => isNotForcedRootBlock(elm) && isListHost(editor.schema, elm));\n      return parentBlock.getOr(editor.getBody());\n    };\n    const isListInsideAnLiWithFirstAndLastNotListElement = list => parent(list).exists(parent => isListItemNode(parent.dom) && firstChild(parent).exists(firstChild => !isListNode(firstChild.dom)) && lastChild(parent).exists(lastChild => !isListNode(lastChild.dom)));\n    const findLastParentListNode = (editor, elm) => {\n      const parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListHost(editor, elm));\n      return last(parentLists);\n    };\n    const getSelectedLists = editor => {\n      const firstList = findLastParentListNode(editor, editor.selection.getStart());\n      const subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    const getParentLists = editor => {\n      const elm = editor.selection.getStart();\n      return editor.dom.getParents(elm, 'ol,ul', getClosestListHost(editor, elm));\n    };\n    const getSelectedListRoots = editor => {\n      const selectedLists = getSelectedLists(editor);\n      const parentLists = getParentLists(editor);\n      return find(parentLists, p => isListInsideAnLiWithFirstAndLastNotListElement(SugarElement.fromDom(p))).fold(() => getUniqueListRoots(editor, selectedLists), l => [l]);\n    };\n    const getUniqueListRoots = (editor, lists) => {\n      const listRoots = map(lists, list => findLastParentListNode(editor, list).getOr(list));\n      return unique(listRoots);\n    };\n\n    const isCustomList = list => /\\btox\\-/.test(list.className);\n    const inList = (parents, listName) => findUntil(parents, isListNode, isTableCellNode).exists(list => list.nodeName === listName && !isCustomList(list));\n    const isWithinNonEditable = (editor, element) => element !== null && !editor.dom.isEditable(element);\n    const selectionIsWithinNonEditableList = editor => {\n      const parentList = getParentList(editor);\n      return isWithinNonEditable(editor, parentList);\n    };\n    const isWithinNonEditableList = (editor, element) => {\n      const parentList = editor.dom.getParent(element, 'ol,ul,dl');\n      return isWithinNonEditable(editor, parentList);\n    };\n    const setNodeChangeHandler = (editor, nodeChangeHandler) => {\n      const initialNode = editor.selection.getNode();\n      nodeChangeHandler({\n        parents: editor.dom.getParents(initialNode),\n        element: initialNode\n      });\n      editor.on('NodeChange', nodeChangeHandler);\n      return () => editor.off('NodeChange', nodeChangeHandler);\n    };\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$1(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const fireListEvent = (editor, action, element) => editor.dispatch('ListMutation', {\n      action,\n      element\n    });\n\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty$1 = s => !isNotEmpty(s);\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const set = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    const isList = el => is(el, 'OL,UL');\n    const isListItem = el => is(el, 'LI');\n    const hasFirstChildList = el => firstChild(el).exists(isList);\n    const hasLastChildList = el => lastChild(el).exists(isList);\n\n    const isEntryList = entry => 'listAttributes' in entry;\n    const isEntryComment = entry => 'isComment' in entry;\n    const isEntryFragment = entry => 'isFragment' in entry;\n    const isIndented = entry => entry.depth > 0;\n    const isSelected = entry => entry.isSelected;\n    const cloneItemContent = li => {\n      const children$1 = children(li);\n      const content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    const createEntry = (li, depth, isSelected) => parent(li).filter(isElement$1).map(list => ({\n      depth,\n      dirty: false,\n      isSelected,\n      content: cloneItemContent(li),\n      itemAttributes: clone$1(li),\n      listAttributes: clone$1(list),\n      listType: name(list),\n      isInPreviousLi: false\n    }));\n\n    const joinSegment = (parent, child) => {\n      append$1(parent.item, child.list);\n    };\n    const joinSegments = segments => {\n      for (let i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    const appendSegments = (head$1, tail) => {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    const createSegment = (scope, listType) => {\n      const segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    const createSegments = (scope, entry, size) => {\n      const segments = [];\n      for (let i = 0; i < size; i++) {\n        segments.push(createSegment(scope, isEntryList(entry) ? entry.listType : entry.parentListType));\n      }\n      return segments;\n    };\n    const populateSegments = (segments, entry) => {\n      for (let i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(segment => {\n        if (isEntryList(entry)) {\n          setAll(segment.list, entry.listAttributes);\n          setAll(segment.item, entry.itemAttributes);\n        }\n        append(segment.item, entry.content);\n      });\n    };\n    const normalizeSegment = (segment, entry) => {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    const createItem = (scope, attr, content) => {\n      const item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    const appendItem = (segment, item) => {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    const writeShallow = (scope, cast, entry) => {\n      const newCast = cast.slice(0, entry.depth);\n      last(newCast).each(segment => {\n        if (isEntryList(entry)) {\n          const item = createItem(scope, entry.itemAttributes, entry.content);\n          appendItem(segment, item);\n          normalizeSegment(segment, entry);\n        } else if (isEntryFragment(entry)) {\n          append(segment.item, entry.content);\n        } else {\n          const item = SugarElement.fromHtml(`<!--${ entry.content }-->`);\n          append$1(segment.list, item);\n        }\n      });\n      return newCast;\n    };\n    const writeDeep = (scope, cast, entry) => {\n      const segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    const composeList = (scope, entries) => {\n      let firstCommentEntryOpt = Optional.none();\n      const cast = foldl(entries, (cast, entry, i) => {\n        if (!isEntryComment(entry)) {\n          return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n        } else {\n          if (i === 0) {\n            firstCommentEntryOpt = Optional.some(entry);\n            return cast;\n          }\n          return writeShallow(scope, cast, entry);\n        }\n      }, []);\n      firstCommentEntryOpt.each(firstCommentEntry => {\n        const item = SugarElement.fromHtml(`<!--${ firstCommentEntry.content }-->`);\n        head(cast).each(fistCast => {\n          prepend(fistCast.list, item);\n        });\n      });\n      return head(cast).map(segment => segment.list);\n    };\n\n    const indentEntry = (indentation, entry) => {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    const cloneListProperties = (target, source) => {\n      if (isEntryList(target) && isEntryList(source)) {\n        target.listType = source.listType;\n        target.listAttributes = { ...source.listAttributes };\n      }\n    };\n    const cleanListProperties = entry => {\n      entry.listAttributes = filter(entry.listAttributes, (_value, key) => key !== 'start');\n    };\n    const closestSiblingEntry = (entries, start) => {\n      const depth = entries[start].depth;\n      const matches = entry => entry.depth === depth && !entry.dirty;\n      const until = entry => entry.depth < depth;\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(() => findUntil(entries.slice(start + 1), matches, until));\n    };\n    const normalizeEntries = entries => {\n      each$1(entries, (entry, i) => {\n        closestSiblingEntry(entries, i).fold(() => {\n          if (entry.dirty && isEntryList(entry)) {\n            cleanListProperties(entry);\n          }\n        }, matchingEntry => cloneListProperties(entry, matchingEntry));\n      });\n      return entries;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const parseSingleItem = (depth, itemSelection, selectionState, item) => {\n      var _a;\n      if (isComment(item)) {\n        return [{\n            depth: depth + 1,\n            content: (_a = item.dom.nodeValue) !== null && _a !== void 0 ? _a : '',\n            dirty: false,\n            isSelected: false,\n            isComment: true\n          }];\n      }\n      itemSelection.each(selection => {\n        if (eq(selection.start, item)) {\n          selectionState.set(true);\n        }\n      });\n      const currentItemEntry = createEntry(item, depth, selectionState.get());\n      itemSelection.each(selection => {\n        if (eq(selection.end, item)) {\n          selectionState.set(false);\n        }\n      });\n      const childListEntries = lastChild(item).filter(isList).map(list => parseList(depth, itemSelection, selectionState, list)).getOr([]);\n      return currentItemEntry.toArray().concat(childListEntries);\n    };\n    const parseItem = (depth, itemSelection, selectionState, item) => firstChild(item).filter(isList).fold(() => parseSingleItem(depth, itemSelection, selectionState, item), list => {\n      const parsedSiblings = foldl(children(item), (acc, liChild, i) => {\n        if (i === 0) {\n          return acc;\n        } else {\n          if (isListItem(liChild)) {\n            return acc.concat(parseSingleItem(depth, itemSelection, selectionState, liChild));\n          } else {\n            const fragment = {\n              isFragment: true,\n              depth,\n              content: [liChild],\n              isSelected: false,\n              dirty: false,\n              parentListType: name(list)\n            };\n            return acc.concat(fragment);\n          }\n        }\n      }, []);\n      return parseList(depth, itemSelection, selectionState, list).concat(parsedSiblings);\n    });\n    const parseList = (depth, itemSelection, selectionState, list) => bind(children(list), element => {\n      const parser = isList(element) ? parseList : parseItem;\n      const newDepth = depth + 1;\n      return parser(newDepth, itemSelection, selectionState, element);\n    });\n    const parseLists = (lists, itemSelection) => {\n      const selectionState = Cell(false);\n      const initialDepth = 0;\n      return map(lists, list => ({\n        sourceList: list,\n        entries: parseList(initialDepth, itemSelection, selectionState, list)\n      }));\n    };\n\n    const outdentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, entry => {\n        const content = !isEntryComment(entry) ? fromElements(entry.content) : fromElements([SugarElement.fromHtml(`<!--${ entry.content }-->`)]);\n        const listItemAttrs = isEntryList(entry) ? entry.itemAttributes : {};\n        return SugarElement.fromDom(createTextBlock(editor, content.dom, listItemAttrs));\n      });\n    };\n    const indentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    const composeEntries = (editor, entries) => bind(groupBy(entries, isIndented), entries => {\n      const groupIsIndented = head(entries).exists(isIndented);\n      return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n    });\n    const indentSelectedEntries = (entries, indentation) => {\n      each$1(filter$1(entries, isSelected), entry => indentEntry(indentation, entry));\n    };\n    const getItemSelection = editor => {\n      const selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList)), (start, end) => ({\n        start,\n        end\n      }));\n    };\n    const listIndentation = (editor, lists, indentation) => {\n      const entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, entrySet => {\n        indentSelectedEntries(entrySet.entries, indentation);\n        const composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, composedList => {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    const selectionIndentation = (editor, indentation) => {\n      const lists = fromDom(getSelectedListRoots(editor));\n      const dlItems = fromDom(getSelectedDlItems(editor));\n      let isHandled = false;\n      if (lists.length || dlItems.length) {\n        const bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    const handleIndentation = (editor, indentation) => !selectionIsWithinNonEditableList(editor) && selectionIndentation(editor, indentation);\n    const indentListSelection = editor => handleIndentation(editor, 'Indent');\n    const outdentListSelection = editor => handleIndentation(editor, 'Outdent');\n    const flattenListSelection = editor => handleIndentation(editor, 'Flatten');\n\n    const zeroWidth = '\\uFEFF';\n    const isZwsp = char => char === zeroWidth;\n\n    const ancestor$1 = (scope, predicate, isRoot) => ancestor$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (element, target) => ancestor$1(element, curry(eq, target));\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    const DOM$1 = global$3.DOM;\n    const createBookmark = rng => {\n      const bookmark = {};\n      const setupEndPoint = start => {\n        let container = rng[start ? 'startContainer' : 'endContainer'];\n        let offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (isElement(container)) {\n          const offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    const resolveBookmark = bookmark => {\n      const restoreEndPoint = start => {\n        const nodeIndex = container => {\n          var _a;\n          let node = (_a = container.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild;\n          let idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (!isElement(node) || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        let container = bookmark[start ? 'startContainer' : 'endContainer'];\n        let offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (isElement(container) && container.parentNode) {\n          const node = container;\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      const rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    const listToggleActionFromListName = listName => {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    const updateListStyle = (dom, el, detail) => {\n      const type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    const setAttribs = (elm, attrs) => {\n      global$2.each(attrs, (value, key) => {\n        elm.setAttribute(key, value);\n      });\n    };\n    const updateListAttrs = (dom, el, detail) => {\n      setAttribs(el, detail['list-attributes']);\n      global$2.each(dom.select('li', el), li => {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    const updateListWithDetails = (dom, el, detail) => {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    const removeStyles = (dom, element, styles) => {\n      global$2.each(styles, style => dom.setStyle(element, style, ''));\n    };\n    const isInline = (editor, node) => isNonNullable(node) && !isBlock(node, editor.schema.getBlockElements());\n    const getEndPointNode = (editor, rng, start, root) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      const offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement(container)) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      const findBlockAncestor = node => {\n        while (!editor.dom.isBlock(node) && node.parentNode && root !== node) {\n          node = node.parentNode;\n        }\n        return node;\n      };\n      const findBetterContainer = (container, forward) => {\n        var _a;\n        const walker = new global$5(container, findBlockAncestor(container));\n        const dir = forward ? 'next' : 'prev';\n        let node;\n        while (node = walker[dir]()) {\n          if (!(isVoid(editor, node) || isZwsp(node.textContent) || ((_a = node.textContent) === null || _a === void 0 ? void 0 : _a.length) === 0)) {\n            return Optional.some(node);\n          }\n        }\n        return Optional.none();\n      };\n      if (start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, false).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.previousSibling !== null && (isInline(editor, container.previousSibling) || isTextNode$1(container.previousSibling))) {\n            container = container.previousSibling;\n          }\n        }\n      }\n      if (!start && isTextNode$1(container)) {\n        if (isZwsp(container.textContent)) {\n          container = findBetterContainer(container, true).getOr(container);\n        } else {\n          if (container.parentNode !== null && isInline(editor, container.parentNode)) {\n            container = container.parentNode;\n          }\n          while (container.nextSibling !== null && (isInline(editor, container.nextSibling) || isTextNode$1(container.nextSibling))) {\n            container = container.nextSibling;\n          }\n        }\n      }\n      while (container.parentNode !== root) {\n        const parent = container.parentNode;\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(parent.nodeName)) {\n          return container;\n        }\n        container = parent;\n      }\n      return container;\n    };\n    const getSelectedTextBlocks = (editor, rng, root) => {\n      const textBlocks = [];\n      const dom = editor.dom;\n      const startNode = getEndPointNode(editor, rng, true, root);\n      const endNode = getEndPointNode(editor, rng, false, root);\n      let block;\n      const siblings = [];\n      for (let node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$2.each(siblings, node => {\n        var _a;\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        const nextSibling = node.nextSibling;\n        if (global$1.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    const hasCompatibleStyle = (dom, sib, detail) => {\n      const sibStyle = dom.getStyle(sib, 'list-style-type');\n      let detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    const getRootSearchStart = (editor, range) => {\n      const start = editor.selection.getStart(true);\n      const startPoint = getEndPointNode(editor, range, true, editor.getBody());\n      if (ancestor(SugarElement.fromDom(startPoint), SugarElement.fromDom(range.commonAncestorContainer))) {\n        return range.commonAncestorContainer;\n      } else {\n        return start;\n      }\n    };\n    const applyList = (editor, listName, detail) => {\n      const rng = editor.selection.getRng();\n      let listItemName = 'LI';\n      const root = getClosestListHost(editor, getRootSearchStart(editor, rng));\n      const dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      const bookmark = createBookmark(rng);\n      const selectedTextBlocks = filter$1(getSelectedTextBlocks(editor, rng, root), editor.dom.isEditable);\n      global$2.each(selectedTextBlocks, block => {\n        let listBlock;\n        const sibling = block.previousSibling;\n        const parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            parent.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    const isValidLists = (list1, list2) => {\n      return isListNode(list1) && list1.nodeName === (list2 === null || list2 === void 0 ? void 0 : list2.nodeName);\n    };\n    const hasSameListStyle = (dom, list1, list2) => {\n      const targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      const style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    const hasSameClasses = (elm1, elm2) => {\n      return elm1.className === elm2.className;\n    };\n    const shouldMerge = (dom, list1, list2) => {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    const mergeWithAdjacentLists = (dom, listBlock) => {\n      let node;\n      let sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(liSibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        const liSibling = sibling;\n        while (node = liSibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(liSibling);\n      }\n    };\n    const updateList$1 = (editor, list, listName, detail) => {\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const updateCustomList = (editor, list, listName, detail) => {\n      list.classList.forEach((cls, _, classList) => {\n        if (cls.startsWith('tox-')) {\n          classList.remove(cls);\n          if (classList.length === 0) {\n            list.removeAttribute('class');\n          }\n        }\n      });\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const toggleMultipleLists = (editor, parentList, lists, listName, detail) => {\n      const parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        const bookmark = createBookmark(editor.selection.getRng());\n        const allLists = parentIsList ? [\n          parentList,\n          ...lists\n        ] : lists;\n        const updateFunction = parentIsList && isCustomList(parentList) ? updateCustomList : updateList$1;\n        global$2.each(allLists, elm => {\n          updateFunction(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const hasListStyleDetail = detail => {\n      return 'list-style-type' in detail;\n    };\n    const toggleSingleList = (editor, parentList, listName, detail) => {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          const bookmark = createBookmark(editor.selection.getRng());\n          if (isCustomList(parentList)) {\n            parentList.classList.forEach((cls, _, classList) => {\n              if (cls.startsWith('tox-')) {\n                classList.remove(cls);\n                if (classList.length === 0) {\n                  parentList.removeAttribute('class');\n                }\n              }\n            });\n          }\n          updateListWithDetails(editor.dom, parentList, detail);\n          const newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    const toggleList = (editor, listName, _detail) => {\n      const parentList = getParentList(editor);\n      if (isWithinNonEditableList(editor, parentList)) {\n        return;\n      }\n      const selectedSubLists = getSelectedSubLists(editor);\n      const detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    const DOM = global$3.DOM;\n    const normalizeList = (dom, list) => {\n      const parentNode = list.parentElement;\n      if (parentNode && parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty$2(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    const normalizeLists = (dom, element) => {\n      const lists = global$2.grep(dom.select('ol,ul', element));\n      global$2.each(lists, list => {\n        normalizeList(dom, list);\n      });\n    };\n\n    const findNextCaretContainer = (editor, rng, isForward, root) => {\n      let node = rng.startContainer;\n      const offset = rng.startOffset;\n      if (isTextNode$1(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      const nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (isElement(node)) {\n        node = global$6.getNode(node, offset);\n      }\n      const walker = new global$5(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      const walkFn = isForward ? walker.next.bind(walker) : walker.prev2.bind(walker);\n      while (node = walkFn()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode$1(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n      return null;\n    };\n    const hasOnlyOneBlockChild = (dom, elm) => {\n      const childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    const isUnwrappable = node => Optional.from(node).map(SugarElement.fromDom).filter(isHTMLElement).exists(el => isEditable(el) && !contains$1(['details'], name(el)));\n    const unwrapSingleBlockChild = (dom, elm) => {\n      if (hasOnlyOneBlockChild(dom, elm) && isUnwrappable(elm.firstChild)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    const moveChildren = (dom, fromElm, toElm) => {\n      let node;\n      const targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty$2(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    const mergeLiElements = (dom, fromElm, toElm) => {\n      let listNode;\n      const ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      const node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty$2(dom, toElm, true)) {\n        empty(SugarElement.fromDom(toElm));\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      const contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      const nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, list => {\n        if (isEmpty$2(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    const mergeIntoEmptyLi = (editor, fromLi, toLi) => {\n      empty(SugarElement.fromDom(toLi));\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    const mergeForward = (editor, rng, fromLi, toLi) => {\n      const dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        const bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const mergeBackward = (editor, rng, fromLi, toLi) => {\n      const bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      const resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    const backspaceDeleteFromListToListCaret = (editor, isForward) => {\n      const dom = editor.dom, selection = editor.selection;\n      const selectionStartElm = selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        const ul = li.parentElement;\n        if (ul === editor.getBody() && isEmpty$2(dom, ul)) {\n          return true;\n        }\n        const rng = normalizeRange(selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        const willMergeParentIntoChild = otherLi && (isForward ? dom.isChildOf(li, otherLi) : dom.isChildOf(otherLi, li));\n        if (otherLi && otherLi !== li && !willMergeParentIntoChild) {\n          editor.undoManager.transact(() => {\n            if (isForward) {\n              mergeForward(editor, rng, otherLi, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng, li, otherLi);\n              }\n            }\n          });\n          return true;\n        } else if (willMergeParentIntoChild && !isForward && otherLi !== li) {\n          editor.undoManager.transact(() => {\n            if (rng.commonAncestorContainer.parentElement) {\n              const bookmark = createBookmark(rng);\n              const oldParentElRef = rng.commonAncestorContainer.parentElement;\n              moveChildren(dom, rng.commonAncestorContainer.parentElement, otherLi);\n              oldParentElRef.remove();\n              const resolvedBookmark = resolveBookmark(bookmark);\n              editor.selection.setRng(resolvedBookmark);\n            }\n          });\n          return true;\n        } else if (!otherLi) {\n          if (!isForward && rng.startOffset === 0 && rng.endOffset === 0) {\n            editor.undoManager.transact(() => {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const removeBlock = (dom, block, root) => {\n      const parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    const backspaceDeleteIntoListCaret = (editor, isForward) => {\n      const dom = editor.dom;\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block, undefined, { checkRootAsContent: true })) {\n        const rng = normalizeRange(editor.selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi) {\n          const findValidElement = element => contains$1([\n            'td',\n            'th',\n            'caption'\n          ], name(element));\n          const findRoot = node => node.dom === root;\n          const otherLiCell = closest$2(SugarElement.fromDom(otherLi), findValidElement, findRoot);\n          const caretCell = closest$2(SugarElement.fromDom(rng.startContainer), findValidElement, findRoot);\n          if (!equals(otherLiCell, caretCell, eq)) {\n            return false;\n          }\n          editor.undoManager.transact(() => {\n            const parentNode = otherLi.parentNode;\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, parentNode);\n            editor.selection.select(otherLi, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const backspaceDeleteCaret = (editor, isForward) => {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    const hasListSelection = editor => {\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestEditingHost(editor, selectionStartElm);\n      const startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      return startListParent || getSelectedListItems(editor).length > 0;\n    };\n    const backspaceDeleteRange = editor => {\n      if (hasListSelection(editor)) {\n        editor.undoManager.transact(() => {\n          editor.execCommand('Delete');\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    const backspaceDelete = (editor, isForward) => {\n      const selection = editor.selection;\n      return !isWithinNonEditableList(editor, selection.getNode()) && (selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor));\n    };\n    const setup$2 = editor => {\n      editor.on('ExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if ((cmd === 'delete' || cmd === 'forwarddelete') && hasListSelection(editor)) {\n          normalizeLists(editor.dom, editor.getBody());\n        }\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === global$4.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$4.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    const get = editor => ({\n      backspaceDelete: isForward => {\n        backspaceDelete(editor, isForward);\n      }\n    });\n\n    const updateList = (editor, update) => {\n      const parentList = getParentList(editor);\n      if (parentList === null || isWithinNonEditableList(editor, parentList)) {\n        return;\n      }\n      editor.undoManager.transact(() => {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, (v, k) => editor.dom.setAttrib(parentList, k, v));\n        }\n      });\n    };\n\n    const parseAlphabeticBase26 = str => {\n      const chars = reverse(trim(str).split(''));\n      const values = map(chars, (char, i) => {\n        const charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, (sum, v) => sum + v, 0);\n    };\n    const composeAlphabeticBase26 = value => {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        const remainder = value % 26;\n        const quotient = Math.floor(value / 26);\n        const rest = composeAlphabeticBase26(quotient);\n        const char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    const isUppercase = str => /^[A-Z]+$/.test(str);\n    const isLowercase = str => /^[a-z]+$/.test(str);\n    const isNumeric = str => /^[0-9]+$/.test(str);\n    const deduceListType = start => {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty$1(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    const parseStartValue = start => {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    const parseDetail = detail => {\n      const start = parseInt(detail.start, 10);\n      if (is$2(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is$2(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    const open = editor => {\n      const currentList = getParentList(editor);\n      if (!isOlNode(currentList) || isWithinNonEditableList(editor, currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.from(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const data = api.getData();\n          parseStartValue(data.start).each(detail => {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    const queryListCommandState = (editor, listName) => () => {\n      const parentList = getParentList(editor);\n      return isNonNullable(parentList) && parentList.nodeName === listName;\n    };\n    const registerDialog = editor => {\n      editor.addCommand('mceListProps', () => {\n        open(editor);\n      });\n    };\n    const register$2 = editor => {\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', (ui, detail) => {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', (ui, detail) => {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', (ui, detail) => {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', () => {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', (ui, detail) => {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    const isTextNode = node => node.type === 3;\n    const isEmpty = nodeBuffer => nodeBuffer.length === 0;\n    const wrapInvalidChildren = list => {\n      const insertListItem = (buffer, refNode) => {\n        const li = global.create('li');\n        each$1(buffer, node => li.append(node));\n        if (refNode) {\n          list.insert(li, refNode, true);\n        } else {\n          list.append(li);\n        }\n      };\n      const reducer = (buffer, node) => {\n        if (isTextNode(node)) {\n          return [\n            ...buffer,\n            node\n          ];\n        } else if (!isEmpty(buffer) && !isTextNode(node)) {\n          insertListItem(buffer, node);\n          return [];\n        } else {\n          return buffer;\n        }\n      };\n      const restBuffer = foldl(list.children(), reducer, []);\n      if (!isEmpty(restBuffer)) {\n        insertListItem(restBuffer);\n      }\n    };\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {parser} = editor;\n        parser.addNodeFilter('ul,ol', nodes => each$1(nodes, wrapInvalidChildren));\n      });\n    };\n\n    const setupTabKey = editor => {\n      editor.on('keydown', e => {\n        if (e.keyCode !== global$4.TAB || global$4.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(() => {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    const setup = editor => {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$2(editor);\n    };\n\n    const setupToggleButtonHandler = (editor, listName) => api => {\n      const toggleButtonHandler = e => {\n        api.setActive(inList(e.parents, listName));\n        api.setEnabled(!isWithinNonEditableList(editor, e.element) && editor.selection.isEditable());\n      };\n      api.setEnabled(editor.selection.isEditable());\n      return setNodeChangeHandler(editor, toggleButtonHandler);\n    };\n    const register$1 = editor => {\n      const exec = command => () => editor.execCommand(command);\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'OL')\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: setupToggleButtonHandler(editor, 'UL')\n        });\n      }\n    };\n\n    const setupMenuButtonHandler = (editor, listName) => api => {\n      const menuButtonHandler = e => api.setEnabled(inList(e.parents, listName) && !isWithinNonEditableList(editor, e.element));\n      return setNodeChangeHandler(editor, menuButtonHandler);\n    };\n    const register = editor => {\n      const listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: () => editor.execCommand('mceListProps'),\n        onSetup: setupMenuButtonHandler(editor, 'OL')\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: node => {\n          const parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    var Plugin = () => {\n      global$7.add('lists', editor => {\n        register$3(editor);\n        setup$1(editor);\n        if (!editor.hasPlugin('rtc', true)) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"table\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/table')\n//   ES2015:\n//     import 'tinymce/plugins/table'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n    'use strict';\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const isString = isType$1('string');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const call = f => {\n      f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const size = obj => {\n      return keys(obj).length;\n    };\n    const get$4 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty$1 = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten$1 = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten$1(map(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const get$3 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$3(xs, 0);\n    const last = xs => get$3(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const is$1 = is$2;\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$3 = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child$3 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$3(element, 0);\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$2 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is$2(e, selector), isRoot);\n    const child$1 = (scope, selector) => child$2(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor, scope, selector, isRoot);\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw$1(editable) === 'true');\n      }\n    };\n    const getRaw$1 = element => element.dom.contentEditable;\n\n    const getNodeName = elm => elm.nodeName.toLowerCase();\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq(element, getBody(editor));\n    const removePxSuffix = size => size ? size.replace(/px$/, '') : '';\n    const addPxSuffix = size => /^\\d+(\\.\\d+)?$/.test(size) ? size + 'px' : size;\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getSelectionEnd = editor => SugarElement.fromDom(editor.selection.getEnd());\n    const isInEditableContext = cell => closest$2(cell, isTag('table')).forall(isEditable);\n\n    const children$2 = (scope, predicate) => filter(children$3(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each(children$3(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const children$1 = (scope, selector) => children$2(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$2 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$2(element, key));\n    const remove$2 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const flatten = oot => oot.bind(identity);\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n    const toInt = (value, radix = 10) => {\n      const num = parseInt(value, radix);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const get$1 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$1 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$2(element, 'style');\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind(children$3(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const columns = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children$1(ancestor, 'col');\n      } else {\n        return bind(columnGroups(ancestor), columnGroup => children$1(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children$1(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map(columns(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells$1 = map(cells(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells$1, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows$1 = rows(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows$1\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each(rowData.cells, column => {\n        const colspan = column.colspan;\n        range(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each(rows, rowData => {\n        const currentRow = [];\n        each(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getTDTHOverallStyle = (dom, elm, name) => {\n      const cells = dom.select('td,th', elm);\n      let firstChildStyle;\n      for (let i = 0; i < cells.length; i++) {\n        const currentStyle = dom.getStyle(cells[i], name);\n        if (isUndefined(firstChildStyle)) {\n          firstChildStyle = currentStyle;\n        }\n        if (firstChildStyle !== currentStyle) {\n          return '';\n        }\n      }\n      return firstChildStyle;\n    };\n    const setAlign = (editor, elm, name) => {\n      global$2.each('left center right'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('align' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('align' + name, {}, elm);\n      }\n    };\n    const setVAlign = (editor, elm, name) => {\n      global$2.each('top middle bottom'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('valign' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('valign' + name, {}, elm);\n      }\n    };\n\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$1(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const getInner = getInnerWidth;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const defaultTableToolbar = 'tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol';\n    const defaultCellBorderWidths = range(5, i => {\n      const size = `${ i + 1 }px`;\n      return {\n        title: size,\n        value: size\n      };\n    });\n    const defaultCellBorderStyles = map([\n      'Solid',\n      'Dotted',\n      'Dashed',\n      'Double',\n      'Groove',\n      'Ridge',\n      'Inset',\n      'Outset',\n      'None',\n      'Hidden'\n    ], type => {\n      return {\n        title: type,\n        value: type.toLowerCase()\n      };\n    });\n    const defaultWidth = '100%';\n    const getPixelForcedWidth = editor => {\n      var _a;\n      const dom = editor.dom;\n      const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n      return getInner(SugarElement.fromDom(parentBlock)) + 'px';\n    };\n    const determineDefaultStyles = (editor, defaultStyles) => {\n      if (isResponsiveForced(editor) || !shouldStyleWithCss(editor)) {\n        return defaultStyles;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultStyles,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultStyles,\n          width: defaultWidth\n        };\n      }\n    };\n    const determineDefaultAttributes = (editor, defaultAttributes) => {\n      if (isResponsiveForced(editor) || shouldStyleWithCss(editor)) {\n        return defaultAttributes;\n      } else if (isPixelsForced(editor)) {\n        return {\n          ...defaultAttributes,\n          width: getPixelForcedWidth(editor)\n        };\n      } else {\n        return {\n          ...defaultAttributes,\n          width: defaultWidth\n        };\n      }\n    };\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_border_widths', {\n        processor: 'object[]',\n        default: defaultCellBorderWidths\n      });\n      registerOption('table_border_styles', {\n        processor: 'object[]',\n        default: defaultCellBorderStyles\n      });\n      registerOption('table_cell_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_row_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_appearance_options', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_grid', {\n        processor: 'boolean',\n        default: !global$1.deviceType.isTouch()\n      });\n      registerOption('table_cell_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_row_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_toolbar', {\n        processor: 'string',\n        default: defaultTableToolbar\n      });\n      registerOption('table_background_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_border_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n    };\n    const getTableSizingMode = option('table_sizing_mode');\n    const getTableBorderWidths = option('table_border_widths');\n    const getTableBorderStyles = option('table_border_styles');\n    const hasAdvancedCellTab = option('table_cell_advtab');\n    const hasAdvancedRowTab = option('table_row_advtab');\n    const hasAdvancedTableTab = option('table_advtab');\n    const hasAppearanceOptions = option('table_appearance_options');\n    const hasTableGrid = option('table_grid');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getCellClassList = option('table_cell_class_list');\n    const getRowClassList = option('table_row_class_list');\n    const getTableClassList = option('table_class_list');\n    const getToolbar = option('table_toolbar');\n    const getTableBackgroundColorMap = option('table_background_color_map');\n    const getTableBorderColorMap = option('table_border_color_map');\n    const isPixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const getDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultStyles(editor, defaultStyles);\n    };\n    const getDefaultAttributes = editor => {\n      const options = editor.options;\n      const defaultAttributes = options.get('table_default_attributes');\n      return options.isSet('table_default_attributes') ? defaultAttributes : determineDefaultAttributes(editor, defaultAttributes);\n    };\n\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    const before = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$1 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap = (element, wrapper) => {\n      before(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after = (marker, elements) => {\n      each(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$1(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$3(wrapper);\n      if (children.length > 0) {\n        after(wrapper, children);\n      }\n      remove(wrapper);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get = element => api.get(element);\n    const set = (element, value) => api.set(element, value);\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone$1 = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$2(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone(source);\n        setAll(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor,\n          closest: closest$1,\n          predicate: ancestor$1,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$1,\n          getRaw: getRaw,\n          set: set$1,\n          remove: remove$1\n        }),\n        attrs: constant({\n          get: get$2,\n          set: set$2,\n          remove: remove$2,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before,\n          after: after$1,\n          afterAll: after,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone: clone$1,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$3,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const sharedOne$1 = oneAll;\n\n    const universe = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n\n    const lookupTable = container => {\n      return ancestor(container, 'table');\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getRowsFromSelection = (selected, selector) => {\n      const cellOpt = getSelectionCell(selected);\n      const rowsOpt = cellOpt.bind(cell => table(cell)).map(table => rows(table));\n      return lift2(cellOpt, rowsOpt, (cell, rows) => filter(rows, row => exists(fromDom(row.dom.cells), rowCell => get$2(rowCell, selector) === '1' || eq(rowCell, cell)))).getOr([]);\n    };\n\n    const verticalAlignValues = [\n      {\n        text: 'None',\n        value: ''\n      },\n      {\n        text: 'Top',\n        value: 'top'\n      },\n      {\n        text: 'Middle',\n        value: 'middle'\n      },\n      {\n        text: 'Bottom',\n        value: 'bottom'\n      }\n    ];\n\n    const hexColour = value => ({ value: normalizeHex(value) });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const unbindable = () => singleton(s => s.unbind());\n\n    const onSetupToggle = (editor, formatName, formatValue) => {\n      return api => {\n        const boundCallback = unbindable();\n        const isNone = isEmpty(formatValue);\n        const init = () => {\n          const selectedCells = getCellsFromSelection(editor);\n          const checkNode = cell => editor.formatter.match(formatName, { value: formatValue }, cell.dom, isNone);\n          if (isNone) {\n            api.setActive(!exists(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, match => api.setActive(!match), true));\n          } else {\n            api.setActive(forall(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, api.setActive, false, { value: formatValue }));\n          }\n        };\n        editor.initialized ? init() : editor.on('init', init);\n        return boundCallback.clear;\n      };\n    };\n    const isListGroup = item => hasNonNullableKey(item, 'menu');\n    const buildListItems = items => map(items, item => {\n      const text = item.text || item.title || '';\n      if (isListGroup(item)) {\n        return {\n          text,\n          items: buildListItems(item.menu)\n        };\n      } else {\n        return {\n          text,\n          value: item.value\n        };\n      }\n    });\n    const buildClassList = classList => {\n      if (!classList.length) {\n        return Optional.none();\n      }\n      return Optional.some(buildListItems([\n        {\n          text: 'Select...',\n          value: 'mce-no-match'\n        },\n        ...classList\n      ]));\n    };\n    const buildMenuItems = (editor, items, format, onAction) => map(items, item => {\n      const text = item.text || item.title;\n      if (isListGroup(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text,\n          getSubmenuItems: () => buildMenuItems(editor, item.menu, format, onAction)\n        };\n      } else {\n        return {\n          text,\n          type: 'togglemenuitem',\n          onAction: () => onAction(item.value),\n          onSetup: onSetupToggle(editor, format, item.value)\n        };\n      }\n    });\n    const applyTableCellStyle = (editor, style) => value => {\n      editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n    };\n    const filterNoneItem = list => bind(list, item => {\n      if (isListGroup(item)) {\n        return [{\n            ...item,\n            menu: filterNoneItem(item.menu)\n          }];\n      } else {\n        return isNotEmpty(item.value) ? [item] : [];\n      }\n    });\n    const generateMenuItemsCallback = (editor, items, format, onAction) => callback => callback(buildMenuItems(editor, items, format, onAction));\n    const buildColorMenu = (editor, colorList, style) => {\n      const colorMap = map(colorList, entry => ({\n        text: entry.title,\n        value: '#' + anyToHex(entry.value).value,\n        type: 'choiceitem'\n      }));\n      return [{\n          type: 'fancymenuitem',\n          fancytype: 'colorswatch',\n          initData: {\n            colors: colorMap.length > 0 ? colorMap : undefined,\n            allowCustomColors: false\n          },\n          onAction: data => {\n            const value = data.value === 'remove' ? '' : data.value;\n            editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n          }\n        }];\n    };\n    const changeRowHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableRowType');\n      const newType = currentType === 'header' ? 'body' : 'header';\n      editor.execCommand('mceTableRowType', false, { type: newType });\n    };\n    const changeColumnHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableColType');\n      const newType = currentType === 'th' ? 'td' : 'th';\n      editor.execCommand('mceTableColType', false, { type: newType });\n    };\n\n    const getClassList$1 = editor => buildClassList(getCellClassList(editor)).map(items => ({\n      name: 'class',\n      type: 'listbox',\n      label: 'Class',\n      items\n    }));\n    const children = [\n      {\n        name: 'width',\n        type: 'input',\n        label: 'Width'\n      },\n      {\n        name: 'celltype',\n        type: 'listbox',\n        label: 'Cell type',\n        items: [\n          {\n            text: 'Cell',\n            value: 'td'\n          },\n          {\n            text: 'Header cell',\n            value: 'th'\n          }\n        ]\n      },\n      {\n        name: 'scope',\n        type: 'listbox',\n        label: 'Scope',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Row',\n            value: 'row'\n          },\n          {\n            text: 'Column',\n            value: 'col'\n          },\n          {\n            text: 'Row group',\n            value: 'rowgroup'\n          },\n          {\n            text: 'Column group',\n            value: 'colgroup'\n          }\n        ]\n      },\n      {\n        name: 'halign',\n        type: 'listbox',\n        label: 'Horizontal align',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        name: 'valign',\n        type: 'listbox',\n        label: 'Vertical align',\n        items: verticalAlignValues\n      }\n    ];\n    const getItems$2 = editor => children.concat(getClassList$1(editor).toArray());\n\n    const getAdvancedTab = (editor, dialogName) => {\n      const emptyBorderStyle = [{\n          text: 'Select...',\n          value: ''\n        }];\n      const advTabItems = [\n        {\n          name: 'borderstyle',\n          type: 'listbox',\n          label: 'Border style',\n          items: emptyBorderStyle.concat(buildListItems(getTableBorderStyles(editor)))\n        },\n        {\n          name: 'bordercolor',\n          type: 'colorinput',\n          label: 'Border color'\n        },\n        {\n          name: 'backgroundcolor',\n          type: 'colorinput',\n          label: 'Background color'\n        }\n      ];\n      const borderWidth = {\n        name: 'borderwidth',\n        type: 'input',\n        label: 'Border width'\n      };\n      const items = dialogName === 'cell' ? [borderWidth].concat(advTabItems) : advTabItems;\n      return {\n        title: 'Advanced',\n        name: 'advanced',\n        items\n      };\n    };\n\n    const normal = (editor, element) => {\n      const dom = editor.dom;\n      const setAttrib = (attr, value) => {\n        dom.setAttrib(element, attr, value);\n      };\n      const setStyle = (prop, value) => {\n        dom.setStyle(element, prop, value);\n      };\n      const setFormat = (formatName, value) => {\n        if (value === '') {\n          editor.formatter.remove(formatName, { value: null }, element, true);\n        } else {\n          editor.formatter.apply(formatName, { value }, element);\n        }\n      };\n      return {\n        setAttrib,\n        setStyle,\n        setFormat\n      };\n    };\n    const DomModifier = { normal };\n\n    const isHeaderCell = isTag('th');\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType$1 = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map(rows, row => getRowType$1(row).type);\n      const hasHeader = contains(rowTypes, 'header');\n      const hasFooter = contains(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find(r.cells, e => eq(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    ({ ...adt });\n\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const getRowsType = opGetRowsType;\n\n    const rgbToHex = value => startsWith(value, 'rgb') ? rgbaToHexString(value) : value;\n    const extractAdvancedStyles = elm => {\n      const element = SugarElement.fromDom(elm);\n      return {\n        borderwidth: getRaw(element, 'border-width').getOr(''),\n        borderstyle: getRaw(element, 'border-style').getOr(''),\n        bordercolor: getRaw(element, 'border-color').map(rgbToHex).getOr(''),\n        backgroundcolor: getRaw(element, 'background-color').map(rgbToHex).getOr('')\n      };\n    };\n    const getSharedValues = data => {\n      const baseData = data[0];\n      const comparisonData = data.slice(1);\n      each(comparisonData, items => {\n        each(keys(baseData), key => {\n          each$1(items, (itemValue, itemKey) => {\n            const comparisonValue = baseData[key];\n            if (comparisonValue !== '' && key === itemKey) {\n              if (comparisonValue !== itemValue) {\n                baseData[key] = key === 'class' ? 'mce-no-match' : '';\n              }\n            }\n          });\n        });\n      });\n      return baseData;\n    };\n    const getAlignment = (formats, formatName, editor, elm) => find(formats, name => !isUndefined(editor.formatter.matchNode(elm, formatName + name))).getOr('');\n    const getHAlignment = curry(getAlignment, [\n      'left',\n      'center',\n      'right'\n    ], 'align');\n    const getVAlignment = curry(getAlignment, [\n      'top',\n      'middle',\n      'bottom'\n    ], 'valign');\n    const extractDataFromSettings = (editor, hasAdvTableTab) => {\n      const style = getDefaultStyles(editor);\n      const attrs = getDefaultAttributes(editor);\n      const extractAdvancedStyleData = () => ({\n        borderstyle: get$4(style, 'border-style').getOr(''),\n        bordercolor: rgbToHex(get$4(style, 'border-color').getOr('')),\n        backgroundcolor: rgbToHex(get$4(style, 'background-color').getOr(''))\n      });\n      const defaultData = {\n        height: '',\n        width: '100%',\n        cellspacing: '',\n        cellpadding: '',\n        caption: false,\n        class: '',\n        align: '',\n        border: ''\n      };\n      const getBorder = () => {\n        const borderWidth = style['border-width'];\n        if (shouldStyleWithCss(editor) && borderWidth) {\n          return { border: borderWidth };\n        }\n        return get$4(attrs, 'border').fold(() => ({}), border => ({ border }));\n      };\n      const advStyle = hasAdvTableTab ? extractAdvancedStyleData() : {};\n      const getCellPaddingCellSpacing = () => {\n        const spacing = get$4(style, 'border-spacing').or(get$4(attrs, 'cellspacing')).fold(() => ({}), cellspacing => ({ cellspacing }));\n        const padding = get$4(style, 'border-padding').or(get$4(attrs, 'cellpadding')).fold(() => ({}), cellpadding => ({ cellpadding }));\n        return {\n          ...spacing,\n          ...padding\n        };\n      };\n      const data = {\n        ...defaultData,\n        ...style,\n        ...attrs,\n        ...advStyle,\n        ...getBorder(),\n        ...getCellPaddingCellSpacing()\n      };\n      return data;\n    };\n    const getRowType = elm => table(SugarElement.fromDom(elm)).map(table => {\n      const target = { selection: fromDom(elm.cells) };\n      return getRowsType(table, target);\n    }).getOr('');\n    const extractDataFromTableElement = (editor, elm, hasAdvTableTab) => {\n      const getBorder = (dom, elm) => {\n        const optBorderWidth = getRaw(SugarElement.fromDom(elm), 'border-width');\n        if (shouldStyleWithCss(editor) && optBorderWidth.isSome()) {\n          return optBorderWidth.getOr('');\n        }\n        return dom.getAttrib(elm, 'border') || getTDTHOverallStyle(editor.dom, elm, 'border-width') || getTDTHOverallStyle(editor.dom, elm, 'border') || '';\n      };\n      const dom = editor.dom;\n      const cellspacing = shouldStyleWithCss(editor) ? dom.getStyle(elm, 'border-spacing') || dom.getAttrib(elm, 'cellspacing') : dom.getAttrib(elm, 'cellspacing') || dom.getStyle(elm, 'border-spacing');\n      const cellpadding = shouldStyleWithCss(editor) ? getTDTHOverallStyle(dom, elm, 'padding') || dom.getAttrib(elm, 'cellpadding') : dom.getAttrib(elm, 'cellpadding') || getTDTHOverallStyle(dom, elm, 'padding');\n      return {\n        width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        cellspacing: cellspacing !== null && cellspacing !== void 0 ? cellspacing : '',\n        cellpadding: cellpadding !== null && cellpadding !== void 0 ? cellpadding : '',\n        border: getBorder(dom, elm),\n        caption: !!dom.select('caption', elm)[0],\n        class: dom.getAttrib(elm, 'class', ''),\n        align: getHAlignment(editor, elm),\n        ...hasAdvTableTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromRowElement = (editor, elm, hasAdvancedRowTab) => {\n      const dom = editor.dom;\n      return {\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        class: dom.getAttrib(elm, 'class', ''),\n        type: getRowType(elm),\n        align: getHAlignment(editor, elm),\n        ...hasAdvancedRowTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromCellElement = (editor, cell, hasAdvancedCellTab, column) => {\n      const dom = editor.dom;\n      const colElm = column.getOr(cell);\n      const getStyle = (element, style) => dom.getStyle(element, style) || dom.getAttrib(element, style);\n      return {\n        width: getStyle(colElm, 'width'),\n        scope: dom.getAttrib(cell, 'scope'),\n        celltype: getNodeName(cell),\n        class: dom.getAttrib(cell, 'class', ''),\n        halign: getHAlignment(editor, cell),\n        valign: getVAlignment(editor, cell),\n        ...hasAdvancedCellTab ? extractAdvancedStyles(cell) : {}\n      };\n    };\n\n    const getSelectedCells = (table, cells) => {\n      const warehouse = Warehouse.fromTable(table);\n      const allCells = Warehouse.justCells(warehouse);\n      const filtered = filter(allCells, cellA => exists(cells, cellB => eq(cellA.element, cellB)));\n      return map(filtered, cell => ({\n        element: cell.element.dom,\n        column: Warehouse.getColumnAt(warehouse, cell.column).map(col => col.element.dom)\n      }));\n    };\n    const updateSimpleProps$1 = (modifier, colModifier, data, shouldUpdate) => {\n      if (shouldUpdate('scope')) {\n        modifier.setAttrib('scope', data.scope);\n      }\n      if (shouldUpdate('class') && data.class !== 'mce-no-match') {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('width')) {\n        colModifier.setStyle('width', addPxSuffix(data.width));\n      }\n    };\n    const updateAdvancedProps$1 = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setFormat('tablecellbackgroundcolor', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setFormat('tablecellbordercolor', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setFormat('tablecellborderstyle', data.borderstyle);\n      }\n      if (shouldUpdate('borderwidth')) {\n        modifier.setFormat('tablecellborderwidth', addPxSuffix(data.borderwidth));\n      }\n    };\n    const applyStyleData$1 = (editor, cells, data, wasChanged) => {\n      const isSingleCell = cells.length === 1;\n      each(cells, item => {\n        const cellElm = item.element;\n        const shouldOverrideCurrentValue = isSingleCell ? always : wasChanged;\n        const modifier = DomModifier.normal(editor, cellElm);\n        const colModifier = item.column.map(col => DomModifier.normal(editor, col)).getOr(modifier);\n        updateSimpleProps$1(modifier, colModifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedCellTab(editor)) {\n          updateAdvancedProps$1(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('halign')) {\n          setAlign(editor, cellElm, data.halign);\n        }\n        if (wasChanged('valign')) {\n          setVAlign(editor, cellElm, data.valign);\n        }\n      });\n    };\n    const applyStructureData$1 = (editor, data) => {\n      editor.execCommand('mceTableCellType', false, {\n        type: data.celltype,\n        no_events: true\n      });\n    };\n    const applyCellData = (editor, cells, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0 && cells.length >= 1) {\n        table(cells[0]).each(table => {\n          const selectedCells = getSelectedCells(table, cells);\n          const styleModified = size(filter$1(modifiedData, (_value, key) => key !== 'scope' && key !== 'celltype')) > 0;\n          const structureModified = has(modifiedData, 'celltype');\n          if (styleModified || has(modifiedData, 'scope')) {\n            applyStyleData$1(editor, selectedCells, data, curry(has, modifiedData));\n          }\n          if (structureModified) {\n            applyStructureData$1(editor, data);\n          }\n          fireTableModified(editor, table.dom, {\n            structure: structureModified,\n            style: styleModified\n          });\n        });\n      }\n    };\n    const onSubmitCellForm = (editor, cells, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyCellData(editor, cells, oldData, data);\n        editor.focus();\n      });\n    };\n    const getData$1 = (editor, cells) => {\n      const cellsData = table(cells[0]).map(table => map(getSelectedCells(table, cells), item => extractDataFromCellElement(editor, item.element, hasAdvancedCellTab(editor), item.column)));\n      return getSharedValues(cellsData.getOrDie());\n    };\n    const open$2 = editor => {\n      const cells = getCellsFromSelection(editor);\n      if (cells.length === 0) {\n        return;\n      }\n      const data = getData$1(editor, cells);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$2(editor)\n          },\n          getAdvancedTab(editor, 'cell')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$2(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Cell Properties',\n        size: 'normal',\n        body: hasAdvancedCellTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitCellForm, editor, cells, data)\n      });\n    };\n\n    const getClassList = editor => buildClassList(getRowClassList(editor)).map(items => ({\n      name: 'class',\n      type: 'listbox',\n      label: 'Class',\n      items\n    }));\n    const formChildren = [\n      {\n        type: 'listbox',\n        name: 'type',\n        label: 'Row type',\n        items: [\n          {\n            text: 'Header',\n            value: 'header'\n          },\n          {\n            text: 'Body',\n            value: 'body'\n          },\n          {\n            text: 'Footer',\n            value: 'footer'\n          }\n        ]\n      },\n      {\n        type: 'listbox',\n        name: 'align',\n        label: 'Alignment',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        label: 'Height',\n        name: 'height',\n        type: 'input'\n      }\n    ];\n    const getItems$1 = editor => formChildren.concat(getClassList(editor).toArray());\n\n    const updateSimpleProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('class') && data.class !== 'mce-no-match') {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n    };\n    const updateAdvancedProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setStyle('background-color', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setStyle('border-color', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setStyle('border-style', data.borderstyle);\n      }\n    };\n    const applyStyleData = (editor, rows, data, wasChanged) => {\n      const isSingleRow = rows.length === 1;\n      const shouldOverrideCurrentValue = isSingleRow ? always : wasChanged;\n      each(rows, rowElm => {\n        const rowCells = children$1(SugarElement.fromDom(rowElm), 'td,th');\n        const modifier = DomModifier.normal(editor, rowElm);\n        updateSimpleProps(modifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedRowTab(editor)) {\n          updateAdvancedProps(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('height')) {\n          each(rowCells, cell => {\n            editor.dom.setStyle(cell.dom, 'height', null);\n          });\n        }\n        if (wasChanged('align')) {\n          setAlign(editor, rowElm, data.align);\n        }\n      });\n    };\n    const applyStructureData = (editor, data) => {\n      editor.execCommand('mceTableRowType', false, {\n        type: data.type,\n        no_events: true\n      });\n    };\n    const applyRowData = (editor, rows, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0) {\n        const typeModified = has(modifiedData, 'type');\n        const styleModified = typeModified ? size(modifiedData) > 1 : true;\n        if (styleModified) {\n          applyStyleData(editor, rows, data, curry(has, modifiedData));\n        }\n        if (typeModified) {\n          applyStructureData(editor, data);\n        }\n        table(SugarElement.fromDom(rows[0])).each(table => fireTableModified(editor, table.dom, {\n          structure: typeModified,\n          style: styleModified\n        }));\n      }\n    };\n    const onSubmitRowForm = (editor, rows, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyRowData(editor, rows, oldData, data);\n        editor.focus();\n      });\n    };\n    const open$1 = editor => {\n      const rows = getRowsFromSelection(getSelectionStart(editor), ephemera.selected);\n      if (rows.length === 0) {\n        return;\n      }\n      const rowsData = map(rows, rowElm => extractDataFromRowElement(editor, rowElm.dom, hasAdvancedRowTab(editor)));\n      const data = getSharedValues(rowsData);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$1(editor)\n          },\n          getAdvancedTab(editor, 'row')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$1(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Row Properties',\n        size: 'normal',\n        body: hasAdvancedRowTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitRowForm, editor, map(rows, r => r.dom), data)\n      });\n    };\n\n    const getItems = (editor, classes, insertNewTable) => {\n      const rowColCountItems = !insertNewTable ? [] : [\n        {\n          type: 'input',\n          name: 'cols',\n          label: 'Cols',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'rows',\n          label: 'Rows',\n          inputMode: 'numeric'\n        }\n      ];\n      const alwaysItems = [\n        {\n          type: 'input',\n          name: 'width',\n          label: 'Width'\n        },\n        {\n          type: 'input',\n          name: 'height',\n          label: 'Height'\n        }\n      ];\n      const appearanceItems = hasAppearanceOptions(editor) ? [\n        {\n          type: 'input',\n          name: 'cellspacing',\n          label: 'Cell spacing',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'cellpadding',\n          label: 'Cell padding',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'border',\n          label: 'Border width'\n        },\n        {\n          type: 'label',\n          label: 'Caption',\n          items: [{\n              type: 'checkbox',\n              name: 'caption',\n              label: 'Show caption'\n            }]\n        }\n      ] : [];\n      const alignmentItem = [{\n          type: 'listbox',\n          name: 'align',\n          label: 'Alignment',\n          items: [\n            {\n              text: 'None',\n              value: ''\n            },\n            {\n              text: 'Left',\n              value: 'left'\n            },\n            {\n              text: 'Center',\n              value: 'center'\n            },\n            {\n              text: 'Right',\n              value: 'right'\n            }\n          ]\n        }];\n      const classListItem = classes.length > 0 ? [{\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        }] : [];\n      return rowColCountItems.concat(alwaysItems).concat(appearanceItems).concat(alignmentItem).concat(classListItem);\n    };\n\n    const styleTDTH = (dom, elm, name, value) => {\n      if (elm.tagName === 'TD' || elm.tagName === 'TH') {\n        if (isString(name) && isNonNullable(value)) {\n          dom.setStyle(elm, name, value);\n        } else {\n          dom.setStyles(elm, name);\n        }\n      } else {\n        if (elm.children) {\n          for (let i = 0; i < elm.children.length; i++) {\n            styleTDTH(dom, elm.children[i], name, value);\n          }\n        }\n      }\n    };\n    const applyDataToElement = (editor, tableElm, data, shouldApplyOnCell) => {\n      const dom = editor.dom;\n      const attrs = {};\n      const styles = {};\n      const shouldStyleWithCss$1 = shouldStyleWithCss(editor);\n      const hasAdvancedTableTab$1 = hasAdvancedTableTab(editor);\n      const borderIsZero = parseFloat(data.border) === 0;\n      if (!isUndefined(data.class) && data.class !== 'mce-no-match') {\n        attrs.class = data.class;\n      }\n      styles.height = addPxSuffix(data.height);\n      if (shouldStyleWithCss$1) {\n        styles.width = addPxSuffix(data.width);\n      } else if (dom.getAttrib(tableElm, 'width')) {\n        attrs.width = removePxSuffix(data.width);\n      }\n      if (shouldStyleWithCss$1) {\n        if (borderIsZero) {\n          attrs.border = 0;\n          styles['border-width'] = '';\n        } else {\n          styles['border-width'] = addPxSuffix(data.border);\n          attrs.border = 1;\n        }\n        styles['border-spacing'] = addPxSuffix(data.cellspacing);\n      } else {\n        attrs.border = borderIsZero ? 0 : data.border;\n        attrs.cellpadding = data.cellpadding;\n        attrs.cellspacing = data.cellspacing;\n      }\n      if (shouldStyleWithCss$1 && tableElm.children) {\n        const cellStyles = {};\n        if (borderIsZero) {\n          cellStyles['border-width'] = '';\n        } else if (shouldApplyOnCell.border) {\n          cellStyles['border-width'] = addPxSuffix(data.border);\n        }\n        if (shouldApplyOnCell.cellpadding) {\n          cellStyles.padding = addPxSuffix(data.cellpadding);\n        }\n        if (hasAdvancedTableTab$1 && shouldApplyOnCell.bordercolor) {\n          cellStyles['border-color'] = data.bordercolor;\n        }\n        if (!isEmpty$1(cellStyles)) {\n          for (let i = 0; i < tableElm.children.length; i++) {\n            styleTDTH(dom, tableElm.children[i], cellStyles);\n          }\n        }\n      }\n      if (hasAdvancedTableTab$1) {\n        const advData = data;\n        styles['background-color'] = advData.backgroundcolor;\n        styles['border-color'] = advData.bordercolor;\n        styles['border-style'] = advData.borderstyle;\n      }\n      dom.setStyles(tableElm, {\n        ...getDefaultStyles(editor),\n        ...styles\n      });\n      dom.setAttribs(tableElm, {\n        ...getDefaultAttributes(editor),\n        ...attrs\n      });\n    };\n    const onSubmitTableForm = (editor, tableElm, oldData, api) => {\n      const dom = editor.dom;\n      const data = api.getData();\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      api.close();\n      editor.undoManager.transact(() => {\n        if (!tableElm) {\n          const cols = toInt(data.cols).getOr(1);\n          const rows = toInt(data.rows).getOr(1);\n          editor.execCommand('mceInsertTable', false, {\n            rows,\n            columns: cols\n          });\n          tableElm = getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).bind(cell => table(cell, getIsRoot(editor))).map(table => table.dom).getOrDie();\n        }\n        if (size(modifiedData) > 0) {\n          const applicableCellProperties = {\n            border: has(modifiedData, 'border'),\n            bordercolor: has(modifiedData, 'bordercolor'),\n            cellpadding: has(modifiedData, 'cellpadding')\n          };\n          applyDataToElement(editor, tableElm, data, applicableCellProperties);\n          const captionElm = dom.select('caption', tableElm)[0];\n          if (captionElm && !data.caption || !captionElm && data.caption) {\n            editor.execCommand('mceTableToggleCaption');\n          }\n          setAlign(editor, tableElm, data.align);\n        }\n        editor.focus();\n        editor.addVisual();\n        if (size(modifiedData) > 0) {\n          const captionModified = has(modifiedData, 'caption');\n          const styleModified = captionModified ? size(modifiedData) > 1 : true;\n          fireTableModified(editor, tableElm, {\n            structure: captionModified,\n            style: styleModified\n          });\n        }\n      });\n    };\n    const open = (editor, insertNewTable) => {\n      const dom = editor.dom;\n      let tableElm;\n      let data = extractDataFromSettings(editor, hasAdvancedTableTab(editor));\n      if (insertNewTable) {\n        data.cols = '1';\n        data.rows = '1';\n        if (hasAdvancedTableTab(editor)) {\n          data.borderstyle = '';\n          data.bordercolor = '';\n          data.backgroundcolor = '';\n        }\n      } else {\n        tableElm = dom.getParent(editor.selection.getStart(), 'table', editor.getBody());\n        if (tableElm) {\n          data = extractDataFromTableElement(editor, tableElm, hasAdvancedTableTab(editor));\n        } else {\n          if (hasAdvancedTableTab(editor)) {\n            data.borderstyle = '';\n            data.bordercolor = '';\n            data.backgroundcolor = '';\n          }\n        }\n      }\n      const classes = buildClassList(getTableClassList(editor));\n      if (classes.isSome()) {\n        if (data.class) {\n          data.class = data.class.replace(/\\s*mce\\-item\\-table\\s*/g, '');\n        }\n      }\n      const generalPanel = {\n        type: 'grid',\n        columns: 2,\n        items: getItems(editor, classes.getOr([]), insertNewTable)\n      };\n      const nonAdvancedForm = () => ({\n        type: 'panel',\n        items: [generalPanel]\n      });\n      const advancedForm = () => ({\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: [generalPanel]\n          },\n          getAdvancedTab(editor, 'table')\n        ]\n      });\n      const dialogBody = hasAdvancedTableTab(editor) ? advancedForm() : nonAdvancedForm();\n      editor.windowManager.open({\n        title: 'Table Properties',\n        size: 'normal',\n        body: dialogBody,\n        onSubmit: curry(onSubmitTableForm, editor, tableElm, data),\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data\n      });\n    };\n\n    const registerCommands = editor => {\n      const runAction = f => {\n        if (isInEditableContext(getSelectionStart(editor))) {\n          f();\n        }\n      };\n      each$1({\n        mceTableProps: curry(open, editor, false),\n        mceTableRowProps: curry(open$1, editor),\n        mceTableCellProps: curry(open$2, editor),\n        mceInsertTableDialog: curry(open, editor, true)\n      }, (func, name) => editor.addCommand(name, () => runAction(func)));\n    };\n\n    const child = (scope, selector) => child$1(scope, selector).isSome();\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const noMenu = cell => ({\n      element: cell,\n      mergable: Optional.none(),\n      unmergable: Optional.none(),\n      selection: [cell]\n    });\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n\n    const getSelectionTargets = editor => {\n      const targets = Cell(Optional.none());\n      const changeHandlers = Cell([]);\n      let selectionDetails = Optional.none();\n      const isCaption = isTag('caption');\n      const isDisabledForSelection = key => selectionDetails.forall(details => !details[key]);\n      const getStart = () => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n      const getEnd = () => getSelectionCellOrCaption(getSelectionEnd(editor), getIsRoot(editor));\n      const findTargets = () => getStart().bind(startCellOrCaption => flatten(lift2(table(startCellOrCaption), getEnd().bind(table), (startTable, endTable) => {\n        if (eq(startTable, endTable)) {\n          if (isCaption(startCellOrCaption)) {\n            return Optional.some(noMenu(startCellOrCaption));\n          } else {\n            return Optional.some(forMenu(getCellsFromSelection(editor), startTable, startCellOrCaption));\n          }\n        }\n        return Optional.none();\n      })));\n      const getExtractedDetails = targets => {\n        const tableOpt = table(targets.element);\n        return tableOpt.map(table => {\n          const warehouse = Warehouse.fromTable(table);\n          const selectedCells = onCells(warehouse, targets).getOr([]);\n          const locked = foldl(selectedCells, (acc, cell) => {\n            if (cell.isLocked) {\n              acc.onAny = true;\n              if (cell.column === 0) {\n                acc.onFirst = true;\n              } else if (cell.column + cell.colspan >= warehouse.grid.columns) {\n                acc.onLast = true;\n              }\n            }\n            return acc;\n          }, {\n            onAny: false,\n            onFirst: false,\n            onLast: false\n          });\n          return {\n            mergeable: onUnlockedMergable(warehouse, targets).isSome(),\n            unmergeable: onUnlockedUnmergable(warehouse, targets).isSome(),\n            locked\n          };\n        });\n      };\n      const resetTargets = () => {\n        targets.set(cached(findTargets)());\n        selectionDetails = targets.get().bind(getExtractedDetails);\n        each(changeHandlers.get(), call);\n      };\n      const setupHandler = handler => {\n        handler();\n        changeHandlers.set(changeHandlers.get().concat([handler]));\n        return () => {\n          changeHandlers.set(filter(changeHandlers.get(), h => h !== handler));\n        };\n      };\n      const onSetup = (api, isDisabled) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets) && editor.selection.isEditable());\n      }));\n      const onSetupWithToggle = (api, isDisabled, isActive) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n        api.setActive(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets) && editor.selection.isEditable());\n        api.setActive(isActive(targets));\n      }));\n      const isDisabledFromLocked = lockedDisable => selectionDetails.exists(details => details.locked[lockedDisable]);\n      const onSetupTable = api => onSetup(api, _ => false);\n      const onSetupCellOrRow = api => onSetup(api, targets => isCaption(targets.element));\n      const onSetupColumn = lockedDisable => api => onSetup(api, targets => isCaption(targets.element) || isDisabledFromLocked(lockedDisable));\n      const onSetupPasteable = getClipboardData => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone());\n      const onSetupPasteableColumn = (getClipboardData, lockedDisable) => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone() || isDisabledFromLocked(lockedDisable));\n      const onSetupMergeable = api => onSetup(api, _targets => isDisabledForSelection('mergeable'));\n      const onSetupUnmergeable = api => onSetup(api, _targets => isDisabledForSelection('unmergeable'));\n      const onSetupTableWithCaption = api => {\n        return onSetupWithToggle(api, never, targets => {\n          const tableOpt = table(targets.element, getIsRoot(editor));\n          return tableOpt.exists(table => child(table, 'caption'));\n        });\n      };\n      const onSetupTableHeaders = (command, headerType) => api => {\n        return onSetupWithToggle(api, targets => isCaption(targets.element), () => editor.queryCommandValue(command) === headerType);\n      };\n      const onSetupTableRowHeaders = onSetupTableHeaders('mceTableRowType', 'header');\n      const onSetupTableColumnHeaders = onSetupTableHeaders('mceTableColType', 'th');\n      editor.on('NodeChange ExecCommand TableSelectorChange', resetTargets);\n      return {\n        onSetupTable,\n        onSetupCellOrRow,\n        onSetupColumn,\n        onSetupPasteable,\n        onSetupPasteableColumn,\n        onSetupMergeable,\n        onSetupUnmergeable,\n        resetTargets,\n        onSetupTableWithCaption,\n        onSetupTableRowHeaders,\n        onSetupTableColumnHeaders,\n        targets: targets.get\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const getColumns = () => getData(tableTypeColumn);\n\n    const onSetupEditable$1 = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const addButtons = (editor, selectionTargets) => {\n      editor.ui.registry.addMenuButton('table', {\n        tooltip: 'Table',\n        icon: 'table',\n        onSetup: onSetupEditable$1(editor),\n        fetch: callback => callback('inserttable | cell row column | advtablesort | tableprops deletetable')\n      });\n      const cmd = command => () => editor.execCommand(command);\n      const addButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const addToggleButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      addButtonIfRegistered('tableprops', {\n        tooltip: 'Table properties',\n        command: 'mceTableProps',\n        icon: 'table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tabledelete', {\n        tooltip: 'Delete table',\n        command: 'mceTableDelete',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tablecellprops', {\n        tooltip: 'Cell properties',\n        command: 'mceTableCellProps',\n        icon: 'table-cell-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablemergecells', {\n        tooltip: 'Merge cells',\n        command: 'mceTableMergeCells',\n        icon: 'table-merge-cells',\n        onSetup: selectionTargets.onSetupMergeable\n      });\n      addButtonIfRegistered('tablesplitcells', {\n        tooltip: 'Split cell',\n        command: 'mceTableSplitCells',\n        icon: 'table-split-cells',\n        onSetup: selectionTargets.onSetupUnmergeable\n      });\n      addButtonIfRegistered('tableinsertrowbefore', {\n        tooltip: 'Insert row before',\n        command: 'mceTableInsertRowBefore',\n        icon: 'table-insert-row-above',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertrowafter', {\n        tooltip: 'Insert row after',\n        command: 'mceTableInsertRowAfter',\n        icon: 'table-insert-row-after',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tabledeleterow', {\n        tooltip: 'Delete row',\n        command: 'mceTableDeleteRow',\n        icon: 'table-delete-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablerowprops', {\n        tooltip: 'Row properties',\n        command: 'mceTableRowProps',\n        icon: 'table-row-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertcolbefore', {\n        tooltip: 'Insert column before',\n        command: 'mceTableInsertColBefore',\n        icon: 'table-insert-column-before',\n        onSetup: selectionTargets.onSetupColumn('onFirst')\n      });\n      addButtonIfRegistered('tableinsertcolafter', {\n        tooltip: 'Insert column after',\n        command: 'mceTableInsertColAfter',\n        icon: 'table-insert-column-after',\n        onSetup: selectionTargets.onSetupColumn('onLast')\n      });\n      addButtonIfRegistered('tabledeletecol', {\n        tooltip: 'Delete column',\n        command: 'mceTableDeleteCol',\n        icon: 'table-delete-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecutrow', {\n        tooltip: 'Cut row',\n        command: 'mceTableCutRow',\n        icon: 'cut-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablecopyrow', {\n        tooltip: 'Copy row',\n        command: 'mceTableCopyRow',\n        icon: 'duplicate-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablepasterowbefore', {\n        tooltip: 'Paste row before',\n        command: 'mceTablePasteRowBefore',\n        icon: 'paste-row-before',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablepasterowafter', {\n        tooltip: 'Paste row after',\n        command: 'mceTablePasteRowAfter',\n        icon: 'paste-row-after',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablecutcol', {\n        tooltip: 'Cut column',\n        command: 'mceTableCutCol',\n        icon: 'cut-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecopycol', {\n        tooltip: 'Copy column',\n        command: 'mceTableCopyCol',\n        icon: 'duplicate-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablepastecolbefore', {\n        tooltip: 'Paste column before',\n        command: 'mceTablePasteColBefore',\n        icon: 'paste-column-before',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n      });\n      addButtonIfRegistered('tablepastecolafter', {\n        tooltip: 'Paste column after',\n        command: 'mceTablePasteColAfter',\n        icon: 'paste-column-after',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n      });\n      addButtonIfRegistered('tableinsertdialog', {\n        tooltip: 'Insert table',\n        command: 'mceInsertTableDialog',\n        icon: 'table',\n        onSetup: onSetupEditable$1(editor)\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addMenuButton('tableclass', {\n          icon: 'table-classes',\n          tooltip: 'Table styles',\n          fetch: generateMenuItemsCallback(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addMenuButton('tablecellclass', {\n          icon: 'table-cell-classes',\n          tooltip: 'Cell styles',\n          fetch: generateMenuItemsCallback(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addMenuButton('tablecellvalign', {\n          icon: 'vertical-align',\n          tooltip: 'Vertical align',\n          fetch: generateMenuItemsCallback(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderwidth', {\n          icon: 'border-width',\n          tooltip: 'Border width',\n          fetch: generateMenuItemsCallback(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderstyle', {\n          icon: 'border-style',\n          tooltip: 'Border style',\n          fetch: generateMenuItemsCallback(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          tooltip: 'Background color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          tooltip: 'Border color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleButtonIfRegistered('tablecaption', {\n        tooltip: 'Table caption',\n        icon: 'table-caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleButtonIfRegistered('tablerowheader', {\n        tooltip: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleButtonIfRegistered('tablecolheader', {\n        tooltip: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableColumnHeaders\n      });\n    };\n    const addToolbars = editor => {\n      const isEditableTable = table => editor.dom.is(table, 'table') && editor.getBody().contains(table) && editor.dom.isEditable(table.parentNode);\n      const toolbar = getToolbar(editor);\n      if (toolbar.length > 0) {\n        editor.ui.registry.addContextToolbar('table', {\n          predicate: isEditableTable,\n          items: toolbar,\n          scope: 'node',\n          position: 'node'\n        });\n      }\n    };\n\n    const onSetupEditable = editor => api => {\n      const nodeChanged = () => {\n        api.setEnabled(editor.selection.isEditable());\n      };\n      editor.on('NodeChange', nodeChanged);\n      nodeChanged();\n      return () => {\n        editor.off('NodeChange', nodeChanged);\n      };\n    };\n    const addMenuItems = (editor, selectionTargets) => {\n      const cmd = command => () => editor.execCommand(command);\n      const addMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n          return true;\n        } else {\n          return false;\n        }\n      };\n      const addToggleMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const insertTableAction = data => {\n        editor.execCommand('mceInsertTable', false, {\n          rows: data.numRows,\n          columns: data.numColumns\n        });\n      };\n      const hasRowMenuItems = [\n        addMenuIfRegistered('tableinsertrowbefore', {\n          text: 'Insert row before',\n          icon: 'table-insert-row-above',\n          command: 'mceTableInsertRowBefore',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tableinsertrowafter', {\n          text: 'Insert row after',\n          icon: 'table-insert-row-after',\n          command: 'mceTableInsertRowAfter',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tabledeleterow', {\n          text: 'Delete row',\n          icon: 'table-delete-row',\n          command: 'mceTableDeleteRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablerowprops', {\n          text: 'Row properties',\n          icon: 'table-row-properties',\n          command: 'mceTableRowProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecutrow', {\n          text: 'Cut row',\n          icon: 'cut-row',\n          command: 'mceTableCutRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecopyrow', {\n          text: 'Copy row',\n          icon: 'duplicate-row',\n          command: 'mceTableCopyRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablepasterowbefore', {\n          text: 'Paste row before',\n          icon: 'paste-row-before',\n          command: 'mceTablePasteRowBefore',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        }),\n        addMenuIfRegistered('tablepasterowafter', {\n          text: 'Paste row after',\n          icon: 'paste-row-after',\n          command: 'mceTablePasteRowAfter',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        })\n      ];\n      const hasColumnMenuItems = [\n        addMenuIfRegistered('tableinsertcolumnbefore', {\n          text: 'Insert column before',\n          icon: 'table-insert-column-before',\n          command: 'mceTableInsertColBefore',\n          onSetup: selectionTargets.onSetupColumn('onFirst')\n        }),\n        addMenuIfRegistered('tableinsertcolumnafter', {\n          text: 'Insert column after',\n          icon: 'table-insert-column-after',\n          command: 'mceTableInsertColAfter',\n          onSetup: selectionTargets.onSetupColumn('onLast')\n        }),\n        addMenuIfRegistered('tabledeletecolumn', {\n          text: 'Delete column',\n          icon: 'table-delete-column',\n          command: 'mceTableDeleteCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecutcolumn', {\n          text: 'Cut column',\n          icon: 'cut-column',\n          command: 'mceTableCutCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecopycolumn', {\n          text: 'Copy column',\n          icon: 'duplicate-column',\n          command: 'mceTableCopyCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablepastecolumnbefore', {\n          text: 'Paste column before',\n          icon: 'paste-column-before',\n          command: 'mceTablePasteColBefore',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n        }),\n        addMenuIfRegistered('tablepastecolumnafter', {\n          text: 'Paste column after',\n          icon: 'paste-column-after',\n          command: 'mceTablePasteColAfter',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n        })\n      ];\n      const hasCellMenuItems = [\n        addMenuIfRegistered('tablecellprops', {\n          text: 'Cell properties',\n          icon: 'table-cell-properties',\n          command: 'mceTableCellProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablemergecells', {\n          text: 'Merge cells',\n          icon: 'table-merge-cells',\n          command: 'mceTableMergeCells',\n          onSetup: selectionTargets.onSetupMergeable\n        }),\n        addMenuIfRegistered('tablesplitcells', {\n          text: 'Split cell',\n          icon: 'table-split-cells',\n          command: 'mceTableSplitCells',\n          onSetup: selectionTargets.onSetupUnmergeable\n        })\n      ];\n      if (!hasTableGrid(editor)) {\n        editor.ui.registry.addMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          onAction: cmd('mceInsertTableDialog'),\n          onSetup: onSetupEditable(editor)\n        });\n      } else {\n        editor.ui.registry.addNestedMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          getSubmenuItems: () => [{\n              type: 'fancymenuitem',\n              fancytype: 'inserttable',\n              onAction: insertTableAction\n            }],\n          onSetup: onSetupEditable(editor)\n        });\n      }\n      editor.ui.registry.addMenuItem('inserttabledialog', {\n        text: 'Insert table',\n        icon: 'table',\n        onAction: cmd('mceInsertTableDialog'),\n        onSetup: onSetupEditable(editor)\n      });\n      addMenuIfRegistered('tableprops', {\n        text: 'Table properties',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableProps'\n      });\n      addMenuIfRegistered('deletetable', {\n        text: 'Delete table',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableDelete'\n      });\n      if (contains(hasRowMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('row', {\n          type: 'nestedmenuitem',\n          text: 'Row',\n          getSubmenuItems: constant('tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter')\n        });\n      }\n      if (contains(hasColumnMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('column', {\n          type: 'nestedmenuitem',\n          text: 'Column',\n          getSubmenuItems: constant('tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter')\n        });\n      }\n      if (contains(hasCellMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('cell', {\n          type: 'nestedmenuitem',\n          text: 'Cell',\n          getSubmenuItems: constant('tablecellprops tablemergecells tablesplitcells')\n        });\n      }\n      editor.ui.registry.addContextMenu('table', {\n        update: () => {\n          selectionTargets.resetTargets();\n          return selectionTargets.targets().fold(constant(''), targets => {\n            if (name(targets.element) === 'caption') {\n              return 'tableprops deletetable';\n            } else {\n              return 'cell row column | advtablesort | tableprops deletetable';\n            }\n          });\n        }\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tableclass', {\n          icon: 'table-classes',\n          text: 'Table styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tablecellclass', {\n          icon: 'table-cell-classes',\n          text: 'Cell styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addNestedMenuItem('tablecellvalign', {\n          icon: 'vertical-align',\n          text: 'Vertical align',\n          getSubmenuItems: () => buildMenuItems(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderwidth', {\n          icon: 'border-width',\n          text: 'Border width',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderstyle', {\n          icon: 'border-style',\n          text: 'Border style',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          text: 'Background color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          text: 'Border color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleMenuIfRegistered('tablecaption', {\n        icon: 'table-caption',\n        text: 'Table caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleMenuIfRegistered('tablerowheader', {\n        text: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleMenuIfRegistered('tablecolheader', {\n        text: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n    };\n\n    const Plugin = editor => {\n      const selectionTargets = getSelectionTargets(editor);\n      register(editor);\n      registerCommands(editor);\n      addMenuItems(editor, selectionTargets);\n      addButtons(editor, selectionTargets);\n      addToolbars(editor);\n    };\n    var Plugin$1 = () => {\n      global$3.add('table', Plugin);\n    };\n\n    Plugin$1();\n\n})();\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","/**\n * TinyMCE version 7.1.0 (2024-05-08)\n */\n\n(function () {\n  'use strict';\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  const link = () => /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-.~*+=!;:'%@$(),\\/\\w]*[-~*+=%@$()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n\n  const option = name => editor => editor.options.get(name);\n  const register = editor => {\n    const registerOption = editor.options.register;\n    registerOption('autolink_pattern', {\n      processor: 'regexp',\n      default: new RegExp('^' + link().source + '$', 'i')\n    });\n    registerOption('link_default_target', { processor: 'string' });\n    registerOption('link_default_protocol', {\n      processor: 'string',\n      default: 'https'\n    });\n  };\n  const getAutoLinkPattern = option('autolink_pattern');\n  const getDefaultLinkTarget = option('link_default_target');\n  const getDefaultLinkProtocol = option('link_default_protocol');\n  const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n\n  const hasProto = (v, constructor, predicate) => {\n    var _a;\n    if (predicate(v, constructor.prototype)) {\n      return true;\n    } else {\n      return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n    }\n  };\n  const typeOf = x => {\n    const t = typeof x;\n    if (x === null) {\n      return 'null';\n    } else if (t === 'object' && Array.isArray(x)) {\n      return 'array';\n    } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n      return 'string';\n    } else {\n      return t;\n    }\n  };\n  const isType = type => value => typeOf(value) === type;\n  const eq = t => a => t === a;\n  const isString = isType('string');\n  const isUndefined = eq(undefined);\n  const isNullable = a => a === null || a === undefined;\n  const isNonNullable = a => !isNullable(a);\n\n  const not = f => t => !f(t);\n\n  const hasOwnProperty = Object.hasOwnProperty;\n  const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n  const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n  const contains = (str, substr, start = 0, end) => {\n    const idx = str.indexOf(substr, start);\n    if (idx !== -1) {\n      return isUndefined(end) ? true : idx + substr.length <= end;\n    } else {\n      return false;\n    }\n  };\n  const startsWith = (str, prefix) => {\n    return checkRange(str, prefix, 0);\n  };\n\n  const zeroWidth = '\\uFEFF';\n  const isZwsp = char => char === zeroWidth;\n  const removeZwsp = s => s.replace(/\\uFEFF/g, '');\n\n  var global = tinymce.util.Tools.resolve('tinymce.dom.TextSeeker');\n\n  const isTextNode = node => node.nodeType === 3;\n  const isElement = node => node.nodeType === 1;\n  const isBracketOrSpace = char => /^[(\\[{ \\u00a0]$/.test(char);\n  const hasProtocol = url => /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n  const isPunctuation = char => /[?!,.;:]/.test(char);\n  const findChar = (text, index, predicate) => {\n    for (let i = index - 1; i >= 0; i--) {\n      const char = text.charAt(i);\n      if (!isZwsp(char) && predicate(char)) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  const freefallRtl = (container, offset) => {\n    let tempNode = container;\n    let tempOffset = offset;\n    while (isElement(tempNode) && tempNode.childNodes[tempOffset]) {\n      tempNode = tempNode.childNodes[tempOffset];\n      tempOffset = isTextNode(tempNode) ? tempNode.data.length : tempNode.childNodes.length;\n    }\n    return {\n      container: tempNode,\n      offset: tempOffset\n    };\n  };\n\n  const parseCurrentLine = (editor, offset) => {\n    var _a;\n    const voidElements = editor.schema.getVoidElements();\n    const autoLinkPattern = getAutoLinkPattern(editor);\n    const {dom, selection} = editor;\n    if (dom.getParent(selection.getNode(), 'a[href]') !== null) {\n      return null;\n    }\n    const rng = selection.getRng();\n    const textSeeker = global(dom, node => {\n      return dom.isBlock(node) || has(voidElements, node.nodeName.toLowerCase()) || dom.getContentEditable(node) === 'false';\n    });\n    const {\n      container: endContainer,\n      offset: endOffset\n    } = freefallRtl(rng.endContainer, rng.endOffset);\n    const root = (_a = dom.getParent(endContainer, dom.isBlock)) !== null && _a !== void 0 ? _a : dom.getRoot();\n    const endSpot = textSeeker.backwards(endContainer, endOffset + offset, (node, offset) => {\n      const text = node.data;\n      const idx = findChar(text, offset, not(isBracketOrSpace));\n      return idx === -1 || isPunctuation(text[idx]) ? idx : idx + 1;\n    }, root);\n    if (!endSpot) {\n      return null;\n    }\n    let lastTextNode = endSpot.container;\n    const startSpot = textSeeker.backwards(endSpot.container, endSpot.offset, (node, offset) => {\n      lastTextNode = node;\n      const idx = findChar(node.data, offset, isBracketOrSpace);\n      return idx === -1 ? idx : idx + 1;\n    }, root);\n    const newRng = dom.createRng();\n    if (!startSpot) {\n      newRng.setStart(lastTextNode, 0);\n    } else {\n      newRng.setStart(startSpot.container, startSpot.offset);\n    }\n    newRng.setEnd(endSpot.container, endSpot.offset);\n    const rngText = removeZwsp(newRng.toString());\n    const matches = rngText.match(autoLinkPattern);\n    if (matches) {\n      let url = matches[0];\n      if (startsWith(url, 'www.')) {\n        const protocol = getDefaultLinkProtocol(editor);\n        url = protocol + '://' + url;\n      } else if (contains(url, '@') && !hasProtocol(url)) {\n        url = 'mailto:' + url;\n      }\n      return {\n        rng: newRng,\n        url\n      };\n    } else {\n      return null;\n    }\n  };\n  const convertToLink = (editor, result) => {\n    const {dom, selection} = editor;\n    const {rng, url} = result;\n    const bookmark = selection.getBookmark();\n    selection.setRng(rng);\n    const command = 'createlink';\n    const args = {\n      command,\n      ui: false,\n      value: url\n    };\n    const beforeExecEvent = editor.dispatch('BeforeExecCommand', args);\n    if (!beforeExecEvent.isDefaultPrevented()) {\n      editor.getDoc().execCommand(command, false, url);\n      editor.dispatch('ExecCommand', args);\n      const defaultLinkTarget = getDefaultLinkTarget(editor);\n      if (isString(defaultLinkTarget)) {\n        const anchor = selection.getNode();\n        dom.setAttrib(anchor, 'target', defaultLinkTarget);\n        if (defaultLinkTarget === '_blank' && !allowUnsafeLinkTarget(editor)) {\n          dom.setAttrib(anchor, 'rel', 'noopener');\n        }\n      }\n    }\n    selection.moveToBookmark(bookmark);\n    editor.nodeChanged();\n  };\n  const handleSpacebar = editor => {\n    const result = parseCurrentLine(editor, -1);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const handleBracket = handleSpacebar;\n  const handleEnter = editor => {\n    const result = parseCurrentLine(editor, 0);\n    if (isNonNullable(result)) {\n      convertToLink(editor, result);\n    }\n  };\n  const setup = editor => {\n    editor.on('keydown', e => {\n      if (e.keyCode === 13 && !e.isDefaultPrevented()) {\n        handleEnter(editor);\n      }\n    });\n    editor.on('keyup', e => {\n      if (e.keyCode === 32) {\n        handleSpacebar(editor);\n      } else if (e.keyCode === 48 && e.shiftKey || e.keyCode === 221) {\n        handleBracket(editor);\n      }\n    });\n  };\n\n  var Plugin = () => {\n    global$1.add('autolink', editor => {\n      register(editor);\n      setup(editor);\n    });\n  };\n\n  Plugin();\n\n})();\n","module.exports = \"body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}\\n\"","module.exports = \".mce-content-body .mce-item-anchor{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment[contenteditable=false]:not([data-mce-selected]),.tox-comments-visible span.tox-comment img:not([data-mce-selected]),.tox-comments-visible span.tox-comment span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment>video:not([data-mce-selected]){outline:3px solid #ffe89d}.tox-comments-visible .tox-comment[contenteditable=false][data-mce-annotation-active=true]:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] img:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true] span.mce-preview-object:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>audio:not([data-mce-selected]),.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]>video:not([data-mce-selected]){outline:3px solid #fed635}.tox-comments-visible span.tox-comment:not([data-mce-selected]){background-color:#ffe89d;outline:0}.tox-comments-visible span.tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#fed635}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\"),default}div.mce-footnotes hr{margin-inline-end:auto;margin-inline-start:0;width:25%}div.mce-footnotes li>a.mce-footnotes-backlink{text-decoration:none}@media print{sup.mce-footnote a{color:#000;text-decoration:none}div.mce-footnotes{break-inside:avoid;width:100%}div.mce-footnotes li>a.mce-footnotes-backlink{display:none}}tiny-math-block{display:flex;justify-content:center;margin:16px 0 16px 0}tiny-math-inline{display:inline-block}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-content-body .mce-mergetag{cursor:default!important;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body .mce-mergetag:hover{background-color:rgba(0,108,231,.1)}.mce-content-body .mce-mergetag-affix{background-color:rgba(0,108,231,.1);color:#006ce7}.mce-object{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}@media (forced-colors:active){.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:highlight;filter:brightness(30%);z-index:-1}}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\\\") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body details[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body img[data-mce-selected]::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc ul>li{list-style-type:none}[data-mce-block]{display:block}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"],.mce-item-table[border=\\\"0\\\"] caption,.mce-item-table[border=\\\"0\\\"] td,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"],table[style*=\\\"border-width: 0px\\\"] caption,table[style*=\\\"border-width: 0px\\\"] td,table[style*=\\\"border-width: 0px\\\"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}\\n\"","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { uuid } from './Utils';\nvar injectScriptTag = function (doc, item, handler) {\n    var _a, _b;\n    var scriptTag = doc.createElement('script');\n    scriptTag.referrerPolicy = 'origin';\n    scriptTag.type = 'application/javascript';\n    scriptTag.id = item.id;\n    scriptTag.src = item.src;\n    scriptTag.async = (_a = item.async) !== null && _a !== void 0 ? _a : false;\n    scriptTag.defer = (_b = item.defer) !== null && _b !== void 0 ? _b : false;\n    var loadHandler = function () {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src);\n    };\n    var errorHandler = function (err) {\n        scriptTag.removeEventListener('load', loadHandler);\n        scriptTag.removeEventListener('error', errorHandler);\n        handler(item.src, err);\n    };\n    scriptTag.addEventListener('load', loadHandler);\n    scriptTag.addEventListener('error', errorHandler);\n    if (doc.head) {\n        doc.head.appendChild(scriptTag);\n    }\n};\nvar createDocumentScriptLoader = function (doc) {\n    var lookup = {};\n    var scriptLoadOrErrorHandler = function (src, err) {\n        var item = lookup[src];\n        item.done = true;\n        item.error = err;\n        for (var _i = 0, _a = item.handlers; _i < _a.length; _i++) {\n            var h = _a[_i];\n            h(src, err);\n        }\n        item.handlers = [];\n    };\n    var loadScripts = function (items, success, failure) {\n        // eslint-disable-next-line no-console\n        var failureOrLog = function (err) { return failure !== undefined ? failure(err) : console.error(err); };\n        if (items.length === 0) {\n            failureOrLog(new Error('At least one script must be provided'));\n            return;\n        }\n        var successCount = 0;\n        var failed = false;\n        var loaded = function (_src, err) {\n            if (failed) {\n                return;\n            }\n            if (err) {\n                failed = true;\n                failureOrLog(err);\n            }\n            else if (++successCount === items.length) {\n                success();\n            }\n        };\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var existing = lookup[item.src];\n            if (existing) {\n                if (existing.done) {\n                    loaded(item.src, existing.error);\n                }\n                else {\n                    existing.handlers.push(loaded);\n                }\n            }\n            else {\n                // create a new entry\n                var id = uuid('tiny-');\n                lookup[item.src] = {\n                    id: id,\n                    src: item.src,\n                    done: false,\n                    error: null,\n                    handlers: [loaded],\n                };\n                injectScriptTag(doc, __assign({ id: id }, item), scriptLoadOrErrorHandler);\n            }\n        }\n    };\n    var deleteScripts = function () {\n        var _a;\n        for (var _i = 0, _b = Object.values(lookup); _i < _b.length; _i++) {\n            var item = _b[_i];\n            var scriptTag = doc.getElementById(item.id);\n            if (scriptTag != null && scriptTag.tagName === 'SCRIPT') {\n                (_a = scriptTag.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(scriptTag);\n            }\n        }\n        lookup = {};\n    };\n    var getDocument = function () { return doc; };\n    return {\n        loadScripts: loadScripts,\n        deleteScripts: deleteScripts,\n        getDocument: getDocument\n    };\n};\nvar createScriptLoader = function () {\n    var cache = [];\n    var getDocumentScriptLoader = function (doc) {\n        var loader = cache.find(function (l) { return l.getDocument() === doc; });\n        if (loader === undefined) {\n            loader = createDocumentScriptLoader(doc);\n            cache.push(loader);\n        }\n        return loader;\n    };\n    var loadList = function (doc, items, delay, success, failure) {\n        var doLoad = function () { return getDocumentScriptLoader(doc).loadScripts(items, success, failure); };\n        if (delay > 0) {\n            setTimeout(doLoad, delay);\n        }\n        else {\n            doLoad();\n        }\n    };\n    var reinitialize = function () {\n        for (var loader = cache.pop(); loader != null; loader = cache.pop()) {\n            loader.deleteScripts();\n        }\n    };\n    return {\n        loadList: loadList,\n        reinitialize: reinitialize\n    };\n};\nexport var ScriptLoader = createScriptLoader();\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader2';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers, isBeforeInputEventAvailable, isInDoc, setMode } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\n/**\n * @see {@link https://www.tiny.cloud/docs/tinymce/7/react-ref/} for the TinyMCE React Technical Reference\n */\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor(props) {\n        var _a, _b, _c;\n        var _this = _super.call(this, props) || this;\n        _this.rollbackTimer = undefined;\n        _this.valueCursor = undefined;\n        _this.rollbackChange = function () {\n            var editor = _this.editor;\n            var value = _this.props.value;\n            if (editor && value && value !== _this.currentContent) {\n                editor.undoManager.ignore(function () {\n                    editor.setContent(value);\n                    // only restore cursor on inline editors when they are focused\n                    // as otherwise it will cause a focus grab\n                    if (_this.valueCursor && (!_this.inline || editor.hasFocus())) {\n                        try {\n                            editor.selection.moveToBookmark(_this.valueCursor);\n                        }\n                        catch (e) { /* ignore */ }\n                    }\n                });\n            }\n            _this.rollbackTimer = undefined;\n        };\n        _this.handleBeforeInput = function (_evt) {\n            if (_this.props.value !== undefined && _this.props.value === _this.currentContent && _this.editor) {\n                if (!_this.inline || _this.editor.hasFocus()) {\n                    try {\n                        // getBookmark throws exceptions when the editor has not been focused\n                        // possibly only in inline mode but I'm not taking chances\n                        _this.valueCursor = _this.editor.selection.getBookmark(3);\n                    }\n                    catch (e) { /* ignore */ }\n                }\n            }\n        };\n        _this.handleBeforeInputSpecial = function (evt) {\n            if (evt.key === 'Enter' || evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleBeforeInput(evt);\n            }\n        };\n        _this.handleEditorChange = function (_evt) {\n            var editor = _this.editor;\n            if (editor && editor.initialized) {\n                var newContent = editor.getContent();\n                if (_this.props.value !== undefined && _this.props.value !== newContent && _this.props.rollback !== false) {\n                    // start a timer and revert to the value if not applied in time\n                    if (!_this.rollbackTimer) {\n                        _this.rollbackTimer = window.setTimeout(_this.rollbackChange, typeof _this.props.rollback === 'number' ? _this.props.rollback : 200);\n                    }\n                }\n                if (newContent !== _this.currentContent) {\n                    _this.currentContent = newContent;\n                    if (isFunction(_this.props.onEditorChange)) {\n                        _this.props.onEditorChange(newContent, editor);\n                    }\n                }\n            }\n        };\n        _this.handleEditorChangeSpecial = function (evt) {\n            if (evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleEditorChange(evt);\n            }\n        };\n        _this.initialise = function (attempts) {\n            var _a, _b, _c;\n            if (attempts === void 0) { attempts = 0; }\n            var target = _this.elementRef.current;\n            if (!target) {\n                return; // Editor has been unmounted\n            }\n            if (!isInDoc(target)) {\n                // this is probably someone trying to help by rendering us offscreen\n                // but we can't do that because the editor iframe must be in the document\n                // in order to have state\n                if (attempts === 0) {\n                    // we probably just need to wait for the current events to be processed\n                    setTimeout(function () { return _this.initialise(1); }, 1);\n                }\n                else if (attempts < 100) {\n                    // wait for ten seconds, polling every tenth of a second\n                    setTimeout(function () { return _this.initialise(attempts + 1); }, 100);\n                }\n                else {\n                    // give up, at this point it seems that more polling is unlikely to help\n                    throw new Error('tinymce can only be initialised when in a document');\n                }\n                return;\n            }\n            var tinymce = getTinymce(_this.view);\n            if (!tinymce) {\n                throw new Error('tinymce should have been loaded into global scope');\n            }\n            var finalInit = __assign(__assign(__assign(__assign({}, _this.props.init), { selector: undefined, target: target, readonly: _this.props.disabled, inline: _this.inline, plugins: mergePlugins((_a = _this.props.init) === null || _a === void 0 ? void 0 : _a.plugins, _this.props.plugins), toolbar: (_b = _this.props.toolbar) !== null && _b !== void 0 ? _b : (_c = _this.props.init) === null || _c === void 0 ? void 0 : _c.toolbar }), (_this.props.licenseKey ? { license_key: _this.props.licenseKey } : {})), { setup: function (editor) {\n                    _this.editor = editor;\n                    _this.bindHandlers({});\n                    // When running in inline mode the editor gets the initial value\n                    // from the innerHTML of the element it is initialized on.\n                    // However we don't want to take on the responsibility of sanitizing\n                    // to remove XSS in the react integration so we have a chicken and egg\n                    // problem... We avoid it by sneaking in a set content before the first\n                    // \"official\" setContent and using TinyMCE to do the sanitization.\n                    if (_this.inline && !isTextareaOrInput(target)) {\n                        editor.once('PostRender', function (_evt) {\n                            editor.setContent(_this.getInitialValue(), { no_events: true });\n                        });\n                    }\n                    if (_this.props.init && isFunction(_this.props.init.setup)) {\n                        _this.props.init.setup(editor);\n                    }\n                }, init_instance_callback: function (editor) {\n                    var _a, _b;\n                    // check for changes that happened since tinymce.init() was called\n                    var initialValue = _this.getInitialValue();\n                    _this.currentContent = (_a = _this.currentContent) !== null && _a !== void 0 ? _a : editor.getContent();\n                    if (_this.currentContent !== initialValue) {\n                        _this.currentContent = initialValue;\n                        // same as resetContent in TinyMCE 5\n                        editor.setContent(initialValue);\n                        editor.undoManager.clear();\n                        editor.undoManager.add();\n                        editor.setDirty(false);\n                    }\n                    var disabled = (_b = _this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(_this.editor, disabled ? 'readonly' : 'design');\n                    // ensure existing init_instance_callback is called\n                    if (_this.props.init && isFunction(_this.props.init.init_instance_callback)) {\n                        _this.props.init.init_instance_callback(editor);\n                    }\n                } });\n            if (!_this.inline) {\n                target.style.visibility = '';\n            }\n            if (isTextareaOrInput(target)) {\n                target.value = _this.getInitialValue();\n            }\n            tinymce.init(finalInit);\n        };\n        _this.id = _this.props.id || uuid('tiny-react');\n        _this.elementRef = React.createRef();\n        _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n        _this.boundHandlers = {};\n        return _this;\n    }\n    Object.defineProperty(Editor.prototype, \"view\", {\n        get: function () {\n            var _a, _b;\n            return (_b = (_a = this.elementRef.current) === null || _a === void 0 ? void 0 : _a.ownerDocument.defaultView) !== null && _b !== void 0 ? _b : window;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Editor.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var _a, _b;\n        if (this.rollbackTimer) {\n            clearTimeout(this.rollbackTimer);\n            this.rollbackTimer = undefined;\n        }\n        if (this.editor) {\n            this.bindHandlers(prevProps);\n            if (this.editor.initialized) {\n                this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent();\n                if (typeof this.props.initialValue === 'string' && this.props.initialValue !== prevProps.initialValue) {\n                    // same as resetContent in TinyMCE 5\n                    this.editor.setContent(this.props.initialValue);\n                    this.editor.undoManager.clear();\n                    this.editor.undoManager.add();\n                    this.editor.setDirty(false);\n                }\n                else if (typeof this.props.value === 'string' && this.props.value !== this.currentContent) {\n                    var localEditor_1 = this.editor;\n                    localEditor_1.undoManager.transact(function () {\n                        // inline editors grab focus when restoring selection\n                        // so we don't try to keep their selection unless they are currently focused\n                        var cursor;\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            try {\n                                // getBookmark throws exceptions when the editor has not been focused\n                                // possibly only in inline mode but I'm not taking chances\n                                cursor = localEditor_1.selection.getBookmark(3);\n                            }\n                            catch (e) { /* ignore */ }\n                        }\n                        var valueCursor = _this.valueCursor;\n                        localEditor_1.setContent(_this.props.value);\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            for (var _i = 0, _a = [cursor, valueCursor]; _i < _a.length; _i++) {\n                                var bookmark = _a[_i];\n                                if (bookmark) {\n                                    try {\n                                        localEditor_1.selection.moveToBookmark(bookmark);\n                                        _this.valueCursor = bookmark;\n                                        break;\n                                    }\n                                    catch (e) { /* ignore */ }\n                                }\n                            }\n                        }\n                    });\n                }\n                if (this.props.disabled !== prevProps.disabled) {\n                    var disabled = (_b = this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(this.editor, disabled ? 'readonly' : 'design');\n                }\n            }\n        }\n    };\n    Editor.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a, _b, _c, _d, _e;\n        if (getTinymce(this.view) !== null) {\n            this.initialise();\n        }\n        else if (Array.isArray(this.props.tinymceScriptSrc) && this.props.tinymceScriptSrc.length === 0) {\n            (_b = (_a = this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, new Error('No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array.'));\n        }\n        else if ((_c = this.elementRef.current) === null || _c === void 0 ? void 0 : _c.ownerDocument) {\n            var successHandler = function () {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoad) === null || _b === void 0 ? void 0 : _b.call(_a);\n                _this.initialise();\n            };\n            var errorHandler = function (err) {\n                var _a, _b;\n                (_b = (_a = _this.props).onScriptsLoadError) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n            };\n            ScriptLoader.loadList(this.elementRef.current.ownerDocument, this.getScriptSources(), (_e = (_d = this.props.scriptLoading) === null || _d === void 0 ? void 0 : _d.delay) !== null && _e !== void 0 ? _e : 0, successHandler, errorHandler);\n        }\n    };\n    Editor.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var editor = this.editor;\n        if (editor) {\n            editor.off(this.changeEvents(), this.handleEditorChange);\n            editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n            editor.off('keypress', this.handleEditorChangeSpecial);\n            editor.off('keydown', this.handleBeforeInputSpecial);\n            editor.off('NewBlock', this.handleEditorChange);\n            Object.keys(this.boundHandlers).forEach(function (eventName) {\n                editor.off(eventName, _this.boundHandlers[eventName]);\n            });\n            this.boundHandlers = {};\n            editor.remove();\n            this.editor = undefined;\n        }\n    };\n    Editor.prototype.render = function () {\n        return this.inline ? this.renderInline() : this.renderIframe();\n    };\n    Editor.prototype.changeEvents = function () {\n        var _a, _b, _c;\n        var isIE = (_c = (_b = (_a = getTinymce(this.view)) === null || _a === void 0 ? void 0 : _a.Env) === null || _b === void 0 ? void 0 : _b.browser) === null || _c === void 0 ? void 0 : _c.isIE();\n        return (isIE\n            ? 'change keyup compositionend setcontent CommentChange'\n            : 'change input compositionend setcontent CommentChange');\n    };\n    Editor.prototype.beforeInputEvent = function () {\n        return isBeforeInputEventAvailable() ? 'beforeinput SelectionChange' : 'SelectionChange';\n    };\n    Editor.prototype.renderInline = function () {\n        var _a = this.props.tagName, tagName = _a === void 0 ? 'div' : _a;\n        return React.createElement(tagName, {\n            ref: this.elementRef,\n            id: this.id\n        });\n    };\n    Editor.prototype.renderIframe = function () {\n        return React.createElement('textarea', {\n            ref: this.elementRef,\n            style: { visibility: 'hidden' },\n            name: this.props.textareaName,\n            id: this.id\n        });\n    };\n    Editor.prototype.getScriptSources = function () {\n        var _a, _b;\n        var async = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async;\n        var defer = (_b = this.props.scriptLoading) === null || _b === void 0 ? void 0 : _b.defer;\n        if (this.props.tinymceScriptSrc !== undefined) {\n            if (typeof this.props.tinymceScriptSrc === 'string') {\n                return [{ src: this.props.tinymceScriptSrc, async: async, defer: defer }];\n            }\n            // multiple scripts can be specified which allows for hybrid mode\n            return this.props.tinymceScriptSrc.map(function (item) {\n                if (typeof item === 'string') {\n                    // async does not make sense for multiple items unless\n                    // they are not dependent (which will be unlikely)\n                    return { src: item, async: async, defer: defer };\n                }\n                else {\n                    return item;\n                }\n            });\n        }\n        // fallback to the cloud when the tinymceScriptSrc is not specified\n        var channel = this.props.cloudChannel; // `cloudChannel` is in `defaultProps`, so it's always defined.\n        var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n        var cloudTinyJs = \"https://cdn.tiny.cloud/1/\".concat(apiKey, \"/tinymce/\").concat(channel, \"/tinymce.min.js\");\n        return [{ src: cloudTinyJs, async: async, defer: defer }];\n    };\n    Editor.prototype.getInitialValue = function () {\n        if (typeof this.props.initialValue === 'string') {\n            return this.props.initialValue;\n        }\n        else if (typeof this.props.value === 'string') {\n            return this.props.value;\n        }\n        else {\n            return '';\n        }\n    };\n    Editor.prototype.bindHandlers = function (prevProps) {\n        var _this = this;\n        if (this.editor !== undefined) {\n            // typescript chokes trying to understand the type of the lookup function\n            configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) { return _this.props[key]; });\n            // check if we should monitor editor changes\n            var isValueControlled = function (p) { return p.onEditorChange !== undefined || p.value !== undefined; };\n            var wasControlled = isValueControlled(prevProps);\n            var nowControlled = isValueControlled(this.props);\n            if (!wasControlled && nowControlled) {\n                this.editor.on(this.changeEvents(), this.handleEditorChange);\n                this.editor.on(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.on('keydown', this.handleBeforeInputSpecial);\n                this.editor.on('keyup', this.handleEditorChangeSpecial);\n                this.editor.on('NewBlock', this.handleEditorChange);\n            }\n            else if (wasControlled && !nowControlled) {\n                this.editor.off(this.changeEvents(), this.handleEditorChange);\n                this.editor.off(this.beforeInputEvent(), this.handleBeforeInput);\n                this.editor.off('keydown', this.handleBeforeInputSpecial);\n                this.editor.off('keyup', this.handleEditorChangeSpecial);\n                this.editor.off('NewBlock', this.handleEditorChange);\n            }\n        }\n    };\n    Editor.propTypes = EditorPropTypes;\n    Editor.defaultProps = {\n        cloudChannel: '7',\n    };\n    return Editor;\n}(React.Component));\nexport { Editor };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n    onActivate: PropTypes.func,\n    onAddUndo: PropTypes.func,\n    onBeforeAddUndo: PropTypes.func,\n    onBeforeExecCommand: PropTypes.func,\n    onBeforeGetContent: PropTypes.func,\n    onBeforeRenderUI: PropTypes.func,\n    onBeforeSetContent: PropTypes.func,\n    onBeforePaste: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onClearUndos: PropTypes.func,\n    onClick: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    onCommentChange: PropTypes.func,\n    onCompositionEnd: PropTypes.func,\n    onCompositionStart: PropTypes.func,\n    onCompositionUpdate: PropTypes.func,\n    onCopy: PropTypes.func,\n    onCut: PropTypes.func,\n    onDblclick: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onDirty: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragDrop: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onDragGesture: PropTypes.func,\n    onDragOver: PropTypes.func,\n    onDrop: PropTypes.func,\n    onExecCommand: PropTypes.func,\n    onFocus: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onGetContent: PropTypes.func,\n    onHide: PropTypes.func,\n    onInit: PropTypes.func,\n    onInput: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onLoadContent: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    onNodeChange: PropTypes.func,\n    onObjectResizeStart: PropTypes.func,\n    onObjectResized: PropTypes.func,\n    onObjectSelected: PropTypes.func,\n    onPaste: PropTypes.func,\n    onPostProcess: PropTypes.func,\n    onPostRender: PropTypes.func,\n    onPreProcess: PropTypes.func,\n    onProgressState: PropTypes.func,\n    onRedo: PropTypes.func,\n    onRemove: PropTypes.func,\n    onReset: PropTypes.func,\n    onSaveContent: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onSetAttrib: PropTypes.func,\n    onSetContent: PropTypes.func,\n    onShow: PropTypes.func,\n    onSubmit: PropTypes.func,\n    onUndo: PropTypes.func,\n    onVisualAid: PropTypes.func,\n    onSkinLoadError: PropTypes.func,\n    onThemeLoadError: PropTypes.func,\n    onModelLoadError: PropTypes.func,\n    onPluginLoadError: PropTypes.func,\n    onIconsLoadError: PropTypes.func,\n    onLanguageLoadError: PropTypes.func,\n    onScriptsLoad: PropTypes.func,\n    onScriptsLoadError: PropTypes.func,\n};\nexport var EditorPropTypes = __assign({ apiKey: PropTypes.string, licenseKey: PropTypes.string, id: PropTypes.string, inline: PropTypes.bool, init: PropTypes.object, initialValue: PropTypes.string, onEditorChange: PropTypes.func, value: PropTypes.string, tagName: PropTypes.string, cloudChannel: PropTypes.string, plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), disabled: PropTypes.bool, textareaName: PropTypes.string, tinymceScriptSrc: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.arrayOf(PropTypes.string),\n        PropTypes.arrayOf(PropTypes.shape({\n            src: PropTypes.string,\n            async: PropTypes.bool,\n            defer: PropTypes.bool\n        }))\n    ]), rollback: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([false])]), scriptLoading: PropTypes.shape({\n        async: PropTypes.bool,\n        defer: PropTypes.bool,\n        delay: PropTypes.number\n    }) }, eventPropTypes);\n","import { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function (x) { return typeof x === 'function'; };\nvar isEventProp = function (name) { return name in eventPropTypes; };\nvar eventAttrToEventName = function (attrName) { return attrName.substr(2); };\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n    var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n    var currEventKeys = Object.keys(props).filter(isEventProp);\n    var removedKeys = prevEventKeys.filter(function (key) { return props[key] === undefined; });\n    var addedKeys = currEventKeys.filter(function (key) { return prevProps[key] === undefined; });\n    removedKeys.forEach(function (key) {\n        // remove event handler\n        var eventName = eventAttrToEventName(key);\n        var wrappedHandler = boundHandlers[eventName];\n        off(eventName, wrappedHandler);\n        delete boundHandlers[eventName];\n    });\n    addedKeys.forEach(function (key) {\n        var wrappedHandler = adapter(handlerLookup, key);\n        var eventName = eventAttrToEventName(key);\n        boundHandlers[eventName] = wrappedHandler;\n        on(eventName, wrappedHandler);\n    });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n    return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    function (handlerLookup, key) { return function (e) { var _a; return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor); }; }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n    return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n// eslint-disable-next-line max-len\nexport var mergePlugins = function (initPlugins, inputPlugins) { return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins)); };\nexport var isBeforeInputEventAvailable = function () { return window.InputEvent && typeof InputEvent.prototype.getTargetRanges === 'function'; };\nexport var isInDoc = function (elem) {\n    if (!('isConnected' in Node.prototype)) {\n        // Fallback for IE and old Edge\n        var current = elem;\n        var parent_1 = elem.parentNode;\n        while (parent_1 != null) {\n            current = parent_1;\n            parent_1 = current.parentNode;\n        }\n        return current === elem.ownerDocument;\n    }\n    return elem.isConnected;\n};\nexport var setMode = function (editor, mode) {\n    if (editor !== undefined) {\n        if (editor.mode != null && typeof editor.mode === 'object' && typeof editor.mode.set === 'function') {\n            editor.mode.set(mode);\n        }\n        else { // support TinyMCE 4\n            editor.setMode(mode);\n        }\n    }\n};\n","var getTinymce = function (view) {\n    var global = view;\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n"],"sourceRoot":""}